{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u63a5\u53e3\u603b\u89c8","text":""},{"location":"#_2","title":"\ud83d\udcab \u4e2d\u7ee7\u63a5\u53e3","text":"<ul> <li> <p>\u804a\u5929\uff08Chat\uff09</p> <p>\u652f\u6301\u591a\u79cd\u4e3b\u6d41\u804a\u5929\u6a21\u578b\u683c\u5f0f\uff1a</p> <p>OpenAI Chat \u2192 OpenAI Responses \u2192 Anthropic Chat \u2192 Deepseek Chat \u2192 Google Chat \u2192</p> </li> <li> <p>\u5d4c\u5165\uff08Embeddings\uff09</p> <p>\u6587\u672c\u5411\u91cf\u5d4c\u5165\u670d\u52a1\uff1a</p> <p>OpenAI Embeddings \u2192</p> </li> <li> <p>\u91cd\u6392\u5e8f\uff08Rerank\uff09</p> <p>\u641c\u7d22\u7ed3\u679c\u91cd\u6392\u5e8f\u670d\u52a1\uff1a</p> <p>Jina AI Rerank \u2192 Cohere Rerank \u2192 Xinference Rerank \u2192</p> </li> <li> <p>\u5b9e\u65f6\u5bf9\u8bdd\uff08Realtime\uff09</p> <p>\u652f\u6301\u6d41\u5f0f\u5b9e\u65f6\u5bf9\u8bdd\uff1a</p> <p>OpenAI Realtime \u2192</p> </li> <li> <p>\u56fe\u50cf\uff08Image\uff09</p> <p>AI \u56fe\u50cf\u751f\u6210\u670d\u52a1\uff1a</p> <p>OpenAI Image \u2192 Midjourney Proxy \u2192</p> </li> <li> <p>\u97f3\u9891\uff08Audio\uff09</p> <p>\u8bed\u97f3\u76f8\u5173\u670d\u52a1\uff1a</p> <p>OpenAI Audio \u2192</p> </li> <li> <p>\u97f3\u4e50\uff08Music\uff09</p> <p>AI \u97f3\u4e50\u751f\u6210\u670d\u52a1\uff1a</p> <p>Suno API \u2192</p> </li> </ul>"},{"location":"#_3","title":"\ud83d\udda5\ufe0f \u524d\u7aef\u63a5\u53e3","text":"<ul> <li> <p>\u5373\u5c06\u63a8\u51fa</p> <p>\u524d\u7aef\u63a5\u53e3\u6587\u6863\u6b63\u5728\u7801\u5b57\u4e2d\uff0c\u656c\u8bf7\u671f\u5f85\uff01</p> <p>\u4e86\u89e3\u66f4\u591a \u2192</p> </li> </ul>"},{"location":"#_4","title":"\ud83d\udcd6 \u63a5\u53e3\u8bf4\u660e","text":"<p>\u63a5\u53e3\u7c7b\u578b</p> <p>API \u63d0\u4f9b\u4e24\u5927\u7c7b\u63a5\u53e3\uff1a</p> <ol> <li>\u4e2d\u7ee7\u63a5\u53e3\uff1a\u7528\u4e8e AI \u6a21\u578b\u7684\u8c03\u7528\uff0c\u652f\u6301\u591a\u79cd\u4e3b\u6d41\u6a21\u578b\u683c\u5f0f</li> <li>\u524d\u7aef\u63a5\u53e3\uff1a\u7528\u4e8e\u652f\u6301 Web \u754c\u9762\u7684\u529f\u80fd\u8c03\u7528\uff0c\u63d0\u4f9b\u5b8c\u6574\u7684\u524d\u7aef\u529f\u80fd\u652f\u6301</li> </ol> <p>\u529f\u80fd\u652f\u6301\u6807\u8bc6</p> <p>\u5728\u63a5\u53e3\u6587\u6863\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4ee5\u4e0b\u56fe\u6807\u6765\u6807\u8bc6\u529f\u80fd\u652f\u6301\u72b6\u6001\uff1a</p> <ul> <li>\u2705 \u5df2\u652f\u6301\uff1a\u8be5\u529f\u80fd\u5df2\u7ecf\u5b8c\u5168\u5b9e\u73b0\u5e76\u53ef\u4ee5\u4f7f\u7528</li> <li>\u274c \u672a\u652f\u6301\uff1a\u8be5\u529f\u80fd\u6b63\u5728\u5f00\u53d1\u4e2d\u6216\u8ba1\u5212\u5f00\u53d1</li> </ul> <p>\u5feb\u901f\u5f00\u59cb</p> <ol> <li>\u6d4f\u89c8\u4e0a\u65b9\u5361\u7247\u9009\u62e9\u9700\u8981\u4f7f\u7528\u7684\u63a5\u53e3</li> <li>\u70b9\u51fb\u5bf9\u5e94\u5361\u7247\u7684\"\u67e5\u770b\u8be6\u60c5\"\u4e86\u89e3\u5177\u4f53\u7528\u6cd5</li> <li>\u6309\u7167\u6587\u6863\u8bf4\u660e\u8fdb\u884c\u63a5\u53e3\u8c03\u7528</li> </ol>"},{"location":"anthropic-chat/","title":"Anthropic \u5bf9\u8bdd\u683c\u5f0f\uff08Messages\uff09","text":"<p>\u5b98\u65b9\u6587\u6863</p> <ul> <li>Anthropic Messages</li> <li>Anthropic Streaming Messages</li> </ul>"},{"location":"anthropic-chat/#_1","title":"\ud83d\udcdd \u7b80\u4ecb","text":"<p>\u7ed9\u5b9a\u4e00\u7ec4\u5305\u542b\u6587\u672c\u548c/\u6216\u56fe\u50cf\u5185\u5bb9\u7684\u7ed3\u6784\u5316\u8f93\u5165\u6d88\u606f\u5217\u8868\uff0c\u6a21\u578b\u5c06\u751f\u6210\u5bf9\u8bdd\u4e2d\u7684\u4e0b\u4e00\u6761\u6d88\u606f\u3002Messages API \u53ef\u7528\u4e8e\u5355\u6b21\u67e5\u8be2\u6216\u65e0\u72b6\u6001\u7684\u591a\u8f6e\u5bf9\u8bdd\u3002</p>"},{"location":"anthropic-chat/#_2","title":"\ud83d\udca1 \u8bf7\u6c42\u793a\u4f8b","text":""},{"location":"anthropic-chat/#_3","title":"\u57fa\u7840\u6587\u672c\u5bf9\u8bdd \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/messages \\\n     --header \"anthropic-version: 2023-06-01\" \\\n     --header \"content-type: application/json\" \\\n     --header \"x-api-key: $API_API_KEY\" \\\n     --data \\\n'{\n    \"model\": \"claude-3-5-sonnet-20241022\",\n    \"max_tokens\": 1024,\n    \"messages\": [\n        {\"role\": \"user\", \"content\": \"Hello, world\"}\n    ]\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b: <pre><code>{\n  \"content\": [\n    {\n      \"text\": \"Hi! My name is Claude.\",\n      \"type\": \"text\"\n    }\n  ],\n  \"id\": \"msg_013Zva2CMHLNnXjNJKqJ2EF\",\n  \"model\": \"claude-3-5-sonnet-20241022\", \n  \"role\": \"assistant\",\n  \"stop_reason\": \"end_turn\",\n  \"stop_sequence\": null,\n  \"type\": \"message\",\n  \"usage\": {\n    \"input_tokens\": 2095,\n    \"output_tokens\": 503\n  }\n}\n</code></pre></p>"},{"location":"anthropic-chat/#_4","title":"\u56fe\u50cf\u5206\u6790\u5bf9\u8bdd \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/messages \\\n     --header \"anthropic-version: 2023-06-01\" \\\n     --header \"content-type: application/json\" \\\n     --header \"x-api-key: $API_API_KEY\" \\\n     --data \\\n'{\n    \"model\": \"claude-3-5-sonnet-20241022\",\n    \"messages\": [\n        {\n            \"role\": \"user\",\n            \"content\": [\n                {\n                    \"type\": \"image\",\n                    \"source\": {\n                        \"type\": \"base64\",\n                        \"media_type\": \"image/jpeg\",\n                        \"data\": \"/9j/4AAQSkZJRg...\"\n                    }\n                },\n                {\n                    \"type\": \"text\",\n                    \"text\": \"\u8fd9\u5f20\u56fe\u7247\u91cc\u6709\u4ec0\u4e48?\"\n                }\n            ]\n        }\n    ]\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b: <pre><code>{\n  \"content\": [\n    {\n      \"text\": \"\u8fd9\u5f20\u56fe\u7247\u663e\u793a\u4e86\u4e00\u53ea\u6a59\u8272\u7684\u732b\u54aa\u6b63\u5728\u7a97\u53f0\u4e0a\u6652\u592a\u9633\u3002\u732b\u54aa\u770b\u8d77\u6765\u5f88\u653e\u677e\uff0c\u772f\u7740\u773c\u775b\u4eab\u53d7\u9633\u5149\u3002\u7a97\u5916\u53ef\u4ee5\u770b\u5230\u4e00\u4e9b\u7eff\u8272\u7684\u690d\u7269\u3002\",\n      \"type\": \"text\"\n    }\n  ],\n  \"id\": \"msg_013Zva2CMHLNnXjNJKqJ2EF\",\n  \"model\": \"claude-3-5-sonnet-20241022\",\n  \"role\": \"assistant\",\n  \"stop_reason\": \"end_turn\",\n  \"stop_sequence\": null,\n  \"type\": \"message\",\n  \"usage\": {\n    \"input_tokens\": 3050,\n    \"output_tokens\": 892\n  }\n}\n</code></pre></p>"},{"location":"anthropic-chat/#_5","title":"\u5de5\u5177\u8c03\u7528 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/messages \\\n     --header \"anthropic-version: 2023-06-01\" \\\n     --header \"content-type: application/json\" \\\n     --header \"x-api-key: $API_API_KEY\" \\\n     --data \\\n'{\n    \"model\": \"claude-3-5-sonnet-20241022\",\n    \"messages\": [\n        {\n            \"role\": \"user\", \n            \"content\": \"\u4eca\u5929\u5317\u4eac\u7684\u5929\u6c14\u600e\u4e48\u6837?\"\n        }\n    ],\n    \"tools\": [\n        {\n            \"name\": \"get_weather\",\n            \"description\": \"\u83b7\u53d6\u6307\u5b9a\u4f4d\u7f6e\u7684\u5f53\u524d\u5929\u6c14\",\n            \"input_schema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"location\": {\n                        \"type\": \"string\",\n                        \"description\": \"\u57ce\u5e02\u540d\u79f0,\u5982:\u5317\u4eac\"\n                    }\n                },\n                \"required\": [\"location\"]\n            }\n        }\n    ]\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b: <pre><code>{\n  \"content\": [\n    {\n      \"type\": \"tool_use\",\n      \"id\": \"toolu_01D7FLrfh4GYq7yT1ULFeyMV\",\n      \"name\": \"get_weather\",\n      \"input\": { \"location\": \"\u5317\u4eac\" }\n    }\n  ],\n  \"id\": \"msg_013Zva2CMHLNnXjNJKqJ2EF\",\n  \"model\": \"claude-3-5-sonnet-20241022\",\n  \"role\": \"assistant\",\n  \"stop_reason\": \"tool_use\",\n  \"stop_sequence\": null,\n  \"type\": \"message\",\n  \"usage\": {\n    \"input_tokens\": 2156,\n    \"output_tokens\": 468\n  }\n}\n</code></pre></p>"},{"location":"anthropic-chat/#_6","title":"\u6d41\u5f0f\u54cd\u5e94 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/messages \\\n     --header \"anthropic-version: 2023-06-01\" \\\n     --header \"content-type: application/json\" \\\n     --header \"x-api-key: $API_API_KEY\" \\\n     --data \\\n'{\n    \"model\": \"claude-3-5-sonnet-20241022\",\n    \"messages\": [\n        {\n            \"role\": \"user\",\n            \"content\": \"\u8bb2\u4e2a\u6545\u4e8b\"\n        }\n    ],\n    \"stream\": true\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b: <pre><code>{\n  \"type\": \"message_start\",\n  \"message\": {\n    \"id\": \"msg_013Zva2CMHLNnXjNJKqJ2EF\",\n    \"model\": \"claude-3-5-sonnet-20241022\",\n    \"role\": \"assistant\",\n    \"type\": \"message\"\n  }\n}\n{\n  \"type\": \"content_block_start\",\n  \"index\": 0,\n  \"content_block\": {\n    \"type\": \"text\"\n  }\n}\n{\n  \"type\": \"content_block_delta\",\n  \"index\": 0,\n  \"delta\": {\n    \"text\": \"\u4ece\u524d\"\n  }\n}\n{\n  \"type\": \"content_block_delta\",\n  \"index\": 0,\n  \"delta\": {\n    \"text\": \"\u6709\u4e00\u53ea\"\n  }\n}\n{\n  \"type\": \"content_block_delta\",\n  \"index\": 0,\n  \"delta\": {\n    \"text\": \"\u5c0f\u5154\u5b50...\"\n  }\n}\n{\n  \"type\": \"content_block_stop\",\n  \"index\": 0\n}\n{\n  \"type\": \"message_delta\",\n  \"delta\": {\n    \"stop_reason\": \"end_turn\",\n    \"usage\": {\n      \"input_tokens\": 2045,\n      \"output_tokens\": 628\n    }\n  }\n}\n{\n  \"type\": \"message_stop\"\n}\n</code></pre></p>"},{"location":"anthropic-chat/#_7","title":"\ud83d\udcee \u8bf7\u6c42","text":""},{"location":"anthropic-chat/#_8","title":"\u7aef\u70b9","text":"<pre><code>POST /v1/messages\n</code></pre>"},{"location":"anthropic-chat/#_9","title":"\u9274\u6743\u65b9\u6cd5","text":"<p>\u5728\u8bf7\u6c42\u5934\u4e2d\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\u8fdb\u884c API \u5bc6\u94a5\u8ba4\u8bc1\uff1a</p> <pre><code>x-api-key: $API_API_KEY\n</code></pre> <p>\u5176\u4e2d <code>$API_API_KEY</code> \u662f\u60a8\u7684 API \u5bc6\u94a5\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u63a7\u5236\u53f0\u83b7\u53d6 API \u5bc6\u94a5\uff0c\u6bcf\u4e2a\u5bc6\u94a5\u4ec5\u9650\u4e8e\u4e00\u4e2a\u5de5\u4f5c\u533a\u4f7f\u7528\u3002</p>"},{"location":"anthropic-chat/#_10","title":"\u8bf7\u6c42\u5934\u53c2\u6570","text":""},{"location":"anthropic-chat/#anthropic-beta","title":"<code>anthropic-beta</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u6307\u5b9a\u8981\u4f7f\u7528\u7684 beta \u7248\u672c\uff0c\u652f\u6301\u7528\u9017\u53f7\u5206\u9694\u7684\u5217\u8868\u5982 <code>beta1,beta2</code>\uff0c\u6216\u591a\u6b21\u6307\u5b9a\u8be5\u8bf7\u6c42\u5934\u3002</p>"},{"location":"anthropic-chat/#anthropic-version","title":"<code>anthropic-version</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u6307\u5b9a\u8981\u4f7f\u7528\u7684 API \u7248\u672c\u3002</p>"},{"location":"anthropic-chat/#_11","title":"\u8bf7\u6c42\u4f53\u53c2\u6570","text":""},{"location":"anthropic-chat/#max_tokens","title":"<code>max_tokens</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u751f\u6210\u7684\u6700\u5927 token \u6570\u91cf\u3002\u4e0d\u540c\u6a21\u578b\u6709\u4e0d\u540c\u7684\u9650\u5236\uff0c\u8be6\u89c1\u6a21\u578b\u6587\u6863\u3002\u8303\u56f4 <code>x &gt; 1</code>\u3002</p>"},{"location":"anthropic-chat/#messages","title":"<code>messages</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u8f93\u5165\u6d88\u606f\u5217\u8868\u3002\u6a21\u578b\u88ab\u8bad\u7ec3\u4e3a\u5728\u7528\u6237\u548c\u52a9\u624b\u4e4b\u95f4\u4ea4\u66ff\u8fdb\u884c\u5bf9\u8bdd\u3002\u521b\u5efa\u65b0\u6d88\u606f\u65f6\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 messages \u53c2\u6570\u6307\u5b9a\u4e4b\u524d\u7684\u5bf9\u8bdd\u8f6e\u6b21\uff0c\u6a21\u578b\u5c06\u751f\u6210\u5bf9\u8bdd\u4e2d\u7684\u4e0b\u4e00\u6761\u6d88\u606f\u3002\u8fde\u7eed\u7684\u7528\u6237\u6216\u52a9\u624b\u6d88\u606f\u4f1a\u88ab\u5408\u5e76\u4e3a\u5355\u4e2a\u8f6e\u6b21\u3002</p> <p>\u6bcf\u4e2a\u6d88\u606f\u5fc5\u987b\u5305\u542b <code>role</code> \u548c <code>content</code> \u5b57\u6bb5\u3002\u60a8\u53ef\u4ee5\u6307\u5b9a\u5355\u4e2a\u7528\u6237\u89d2\u8272\u6d88\u606f\uff0c\u6216\u5305\u542b\u591a\u4e2a\u7528\u6237\u548c\u52a9\u624b\u6d88\u606f\u3002\u5982\u679c\u6700\u540e\u4e00\u6761\u6d88\u606f\u4f7f\u7528\u52a9\u624b\u89d2\u8272\uff0c\u54cd\u5e94\u5185\u5bb9\u5c06\u76f4\u63a5\u4ece\u8be5\u6d88\u606f\u7684\u5185\u5bb9\u7ee7\u7eed\uff0c\u8fd9\u53ef\u4ee5\u7528\u6765\u7ea6\u675f\u6a21\u578b\u7684\u54cd\u5e94\u3002</p> <p>\u5355\u6761\u7528\u6237\u6d88\u606f\u793a\u4f8b: <pre><code>[{\"role\": \"user\", \"content\": \"Hello, Claude\"}]\n</code></pre></p> <p>\u591a\u8f6e\u5bf9\u8bdd\u793a\u4f8b: <pre><code>[\n  {\"role\": \"user\", \"content\": \"\u4f60\u597d\u3002\"},\n  {\"role\": \"assistant\", \"content\": \"\u4f60\u597d\uff01\u6211\u662f Claude\u3002\u6709\u4ec0\u4e48\u53ef\u4ee5\u5e2e\u4f60\u7684\u5417\uff1f\"},\n  {\"role\": \"user\", \"content\": \"\u8bf7\u7528\u7b80\u5355\u7684\u8bdd\u89e3\u91ca\u4ec0\u4e48\u662f LLM\uff1f\"}\n]\n</code></pre></p> <p>\u90e8\u5206\u586b\u5145\u7684\u54cd\u5e94\u793a\u4f8b: <pre><code>[\n  {\"role\": \"user\", \"content\": \"\u592a\u9633\u7684\u5e0c\u814a\u8bed\u540d\u5b57\u662f\u4ec0\u4e48? (A) Sol (B) Helios (C) Sun\"},\n  {\"role\": \"assistant\", \"content\": \"\u6b63\u786e\u7b54\u6848\u662f (\"}\n]\n</code></pre></p> <p>\u6bcf\u4e2a\u6d88\u606f\u7684 content \u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u6216\u5185\u5bb9\u5757\u6570\u7ec4\u3002\u4f7f\u7528\u5b57\u7b26\u4e32\u76f8\u5f53\u4e8e\u4e00\u4e2a \"text\" \u7c7b\u578b\u7684\u5185\u5bb9\u5757\u6570\u7ec4\u7684\u7b80\u5199\u3002\u4ee5\u4e0b\u4e24\u79cd\u5199\u6cd5\u7b49\u6548\uff1a</p> <pre><code>{\"role\": \"user\", \"content\": \"Hello, Claude\"}\n</code></pre> <pre><code>{\n  \"role\": \"user\", \n  \"content\": [{\"type\": \"text\", \"text\": \"Hello, Claude\"}]\n}\n</code></pre> <p>\u4ece Claude 3 \u6a21\u578b\u5f00\u59cb\uff0c\u60a8\u8fd8\u53ef\u4ee5\u53d1\u9001\u56fe\u7247\u5185\u5bb9\u5757\uff1a</p> <pre><code>{\n  \"role\": \"user\",\n  \"content\": [\n    {\n      \"type\": \"image\",\n      \"source\": {\n        \"type\": \"base64\",\n        \"media_type\": \"image/jpeg\",\n        \"data\": \"/9j/4AAQSkZJRg...\"\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"text\": \"\u8fd9\u5f20\u56fe\u7247\u91cc\u6709\u4ec0\u4e48?\"\n    }\n  ]\n}\n</code></pre> <p>\u76ee\u524d\u652f\u6301\u7684\u56fe\u7247\u683c\u5f0f\u5305\u62ec: base64, image/jpeg\u3001image/png\u3001image/gif \u548c image/webp\u3002</p>"},{"location":"anthropic-chat/#messagesrole","title":"<code>messages.role</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u679a\u4e3e\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u53ef\u9009\u503c\uff1auser, assistant</li> </ul> <p>\u6ce8\u610f\uff1aMessages API \u4e2d\u6ca1\u6709 \"system\" \u89d2\u8272\uff0c\u5982\u679c\u9700\u8981\u7cfb\u7edf\u63d0\u793a\uff0c\u8bf7\u4f7f\u7528\u9876\u5c42\u7684 system \u53c2\u6570\u3002</p>"},{"location":"anthropic-chat/#messagescontent","title":"<code>messages.content</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216\u5bf9\u8c61\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u6d88\u606f\u5185\u5bb9\u53ef\u4ee5\u662f\u4ee5\u4e0b\u51e0\u79cd\u7c7b\u578b\u4e4b\u4e00\uff1a</p>"},{"location":"anthropic-chat/#text","title":"\u6587\u672c\u5185\u5bb9 (Text)","text":"<pre><code>{\n  \"type\": \"text\",          // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"text\"\n  \"text\": \"Hello, Claude\", // \u5fc5\u9700\uff0c\u6700\u5c0f\u957f\u5ea6: 1\n  \"cache_control\": {\n    \"type\": \"ephemeral\"    // \u53ef\u9009\uff0c\u679a\u4e3e\u503c: \"ephemeral\"\n  }\n}\n</code></pre>"},{"location":"anthropic-chat/#image","title":"\u56fe\u7247\u5185\u5bb9 (Image)","text":"<pre><code>{\n  \"type\": \"image\",         // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"image\"\n  \"source\": {             // \u5fc5\u9700\n    \"type\": \"base64\",     // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"base64\"\n    \"media_type\": \"image/jpeg\", // \u5fc5\u9700\uff0c\u652f\u6301: image/jpeg, image/png, image/gif, image/webp\n    \"data\": \"/9j/4AAQSkZJRg...\"  // \u5fc5\u9700\uff0cbase64 \u7f16\u7801\u7684\u56fe\u7247\u6570\u636e\n  },\n  \"cache_control\": {\n    \"type\": \"ephemeral\"    // \u53ef\u9009\uff0c\u679a\u4e3e\u503c: \"ephemeral\"\n  }\n}\n</code></pre>"},{"location":"anthropic-chat/#tool-use","title":"\u5de5\u5177\u4f7f\u7528 (Tool Use)","text":"<pre><code>{\n  \"type\": \"tool_use\",      // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"tool_use\"\uff0c\u9ed8\u8ba4\u503c\n  \"id\": \"toolu_xyz...\",    // \u5fc5\u9700\uff0c\u5de5\u5177\u4f7f\u7528\u7684\u552f\u4e00\u6807\u8bc6\u7b26\n  \"name\": \"get_weather\",   // \u5fc5\u9700\uff0c\u5de5\u5177\u540d\u79f0\uff0c\u6700\u5c0f\u957f\u5ea6: 1\n  \"input\": {              // \u5fc5\u9700\uff0c\u5de5\u5177\u7684\u8f93\u5165\u53c2\u6570\u5bf9\u8c61\n    // \u5de5\u5177\u8f93\u5165\u53c2\u6570\uff0c\u5177\u4f53\u683c\u5f0f\u7531\u5de5\u5177\u7684 input_schema \u5b9a\u4e49\n  },\n  \"cache_control\": {\n    \"type\": \"ephemeral\"    // \u53ef\u9009\uff0c\u679a\u4e3e\u503c: \"ephemeral\"\n  }\n}\n</code></pre>"},{"location":"anthropic-chat/#tool-result","title":"\u5de5\u5177\u7ed3\u679c (Tool Result)","text":"<pre><code>{\n  \"type\": \"tool_result\",   // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"tool_result\"\n  \"tool_use_id\": \"toolu_xyz...\",  // \u5fc5\u9700\n  \"content\": \"\u7ed3\u679c\u5185\u5bb9\",   // \u5fc5\u9700\uff0c\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u6216\u5185\u5bb9\u5757\u6570\u7ec4\n  \"is_error\": false,      // \u53ef\u9009\uff0c\u5e03\u5c14\u503c\n  \"cache_control\": {\n    \"type\": \"ephemeral\"    // \u53ef\u9009\uff0c\u679a\u4e3e\u503c: \"ephemeral\"\n  }\n}\n</code></pre> <p>\u5f53 content \u4e3a\u5185\u5bb9\u5757\u6570\u7ec4\u65f6\uff0c\u6bcf\u4e2a\u5185\u5bb9\u5757\u53ef\u4ee5\u662f\u6587\u672c\u6216\u56fe\u7247\uff1a</p> <pre><code>{\n  \"type\": \"tool_result\",\n  \"tool_use_id\": \"toolu_xyz...\",\n  \"content\": [\n    {\n      \"type\": \"text\",      // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"text\"\n      \"text\": \"\u5206\u6790\u7ed3\u679c\",   // \u5fc5\u9700\uff0c\u6700\u5c0f\u957f\u5ea6: 1\n      \"cache_control\": {\n        \"type\": \"ephemeral\" // \u53ef\u9009\uff0c\u679a\u4e3e\u503c: \"ephemeral\"\n      }\n    },\n    {\n      \"type\": \"image\",     // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"image\"\n      \"source\": {         // \u5fc5\u9700\n        \"type\": \"base64\", // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"base64\"\n        \"media_type\": \"image/jpeg\",\n        \"data\": \"...\"\n      },\n      \"cache_control\": {\n        \"type\": \"ephemeral\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"anthropic-chat/#document","title":"\u6587\u6863 (Document)","text":"<pre><code>{\n  \"type\": \"document\",      // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"document\"\n  \"source\": {             // \u5fc5\u9700\n    // \u6587\u6863\u6e90\u6570\u636e\n  },\n  \"cache_control\": {\n    \"type\": \"ephemeral\"    // \u53ef\u9009\uff0c\u679a\u4e3e\u503c: \"ephemeral\"\n  }\n}\n</code></pre> <p>\u6ce8\u610f\uff1a 1. \u6bcf\u79cd\u7c7b\u578b\u90fd\u53ef\u4ee5\u5305\u542b\u53ef\u9009\u7684 <code>cache_control</code> \u5b57\u6bb5\uff0c\u7528\u4e8e\u63a7\u5236\u5185\u5bb9\u7684\u7f13\u5b58\u884c\u4e3a 2. \u6587\u672c\u5185\u5bb9\u7684\u6700\u5c0f\u957f\u5ea6\u4e3a 1 3. \u6240\u6709\u7c7b\u578b\u7684 type \u5b57\u6bb5\u90fd\u662f\u5fc5\u9700\u7684\u679a\u4e3e\u5b57\u7b26\u4e32 4. \u5de5\u5177\u7ed3\u679c\u7684 content \u5b57\u6bb5\u652f\u6301\u5b57\u7b26\u4e32\u6216\u5305\u542b\u6587\u672c/\u56fe\u7247\u7684\u5185\u5bb9\u5757\u6570\u7ec4</p>"},{"location":"anthropic-chat/#model","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u8981\u4f7f\u7528\u7684\u6a21\u578b\u540d\u79f0\uff0c\u8be6\u89c1\u6a21\u578b\u6587\u6863\u3002\u8303\u56f4 <code>1 - 256</code> \u4e2a\u5b57\u7b26\u3002</p>"},{"location":"anthropic-chat/#metadata","title":"<code>metadata</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u63cf\u8ff0\u8bf7\u6c42\u5143\u6570\u636e\u7684\u5bf9\u8c61\u3002\u5305\u542b\u4ee5\u4e0b\u53ef\u9009\u5b57\u6bb5\uff1a</p> <ul> <li><code>user_id</code>: \u4e0e\u8bf7\u6c42\u5173\u8054\u7684\u7528\u6237\u7684\u5916\u90e8\u6807\u8bc6\u7b26\u3002\u5e94\u8be5\u662f uuid\u3001\u54c8\u5e0c\u503c\u6216\u5176\u4ed6\u4e0d\u900f\u660e\u6807\u8bc6\u7b26\u3002\u4e0d\u8981\u5305\u542b\u4efb\u4f55\u6807\u8bc6\u4fe1\u606f\u5982\u59d3\u540d\u3001\u90ae\u7bb1\u6216\u7535\u8bdd\u53f7\u7801\u3002\u6700\u5927\u957f\u5ea6\uff1a256\u3002</li> </ul>"},{"location":"anthropic-chat/#stop_sequences","title":"<code>stop_sequences</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u81ea\u5b9a\u4e49\u7684\u505c\u6b62\u751f\u6210\u7684\u6587\u672c\u5e8f\u5217\u3002</p>"},{"location":"anthropic-chat/#stream","title":"<code>stream</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5e03\u5c14\u503c</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u662f\u5426\u4f7f\u7528\u670d\u52a1\u5668\u53d1\u9001\u4e8b\u4ef6 (SSE) \u6765\u589e\u91cf\u8fd4\u56de\u54cd\u5e94\u5185\u5bb9\u3002</p>"},{"location":"anthropic-chat/#system","title":"<code>system</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u7cfb\u7edf prompt\uff0c\u4e3a Claude \u63d0\u4f9b\u80cc\u666f\u548c\u6307\u4ee4\u3002\u8fd9\u662f\u4e00\u79cd\u4e3a\u6a21\u578b\u63d0\u4f9b\u4e0a\u4e0b\u6587\u548c\u7279\u5b9a\u76ee\u6807\u6216\u89d2\u8272\u7684\u65b9\u5f0f\u3002\u6ce8\u610f\u8fd9\u4e0e\u6d88\u606f\u4e2d\u7684 role \u4e0d\u540c\uff0cMessages API \u4e2d\u6ca1\u6709 \"system\" \u89d2\u8272\u3002</p>"},{"location":"anthropic-chat/#temperature","title":"<code>temperature</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u5b57</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1a1.0</li> </ul> <p>\u63a7\u5236\u751f\u6210\u968f\u673a\u6027\uff0c0.0 - 1.0\u3002\u8303\u56f4 <code>0 &lt; x &lt; 1</code>\u3002\u5efa\u8bae\u5bf9\u4e8e\u5206\u6790\u6027/\u9009\u62e9\u9898\u7c7b\u4efb\u52a1\u4f7f\u7528\u63a5\u8fd1 0.0 \u7684\u503c\uff0c\u5bf9\u4e8e\u521b\u9020\u6027\u548c\u751f\u6210\u6027\u4efb\u52a1\u4f7f\u7528\u63a5\u8fd1 1.0 \u7684\u503c\u3002</p> <p>\u6ce8\u610f\uff1a\u5373\u4f7f temperature \u8bbe\u7f6e\u4e3a 0.0\uff0c\u7ed3\u679c\u4e5f\u4e0d\u4f1a\u5b8c\u5168\u786e\u5b9a\u3002</p>"},{"location":"anthropic-chat/#thinking","title":"\ud83c\udd95 <code>thinking</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u914d\u7f6e Claude \u7684\u6269\u5c55\u601d\u8003\u529f\u80fd\u3002\u542f\u7528\u65f6\uff0c\u54cd\u5e94\u5c06\u5305\u542b\u5c55\u793a Claude \u5728\u7ed9\u51fa\u6700\u7ec8\u7b54\u6848\u524d\u7684\u601d\u8003\u8fc7\u7a0b\u7684\u5185\u5bb9\u5757\u3002\u9700\u8981\u81f3\u5c11 1,024 \u4e2a token \u7684\u9884\u7b97\uff0c\u5e76\u8ba1\u5165\u60a8\u7684 max_tokens \u9650\u5236\u3002</p> <p>\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u4ee5\u4e0b\u4e24\u79cd\u6a21\u5f0f\u4e4b\u4e00\uff1a</p>"},{"location":"anthropic-chat/#1","title":"1. \u542f\u7528\u6a21\u5f0f","text":"<pre><code>{\n  \"type\": \"enabled\",\n  \"budget_tokens\": 2048\n}\n</code></pre> <ul> <li><code>type</code>: \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"enabled\"</li> <li><code>budget_tokens</code>: \u5fc5\u9700\uff0c\u6574\u6570\u3002\u51b3\u5b9a Claude \u53ef\u4ee5\u7528\u4e8e\u5185\u90e8\u63a8\u7406\u8fc7\u7a0b\u7684 token \u6570\u91cf\u3002\u66f4\u5927\u7684\u9884\u7b97\u53ef\u4ee5\u8ba9\u6a21\u578b\u5bf9\u590d\u6742\u95ee\u9898\u8fdb\u884c\u66f4\u6df1\u5165\u7684\u5206\u6790\uff0c\u63d0\u9ad8\u54cd\u5e94\u8d28\u91cf\u3002\u5fc5\u987b \u22651024 \u4e14\u5c0f\u4e8e max_tokens\u3002\u8303\u56f4 <code>x &gt; 1024</code>\u3002</li> </ul>"},{"location":"anthropic-chat/#2","title":"2. \u7981\u7528\u6a21\u5f0f","text":"<pre><code>{\n  \"type\": \"disabled\"\n}\n</code></pre> <ul> <li><code>type</code>: \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"disabled\"</li> </ul>"},{"location":"anthropic-chat/#tool_choice","title":"<code>tool_choice</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u63a7\u5236\u6a21\u578b\u5982\u4f55\u4f7f\u7528\u63d0\u4f9b\u7684\u5de5\u5177\u3002\u53ef\u4ee5\u662f\u4ee5\u4e0b\u4e09\u79cd\u7c7b\u578b\u4e4b\u4e00\uff1a</p>"},{"location":"anthropic-chat/#1-auto","title":"1. Auto \u6a21\u5f0f (\u81ea\u52a8\u9009\u62e9)","text":"<pre><code>{\n  \"type\": \"auto\",  // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"auto\"\n  \"disable_parallel_tool_use\": false  // \u53ef\u9009\uff0c\u9ed8\u8ba4 false\u3002\u5982\u679c\u4e3a true\uff0c\u6a21\u578b\u6700\u591a\u53ea\u4f1a\u4f7f\u7528\u4e00\u4e2a\u5de5\u5177\n}\n</code></pre>"},{"location":"anthropic-chat/#2-any","title":"2. Any \u6a21\u5f0f (\u4efb\u610f\u5de5\u5177)","text":"<pre><code>{\n  \"type\": \"any\",  // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"any\"\n  \"disable_parallel_tool_use\": false  // \u53ef\u9009\uff0c\u9ed8\u8ba4 false\u3002\u5982\u679c\u4e3a true\uff0c\u6a21\u578b\u5c06\u6070\u597d\u4f7f\u7528\u4e00\u4e2a\u5de5\u5177\n}\n</code></pre>"},{"location":"anthropic-chat/#3-tool","title":"3. Tool \u6a21\u5f0f (\u6307\u5b9a\u5de5\u5177)","text":"<pre><code>{\n  \"type\": \"tool\",  // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"tool\"\n  \"name\": \"get_weather\",  // \u5fc5\u9700\uff0c\u6307\u5b9a\u8981\u4f7f\u7528\u7684\u5de5\u5177\u540d\u79f0\n  \"disable_parallel_tool_use\": false  // \u53ef\u9009\uff0c\u9ed8\u8ba4 false\u3002\u5982\u679c\u4e3a true\uff0c\u6a21\u578b\u5c06\u6070\u597d\u4f7f\u7528\u4e00\u4e2a\u5de5\u5177\n}\n</code></pre> <p>\u6ce8\u610f\uff1a 1. Auto \u6a21\u5f0f\uff1a\u6a21\u578b\u53ef\u4ee5\u81ea\u884c\u51b3\u5b9a\u662f\u5426\u4f7f\u7528\u5de5\u5177 2. Any \u6a21\u5f0f\uff1a\u6a21\u578b\u5fc5\u987b\u4f7f\u7528\u5de5\u5177\uff0c\u4f46\u53ef\u4ee5\u9009\u62e9\u4efb\u4f55\u53ef\u7528\u7684\u5de5\u5177 3. Tool \u6a21\u5f0f\uff1a\u6a21\u578b\u5fc5\u987b\u4f7f\u7528\u6307\u5b9a\u7684\u5de5\u5177</p>"},{"location":"anthropic-chat/#tools","title":"<code>tools</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u5b9a\u4e49\u6a21\u578b\u53ef\u80fd\u4f7f\u7528\u7684\u5de5\u5177\u3002\u5de5\u5177\u53ef\u4ee5\u662f\u81ea\u5b9a\u4e49\u5de5\u5177\u6216\u5185\u7f6e\u5de5\u5177\u7c7b\u578b\uff1a</p>"},{"location":"anthropic-chat/#1-tool","title":"1. \u81ea\u5b9a\u4e49\u5de5\u5177\uff08Tool\uff09","text":"<p>\u6bcf\u4e2a\u81ea\u5b9a\u4e49\u5de5\u5177\u5b9a\u4e49\u5305\u542b\uff1a</p> <ul> <li><code>type</code>: \u53ef\u9009\uff0c\u679a\u4e3e\u503c: \"custom\"</li> <li><code>name</code>: \u5de5\u5177\u540d\u79f0\uff0c\u5fc5\u9700\uff0c1-64 \u4e2a\u5b57\u7b26</li> <li><code>description</code>: \u5de5\u5177\u63cf\u8ff0\uff0c\u5efa\u8bae\u5c3d\u53ef\u80fd\u8be6\u7ec6</li> <li><code>input_schema</code>: \u5de5\u5177\u8f93\u5165\u7684 JSON Schema \u5b9a\u4e49\uff0c\u5fc5\u9700</li> <li><code>cache_control</code>: \u7f13\u5b58\u63a7\u5236\uff0c\u53ef\u9009\uff0ctype \u4e3a \"ephemeral\"</li> </ul> <p>\u793a\u4f8b\uff1a <pre><code>[\n  {\n    \"type\": \"custom\",\n    \"name\": \"get_weather\",\n    \"description\": \"\u83b7\u53d6\u6307\u5b9a\u4f4d\u7f6e\u7684\u5f53\u524d\u5929\u6c14\",\n    \"input_schema\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"location\": {\n          \"type\": \"string\",\n          \"description\": \"\u57ce\u5e02\u540d\u79f0,\u5982:\u5317\u4eac\"\n        }\n      },\n      \"required\": [\"location\"]\n    }\n  }\n]\n</code></pre></p>"},{"location":"anthropic-chat/#2-computerusetool","title":"2. \u8ba1\u7b97\u673a\u5de5\u5177 (ComputerUseTool)","text":"<pre><code>{\n  \"type\": \"computer_20241022\",  // \u5fc5\u9700\n  \"name\": \"computer\",           // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"computer\"\n  \"display_width_px\": 1024,     // \u5fc5\u9700\uff0c\u663e\u793a\u5bbd\u5ea6(\u50cf\u7d20)\n  \"display_height_px\": 768,     // \u5fc5\u9700\uff0c\u663e\u793a\u9ad8\u5ea6(\u50cf\u7d20)\n  \"display_number\": 0,          // \u53ef\u9009\uff0cX11 \u663e\u793a\u7f16\u53f7\n  \"cache_control\": {\n    \"type\": \"ephemeral\"         // \u53ef\u9009\n  }\n}\n</code></pre>"},{"location":"anthropic-chat/#3-bash-bashtool","title":"3. Bash \u5de5\u5177 (BashTool)","text":"<pre><code>{\n  \"type\": \"bash_20241022\",      // \u5fc5\u9700\n  \"name\": \"bash\",               // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"bash\"\n  \"cache_control\": {\n    \"type\": \"ephemeral\"         // \u53ef\u9009\n  }\n}\n</code></pre>"},{"location":"anthropic-chat/#4-texteditor","title":"4. \u6587\u672c\u7f16\u8f91\u5668\u5de5\u5177 (TextEditor)","text":"<pre><code>{\n  \"type\": \"text_editor_20241022\", // \u5fc5\u9700\n  \"name\": \"str_replace_editor\",   // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"str_replace_editor\"\n  \"cache_control\": {\n    \"type\": \"ephemeral\"           // \u53ef\u9009\n  }\n}\n</code></pre> <p>\u5f53\u6a21\u578b\u4f7f\u7528\u5de5\u5177\u65f6\uff0c\u4f1a\u8fd4\u56de tool_use \u5185\u5bb9\u5757\uff1a</p> <pre><code>[\n  {\n    \"type\": \"tool_use\",\n    \"id\": \"toolu_01D7FLrfh4GYq7yT1ULFeyMV\",\n    \"name\": \"get_weather\",\n    \"input\": { \"location\": \"\u5317\u4eac\" }\n  }\n]\n</code></pre> <p>\u60a8\u53ef\u4ee5\u6267\u884c\u5de5\u5177\u5e76\u901a\u8fc7 tool_result \u5185\u5bb9\u5757\u8fd4\u56de\u7ed3\u679c\uff1a</p> <pre><code>[\n  {\n    \"type\": \"tool_result\",\n    \"tool_use_id\": \"toolu_01D7FLrfh4GYq7yT1ULFeyMV\",\n    \"content\": \"\u5317\u4eac\u5f53\u524d\u5929\u6c14\u6674\u6717\uff0c\u6e29\u5ea6 25\u00b0C\"\n  }\n]\n</code></pre>"},{"location":"anthropic-chat/#top_k","title":"<code>top_k</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u8303\u56f4\uff1ax &gt; 0</li> </ul> <p>\u4ece token \u7684\u524d K \u4e2a\u9009\u9879\u4e2d\u91c7\u6837\u3002\u7528\u4e8e\u79fb\u9664\u4f4e\u6982\u7387\u7684\"\u957f\u5c3e\"\u54cd\u5e94\u3002\u5efa\u8bae\u4ec5\u5728\u9ad8\u7ea7\u7528\u4f8b\u4e2d\u4f7f\u7528\uff0c\u901a\u5e38\u53ea\u9700\u8981\u8c03\u6574 temperature\u3002</p>"},{"location":"anthropic-chat/#top_p","title":"<code>top_p</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u5b57</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u8303\u56f4\uff1a0 &lt; x &lt; 1</li> </ul> <p>\u4f7f\u7528 nucleus \u91c7\u6837\u3002\u8ba1\u7b97\u6bcf\u4e2a\u540e\u7eed token \u6309\u6982\u7387\u964d\u5e8f\u6392\u5217\u7684\u7d2f\u79ef\u5206\u5e03\uff0c\u5728\u8fbe\u5230 top_p \u6307\u5b9a\u7684\u6982\u7387\u65f6\u622a\u65ad\u3002\u5efa\u8bae\u4ec5\u8c03\u6574 temperature \u6216 top_p \u5176\u4e2d\u4e4b\u4e00\uff0c\u4e0d\u8981\u540c\u65f6\u4f7f\u7528\u3002</p>"},{"location":"anthropic-chat/#_12","title":"\ud83d\udce5 \u54cd\u5e94","text":""},{"location":"anthropic-chat/#_13","title":"\u6210\u529f\u54cd\u5e94","text":"<p>\u8fd4\u56de\u4e00\u4e2a\u804a\u5929\u8865\u5168\u5bf9\u8c61\uff0c\u5305\u542b\u4ee5\u4e0b\u5b57\u6bb5\uff1a</p>"},{"location":"anthropic-chat/#content","title":"<code>content</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u6a21\u578b\u751f\u6210\u7684\u5185\u5bb9\uff0c\u7531\u591a\u4e2a\u5185\u5bb9\u5757\u7ec4\u6210\u3002\u6bcf\u4e2a\u5185\u5bb9\u5757\u90fd\u6709\u4e00\u4e2a\u786e\u5b9a\u5176\u5f62\u72b6\u7684 type\u3002\u5185\u5bb9\u5757\u53ef\u4ee5\u662f\u4ee5\u4e0b\u7c7b\u578b\u4e4b\u4e00\uff1a</p>"},{"location":"anthropic-chat/#text_1","title":"\u6587\u672c\u5185\u5bb9\u5757 (Text)","text":"<pre><code>{\n  \"type\": \"text\",          // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"text\"\uff0c\u9ed8\u8ba4\u503c\n  \"text\": \"\u4f60\u597d\uff0c\u6211\u662f Claude\u3002\" // \u5fc5\u9700\uff0c\u6700\u5927\u957f\u5ea6: 5000000\uff0c\u6700\u5c0f\u957f\u5ea6: 1\n}\n</code></pre>"},{"location":"anthropic-chat/#tool-use_1","title":"\u5de5\u5177\u4f7f\u7528\u5185\u5bb9\u5757 (Tool Use)","text":"<pre><code>{\n  \"type\": \"tool_use\",      // \u5fc5\u9700\uff0c\u679a\u4e3e\u503c: \"tool_use\"\uff0c\u9ed8\u8ba4\u503c\n  \"id\": \"toolu_xyz...\",    // \u5fc5\u9700\uff0c\u5de5\u5177\u4f7f\u7528\u7684\u552f\u4e00\u6807\u8bc6\u7b26\n  \"name\": \"get_weather\",   // \u5fc5\u9700\uff0c\u5de5\u5177\u540d\u79f0\uff0c\u6700\u5c0f\u957f\u5ea6: 1\n  \"input\": {              // \u5fc5\u9700\uff0c\u5de5\u5177\u7684\u8f93\u5165\u53c2\u6570\u5bf9\u8c61\n    // \u5de5\u5177\u8f93\u5165\u53c2\u6570\uff0c\u5177\u4f53\u683c\u5f0f\u7531\u5de5\u5177\u7684 input_schema \u5b9a\u4e49\n  }\n}\n</code></pre> <p>\u793a\u4f8b\uff1a <pre><code>// \u6587\u672c\u5185\u5bb9\u793a\u4f8b\n[{\"type\": \"text\", \"text\": \"\u4f60\u597d\uff0c\u6211\u662f Claude\u3002\"}]\n\n// \u5de5\u5177\u4f7f\u7528\u793a\u4f8b\n[{\n  \"type\": \"tool_use\",\n  \"id\": \"toolu_xyz...\",\n  \"name\": \"get_weather\",\n  \"input\": { \"location\": \"\u5317\u4eac\" }\n}]\n\n// \u6df7\u5408\u5185\u5bb9\u793a\u4f8b\n[\n  {\"type\": \"text\", \"text\": \"\u6839\u636e\u5929\u6c14\u67e5\u8be2\u7ed3\u679c\uff1a\"},\n  {\n    \"type\": \"tool_use\",\n    \"id\": \"toolu_xyz...\",\n    \"name\": \"get_weather\",\n    \"input\": { \"location\": \"\u5317\u4eac\" }\n  }\n]\n</code></pre></p> <p>\u5982\u679c\u8bf7\u6c42\u7684\u6700\u540e\u4e00\u6761\u6d88\u606f\u662f\u52a9\u624b\u89d2\u8272\uff0c\u54cd\u5e94\u5185\u5bb9\u4f1a\u76f4\u63a5\u4ece\u8be5\u6d88\u606f\u7ee7\u7eed\u3002\u4f8b\u5982\uff1a</p> <pre><code>// \u8bf7\u6c42\n[\n  {\"role\": \"user\", \"content\": \"\u592a\u9633\u7684\u5e0c\u814a\u8bed\u540d\u5b57\u662f\u4ec0\u4e48? (A) Sol (B) Helios (C) Sun\"},\n  {\"role\": \"assistant\", \"content\": \"\u6b63\u786e\u7b54\u6848\u662f (\"}\n]\n\n// \u54cd\u5e94\n[{\"type\": \"text\", \"text\": \"B)\"}]\n</code></pre>"},{"location":"anthropic-chat/#id","title":"<code>id</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u54cd\u5e94\u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002</p>"},{"location":"anthropic-chat/#model_1","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u4f7f\u7528\u7684\u6a21\u578b\u540d\u79f0\u3002</p>"},{"location":"anthropic-chat/#role","title":"<code>role</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u679a\u4e3e\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u9ed8\u8ba4\u503c\uff1aassistant</li> </ul> <p>\u751f\u6210\u6d88\u606f\u7684\u4f1a\u8bdd\u89d2\u8272\uff0c\u59cb\u7ec8\u4e3a \"assistant\"\u3002</p>"},{"location":"anthropic-chat/#stop_reason","title":"<code>stop_reason</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u679a\u4e3e\u5b57\u7b26\u4e32\u6216 null</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u505c\u6b62\u751f\u6210\u7684\u539f\u56e0\uff0c\u53ef\u80fd\u7684\u503c\u5305\u62ec\uff1a</p> <ul> <li><code>\"end_turn\"</code>: \u6a21\u578b\u8fbe\u5230\u81ea\u7136\u505c\u6b62\u70b9</li> <li><code>\"max_tokens\"</code>: \u8d85\u8fc7\u8bf7\u6c42\u7684 max_tokens \u6216\u6a21\u578b\u7684\u6700\u5927\u9650\u5236</li> <li><code>\"stop_sequence\"</code>: \u751f\u6210\u4e86\u81ea\u5b9a\u4e49\u505c\u6b62\u5e8f\u5217\u4e4b\u4e00</li> <li><code>\"tool_use\"</code>: \u6a21\u578b\u8c03\u7528\u4e86\u4e00\u4e2a\u6216\u591a\u4e2a\u5de5\u5177</li> </ul> <p>\u5728\u975e\u6d41\u5f0f\u6a21\u5f0f\u4e0b\uff0c\u6b64\u503c\u59cb\u7ec8\u975e\u7a7a\u3002\u5728\u6d41\u5f0f\u6a21\u5f0f\u4e0b\uff0c\u5728 message_start \u4e8b\u4ef6\u4e2d\u4e3a null\uff0c\u5176\u4ed6\u60c5\u51b5\u4e0b\u975e\u7a7a\u3002</p>"},{"location":"anthropic-chat/#stop_sequence","title":"<code>stop_sequence</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216 null</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u751f\u6210\u7684\u81ea\u5b9a\u4e49\u505c\u6b62\u5e8f\u5217\u3002\u5982\u679c\u6a21\u578b\u9047\u5230\u4e86 stop_sequences \u53c2\u6570\u4e2d\u6307\u5b9a\u7684\u67d0\u4e2a\u5e8f\u5217\uff0c\u8fd9\u4e2a\u5b57\u6bb5\u5c06\u5305\u542b\u8be5\u5339\u914d\u7684\u505c\u6b62\u5e8f\u5217\u3002\u5982\u679c\u4e0d\u662f\u56e0\u4e3a\u505c\u6b62\u5e8f\u5217\u800c\u505c\u6b62\uff0c\u5219\u4e3a null\u3002</p>"},{"location":"anthropic-chat/#type","title":"<code>type</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u679a\u4e3e\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u9ed8\u8ba4\u503c\uff1amessage</li> <li>\u53ef\u9009\u503c\uff1amessage</li> </ul> <p>\u5bf9\u8c61\u7c7b\u578b\uff0c\u5bf9\u4e8e Messages \u59cb\u7ec8\u4e3a \"message\"\u3002</p>"},{"location":"anthropic-chat/#usage","title":"<code>usage</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u8ba1\u8d39\u548c\u9650\u6d41\u76f8\u5173\u7684\u4f7f\u7528\u91cf\u7edf\u8ba1\u3002\u5305\u542b\u4ee5\u4e0b\u5b57\u6bb5\uff1a</p> <ul> <li><code>input_tokens</code>: \u4f7f\u7528\u7684\u8f93\u5165 token \u6570\u91cf\uff0c\u5fc5\u9700\uff0c\u8303\u56f4 x &gt; 0</li> <li><code>output_tokens</code>: \u4f7f\u7528\u7684\u8f93\u51fa token \u6570\u91cf\uff0c\u5fc5\u9700\uff0c\u8303\u56f4 x &gt; 0</li> <li><code>cache_creation_input_tokens</code>: \u521b\u5efa\u7f13\u5b58\u6761\u76ee\u4f7f\u7528\u7684\u8f93\u5165 token \u6570\u91cf(\u5982\u679c\u9002\u7528)\uff0c\u5fc5\u9700\uff0c\u8303\u56f4 x &gt; 0</li> <li><code>cache_read_input_tokens</code>: \u4ece\u7f13\u5b58\u8bfb\u53d6\u7684\u8f93\u5165 token \u6570\u91cf(\u5982\u679c\u9002\u7528)\uff0c\u5fc5\u9700\uff0c\u8303\u56f4 x &gt; 0</li> </ul> <p>\u6ce8\u610f\uff1a\u7531\u4e8e API \u5728\u5185\u90e8\u4f1a\u5bf9\u8bf7\u6c42\u8fdb\u884c\u8f6c\u6362\u548c\u89e3\u6790\uff0ctoken \u8ba1\u6570\u53ef\u80fd\u4e0e\u8bf7\u6c42\u548c\u54cd\u5e94\u7684\u5b9e\u9645\u53ef\u89c1\u5185\u5bb9\u4e0d\u5b8c\u5168\u5bf9\u5e94\u3002\u4f8b\u5982\uff0c\u5373\u4f7f\u662f\u7a7a\u5b57\u7b26\u4e32\u54cd\u5e94\uff0coutput_tokens \u4e5f\u4f1a\u662f\u975e\u96f6\u503c\u3002</p>"},{"location":"anthropic-chat/#_14","title":"\u9519\u8bef\u54cd\u5e94","text":"<p>\u5f53\u8bf7\u6c42\u51fa\u73b0\u95ee\u9898\u65f6\uff0cAPI \u5c06\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u54cd\u5e94\u5bf9\u8c61\uff0cHTTP \u72b6\u6001\u7801\u5728 4XX-5XX \u8303\u56f4\u5185\u3002</p>"},{"location":"anthropic-chat/#_15","title":"\u5e38\u89c1\u9519\u8bef\u72b6\u6001\u7801","text":"<ul> <li><code>401 Unauthorized</code>: API \u5bc6\u94a5\u65e0\u6548\u6216\u672a\u63d0\u4f9b</li> <li><code>400 Bad Request</code>: \u8bf7\u6c42\u53c2\u6570\u65e0\u6548</li> <li><code>429 Too Many Requests</code>: \u8d85\u51fa API \u8c03\u7528\u9650\u5236</li> <li><code>500 Internal Server Error</code>: \u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef</li> </ul> <p>\u9519\u8bef\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"error\": {\n    \"type\": \"invalid_request_error\",\n    \"message\": \"Invalid API key provided\",\n    \"code\": \"invalid_api_key\"\n  }\n}\n</code></pre> <p>\u4e3b\u8981\u9519\u8bef\u7c7b\u578b:</p> <ul> <li><code>invalid_request_error</code>: \u8bf7\u6c42\u53c2\u6570\u9519\u8bef</li> <li><code>authentication_error</code>: \u8ba4\u8bc1\u76f8\u5173\u9519\u8bef</li> <li><code>rate_limit_error</code>: \u8bf7\u6c42\u9891\u7387\u8d85\u9650</li> <li><code>server_error</code>: \u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef</li> </ul>"},{"location":"cohere-rerank/","title":"Cohere \u91cd\u6392\u5e8f\u683c\u5f0f\uff08Rerank\uff09","text":"<p>\u91cd\u8981\u63d0\u793a</p> <p>cohere \u7684 Rerank \u6a21\u578b\u63a5\u53e3\u548c Jina\u7684Rerank\u6a21\u578b\u63a5\u53e3\u683c\u5f0f \u662f\u4e00\u6837\u7684\u3002</p> <p>\u5b98\u65b9\u6587\u6863</p> <p>Cohere Rerank</p>"},{"location":"cohere-rerank/#_1","title":"\ud83d\udcdd \u7b80\u4ecb","text":"<p>\u7ed9\u5b9a\u67e5\u8be2\u548c\u6587\u672c\u5217\u8868\uff0c\u91cd\u6392\u5e8fAPI\u5c06\u6839\u636e\u4e0e\u67e5\u8be2\u7684\u76f8\u5173\u6027\u5bf9\u6587\u672c\u8fdb\u884c\u6392\u5e8f\u3002\u6bcf\u4e2a\u6587\u672c\u90fd\u4f1a\u88ab\u5206\u914d\u4e00\u4e2a\u76f8\u5173\u6027\u5206\u6570\uff0c\u4ece\u800c\u4ea7\u751f\u4e00\u4e2a\u6709\u5e8f\u7684\u6570\u7ec4\u7ed3\u679c\u3002\u6b64\u529f\u80fd\u7279\u522b\u9002\u7528\u4e8e\u641c\u7d22\u548c\u68c0\u7d22\u5e94\u7528\uff0c\u53ef\u4ee5\u4f18\u5316\u6587\u6863\u7684\u6392\u5e8f\uff0c\u5e2e\u52a9\u7528\u6237\u66f4\u5feb\u627e\u5230\u76f8\u5173\u4fe1\u606f\u3002</p>"},{"location":"cohere-rerank/#_2","title":"\ud83d\udca1 \u8bf7\u6c42\u793a\u4f8b","text":""},{"location":"cohere-rerank/#_3","title":"\u57fa\u7840\u91cd\u6392\u5e8f\u8bf7\u6c42 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/rerank \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"model\": \"rerank-v3.5\",\n    \"query\": \"\u4ec0\u4e48\u662f\u7f8e\u56fd\u7684\u9996\u90fd\uff1f\",\n    \"documents\": [\n      \"\u5185\u534e\u8fbe\u5dde\u7684\u9996\u5e9c\u662f\u5361\u68ee\u57ce\u3002\",\n      \"\u5317\u9a6c\u91cc\u4e9a\u7eb3\u7fa4\u5c9b\u662f\u592a\u5e73\u6d0b\u4e0a\u7684\u4e00\u7ec4\u5c9b\u5c7f\uff0c\u5176\u9996\u90fd\u662f\u585e\u73ed\u5c9b\u3002\",\n      \"\u534e\u76db\u987f\u7279\u533a\uff08\u4e5f\u79f0\u4e3a\u534e\u76db\u987f\u6216\u7279\u533a\uff0c\u6b63\u5f0f\u540d\u79f0\u4e3a\u54e5\u4f26\u6bd4\u4e9a\u7279\u533a\uff09\u662f\u7f8e\u56fd\u7684\u9996\u90fd\u3002\",\n      \"\u82f1\u8bed\u8bed\u6cd5\u4e2d\u7684\u5927\u5199\u662f\u5728\u5355\u8bcd\u5f00\u5934\u4f7f\u7528\u5927\u5199\u5b57\u6bcd\u3002\u82f1\u8bed\u7528\u6cd5\u4e0e\u5176\u4ed6\u8bed\u8a00\u7684\u5927\u5199\u4e0d\u540c\u3002\",\n      \"\u81ea\u7f8e\u56fd\u6210\u4e3a\u4e00\u4e2a\u56fd\u5bb6\u4e4b\u524d\uff0c\u7f8e\u56fd\u5c31\u5b58\u5728\u6b7b\u5211\u3002\u622a\u81f32017\u5e74\uff0c\u572850\u4e2a\u5dde\u4e2d\u670930\u4e2a\u5dde\u6b7b\u5211\u5408\u6cd5\u3002\"\n    ],\n    \"top_n\": 3\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"results\": [\n    {\n      \"index\": 2,\n      \"relevance_score\": 0.999071\n    },\n    {\n      \"index\": 0,\n      \"relevance_score\": 0.32713068\n    },\n    {\n      \"index\": 1,\n      \"relevance_score\": 0.1867867\n    }\n  ],\n  \"id\": \"07734bd2-2473-4f07-94e1-0d9f0e6843cf\",\n  \"meta\": {\n    \"api_version\": {\n      \"version\": \"2\",\n      \"is_experimental\": false\n    },\n    \"billed_units\": {\n      \"search_units\": 1\n    }\n  }\n}\n</code></pre>"},{"location":"cohere-rerank/#_4","title":"\u4f7f\u7528\u7ed3\u6784\u5316\u6570\u636e \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/rerank \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"model\": \"rerank-v3.5\",\n    \"query\": \"\u5bfb\u627e\u9002\u5408\u521d\u5b66\u8005\u7684\u9ad8\u6027\u4ef7\u6bd4\u5355\u53cd\u76f8\u673a\",\n    \"documents\": [\n      \"\u578b\u53f7: Canon EOS 800D\\n\u4ef7\u683c: 4299\u5143\\n\u529f\u80fd: 2410\u4e07\u50cf\u7d20, \u5149\u5b66\u53d6\u666f\u5668, Wi-Fi\\n\u9002\u5408\u4eba\u7fa4: \u521d\u5b66\u8005, \u7231\u597d\u8005\",\n      \"\u578b\u53f7: Nikon D3500\\n\u4ef7\u683c: 3099\u5143\\n\u529f\u80fd: 2416\u4e07\u50cf\u7d20, \u5149\u5b66\u53d6\u666f\u5668, \u957f\u8fbe1550\u5f20\u7684\u7535\u6c60\u7eed\u822a\\n\u9002\u5408\u4eba\u7fa4: \u65b0\u624b, \u5b66\u751f\",\n      \"\u578b\u53f7: Sony A7III\\n\u4ef7\u683c: 12999\u5143\\n\u529f\u80fd: 2420\u4e07\u50cf\u7d20, \u5168\u753b\u5e45, 4K\u89c6\u9891\\n\u9002\u5408\u4eba\u7fa4: \u4e13\u4e1a\u6444\u5f71\u5e08, \u89c6\u9891\u521b\u4f5c\u8005\"\n    ],\n    \"max_tokens_per_doc\": 512\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"results\": [\n    {\n      \"index\": 1,\n      \"relevance_score\": 0.918472\n    },\n    {\n      \"index\": 0,\n      \"relevance_score\": 0.854321\n    },\n    {\n      \"index\": 2,\n      \"relevance_score\": 0.423156\n    }\n  ],\n  \"id\": \"8f734bd2-2473-4f07-94e1-0d9f0e68ebfa\",\n  \"meta\": {\n    \"api_version\": {\n      \"version\": \"2\"\n    },\n    \"billed_units\": {\n      \"search_units\": 1\n    }\n  }\n}\n</code></pre>"},{"location":"cohere-rerank/#_5","title":"\ud83d\udcee \u8bf7\u6c42","text":""},{"location":"cohere-rerank/#_6","title":"\u7aef\u70b9","text":"<pre><code>POST /v1/rerank\n</code></pre> <p>\u6839\u636e\u4e0e\u67e5\u8be2\u7684\u76f8\u5173\u6027\u5bf9\u6587\u672c\u5217\u8868\u8fdb\u884c\u91cd\u65b0\u6392\u5e8f\u3002</p>"},{"location":"cohere-rerank/#_7","title":"\u9274\u6743\u65b9\u6cd5","text":"<p>\u5728\u8bf7\u6c42\u5934\u4e2d\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\u8fdb\u884c API \u5bc6\u94a5\u8ba4\u8bc1\uff1a</p> <pre><code>Authorization: Bearer $API_API_KEY\n</code></pre> <p>\u5176\u4e2d <code>$API_API_KEY</code> \u662f\u60a8\u7684 API \u5bc6\u94a5\u3002</p>"},{"location":"cohere-rerank/#_8","title":"\u8bf7\u6c42\u5934\u53c2\u6570","text":""},{"location":"cohere-rerank/#x-client-name","title":"<code>X-Client-Name</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u8bf4\u660e\uff1a\u53d1\u8d77\u8bf7\u6c42\u7684\u9879\u76ee\u540d\u79f0\u3002</li> </ul>"},{"location":"cohere-rerank/#_9","title":"\u8bf7\u6c42\u4f53\u53c2\u6570","text":""},{"location":"cohere-rerank/#model","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u8981\u4f7f\u7528\u7684\u6a21\u578b\u6807\u8bc6\u7b26\uff0c\u4f8b\u5982 rerank-v3.5\u3002</li> </ul>"},{"location":"cohere-rerank/#query","title":"<code>query</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u641c\u7d22\u67e5\u8be2\u6587\u672c\u3002\u8fd9\u662f\u7528\u6237\u8f93\u5165\u7684\u95ee\u9898\u6216\u67e5\u8be2\u5185\u5bb9\u3002</li> </ul>"},{"location":"cohere-rerank/#documents","title":"<code>documents</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u5c06\u4e0e\u67e5\u8be2\u8fdb\u884c\u6bd4\u8f83\u7684\u6587\u672c\u5217\u8868\u3002\u4e3a\u83b7\u5f97\u6700\u4f73\u6027\u80fd\uff0c\u5efa\u8bae\u5355\u4e2a\u8bf7\u6c42\u4e2d\u4e0d\u8981\u53d1\u9001\u8d85\u8fc71,000\u4e2a\u6587\u6863\u3002</li> <li>\u6ce8\u610f\u4e8b\u9879\uff1a</li> <li>\u957f\u6587\u6863\u5c06\u81ea\u52a8\u622a\u65ad\u4e3a max_tokens_per_doc \u6307\u5b9a\u7684\u503c</li> <li>\u7ed3\u6784\u5316\u6570\u636e\u5e94\u683c\u5f0f\u5316\u4e3aYAML\u5b57\u7b26\u4e32\u4ee5\u83b7\u5f97\u6700\u4f73\u6027\u80fd</li> </ul>"},{"location":"cohere-rerank/#top_n","title":"<code>top_n</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u8bf4\u660e\uff1a\u9650\u5236\u8fd4\u56de\u7684\u91cd\u6392\u7ed3\u679c\u6570\u91cf\u3002\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u5c06\u8fd4\u56de\u6240\u6709\u91cd\u6392\u7ed3\u679c\u3002</li> </ul>"},{"location":"cohere-rerank/#max_tokens_per_doc","title":"<code>max_tokens_per_doc</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1a4096</li> <li>\u8bf4\u660e\uff1a\u957f\u6587\u6863\u5c06\u81ea\u52a8\u622a\u65ad\u4e3a\u6307\u5b9a\u7684\u4ee4\u724c\u6570\u91cf\u3002</li> </ul>"},{"location":"cohere-rerank/#_10","title":"\ud83d\udce5 \u54cd\u5e94","text":""},{"location":"cohere-rerank/#_11","title":"\u6210\u529f\u54cd\u5e94","text":"<p>\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6392\u5e8f\u540e\u6587\u6863\u5217\u8868\u7684\u5bf9\u8c61\u3002</p>"},{"location":"cohere-rerank/#results","title":"<code>results</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61\u6570\u7ec4</li> <li>\u8bf4\u660e\uff1a\u6392\u5e8f\u540e\u7684\u6587\u6863\u5217\u8868\uff0c\u6309\u76f8\u5173\u6027\u964d\u5e8f\u6392\u5217</li> <li>\u5c5e\u6027\uff1a</li> <li><code>index</code>: \u6574\u6570\uff0c\u5bf9\u5e94\u4e8e\u539f\u59cb\u6587\u6863\u5217\u8868\u4e2d\u6587\u6863\u7684\u7d22\u5f15</li> <li><code>relevance_score</code>: \u6d6e\u70b9\u6570\uff0c\u76f8\u5173\u6027\u5206\u6570\u8303\u56f4\u4e3a[0, 1]\u3002\u63a5\u8fd11\u7684\u5206\u6570\u8868\u793a\u4e0e\u67e5\u8be2\u9ad8\u5ea6\u76f8\u5173\uff0c\u63a5\u8fd10\u7684\u5206\u6570\u8868\u793a\u76f8\u5173\u6027\u8f83\u4f4e</li> </ul>"},{"location":"cohere-rerank/#id","title":"<code>id</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u8bf7\u6c42\u7684\u552f\u4e00\u6807\u8bc6\u7b26</li> </ul>"},{"location":"cohere-rerank/#meta","title":"<code>meta</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u8bf4\u660e\uff1a\u5305\u542b\u5173\u4e8e\u8bf7\u6c42\u7684\u5143\u6570\u636e</li> <li>\u5c5e\u6027\uff1a</li> <li><code>api_version</code>: \u5bf9\u8c61\uff0c\u5305\u542bAPI\u7248\u672c\u4fe1\u606f<ul> <li><code>version</code>: \u5b57\u7b26\u4e32\uff0cAPI\u7248\u672c\u53f7</li> <li><code>is_deprecated</code>: \u5e03\u5c14\u503c\uff0c\u662f\u5426\u5df2\u5f03\u7528</li> <li><code>is_experimental</code>: \u5e03\u5c14\u503c\uff0c\u662f\u5426\u4e3a\u5b9e\u9a8c\u6027\u529f\u80fd</li> </ul> </li> <li><code>billed_units</code>: \u5bf9\u8c61\uff0c\u5305\u542b\u8ba1\u8d39\u4fe1\u606f<ul> <li><code>search_units</code>: \u6d6e\u70b9\u6570\uff0c\u8ba1\u8d39\u7684\u641c\u7d22\u5355\u4f4d\u6570</li> </ul> </li> <li><code>tokens</code>: \u5bf9\u8c61\uff0c\u5305\u542b\u4ee4\u724c\u4f7f\u7528\u7edf\u8ba1<ul> <li><code>input_tokens</code>: \u6d6e\u70b9\u6570\uff0c\u4f5c\u4e3a\u6a21\u578b\u8f93\u5165\u7684\u4ee4\u724c\u6570</li> <li><code>output_tokens</code>: \u6d6e\u70b9\u6570\uff0c\u6a21\u578b\u4ea7\u751f\u7684\u4ee4\u724c\u6570</li> </ul> </li> </ul>"},{"location":"cohere-rerank/#warnings","title":"<code>warnings</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u8bf4\u660e\uff1aAPI\u8fd4\u56de\u7684\u8b66\u544a\u4fe1\u606f</li> </ul>"},{"location":"cohere-rerank/#_12","title":"\u9519\u8bef\u54cd\u5e94","text":"<p>\u5f53\u8bf7\u6c42\u51fa\u73b0\u95ee\u9898\u65f6\uff0cAPI\u53ef\u80fd\u8fd4\u56de\u4ee5\u4e0bHTTP\u72b6\u6001\u7801\u53ca\u76f8\u5e94\u9519\u8bef\uff1a</p> <ul> <li><code>400 Bad Request</code>: \u8bf7\u6c42\u683c\u5f0f\u6216\u53c2\u6570\u9519\u8bef</li> <li><code>401 Unauthorized</code>: \u672a\u63d0\u4f9b\u6709\u6548\u7684API\u5bc6\u94a5</li> <li><code>403 Forbidden</code>: \u6ca1\u6709\u6743\u9650\u8bbf\u95ee\u6b64\u8d44\u6e90</li> <li><code>404 Not Found</code>: \u8bf7\u6c42\u7684\u8d44\u6e90\u4e0d\u5b58\u5728</li> <li><code>422 Unprocessable Entity</code>: \u8bf7\u6c42\u683c\u5f0f\u6b63\u786e\u4f46\u5305\u542b\u8bed\u4e49\u9519\u8bef</li> <li><code>429 Too Many Requests</code>: \u8bf7\u6c42\u9891\u7387\u8d85\u8fc7\u9650\u5236</li> <li><code>500 Internal Server Error</code>: \u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef</li> <li><code>503 Service Unavailable</code>: \u670d\u52a1\u6682\u65f6\u4e0d\u53ef\u7528</li> </ul>"},{"location":"cohere-rerank/#_13","title":"\ud83c\udf1f \u6700\u4f73\u5b9e\u8df5","text":""},{"location":"cohere-rerank/#_14","title":"\u6587\u6863\u51c6\u5907\u5efa\u8bae","text":"<ol> <li> <p>\u6587\u6863\u957f\u5ea6\uff1a\u6bcf\u4e2a\u6587\u6863\u4fdd\u6301\u7b80\u6d01\u660e\u4e86\uff0c\u907f\u514d\u8fc7\u957f\u3002\u957f\u6587\u6863\u4f1a\u88ab\u81ea\u52a8\u622a\u65ad\u3002</p> </li> <li> <p>\u7ed3\u6784\u5316\u6570\u636e\uff1a\u5c06\u7ed3\u6784\u5316\u6570\u636e\u683c\u5f0f\u5316\u4e3aYAML\u5b57\u7b26\u4e32\uff0c\u4ee5\u83b7\u5f97\u6700\u4f73\u6027\u80fd\u3002\u4f8b\u5982\uff1a    <pre><code>title: \u4ea7\u54c1\u540d\u79f0\nprice: 9999\u5143\nfeatures:\n  - \u7279\u60271\n  - \u7279\u60272\n</code></pre></p> </li> <li> <p>\u6587\u6863\u6570\u91cf\uff1a\u5355\u6b21\u8bf7\u6c42\u4e2d\u4e0d\u8981\u8d85\u8fc71,000\u4e2a\u6587\u6863\uff0c\u4ee5\u83b7\u5f97\u6700\u4f73\u6027\u80fd\u3002</p> </li> </ol>"},{"location":"cohere-rerank/#_15","title":"\u67e5\u8be2\u4f18\u5316","text":"<ol> <li> <p>\u660e\u786e\u5177\u4f53\uff1a\u5236\u5b9a\u660e\u786e\u3001\u5177\u4f53\u7684\u67e5\u8be2\uff0c\u4ee5\u83b7\u5f97\u66f4\u51c6\u786e\u7684\u6392\u5e8f\u7ed3\u679c\u3002</p> </li> <li> <p>\u907f\u514d\u6a21\u7cca\u67e5\u8be2\uff1a\u5c3d\u91cf\u907f\u514d\u8fc7\u4e8e\u6a21\u7cca\u6216\u901a\u7528\u7684\u67e5\u8be2\u8bcd\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u76f8\u5173\u6027\u5206\u6570\u5dee\u5f02\u4e0d\u660e\u663e\u3002</p> </li> </ol>"},{"location":"cohere-rerank/#_16","title":"\u7406\u89e3\u76f8\u5173\u6027\u5206\u6570","text":"<p>\u76f8\u5173\u6027\u5206\u6570\u662f\u5f52\u4e00\u5316\u5230[0, 1]\u8303\u56f4\u5185\u7684\u503c\uff1a</p> <ul> <li> <p>\u63a5\u8fd11\u7684\u5206\u6570\u8868\u793a\u4e0e\u67e5\u8be2\u9ad8\u5ea6\u76f8\u5173</p> </li> <li> <p>\u63a5\u8fd10\u7684\u5206\u6570\u8868\u793a\u76f8\u5173\u6027\u4f4e</p> </li> </ul> <p>\u6ce8\u610f\uff1a\u4e0d\u80fd\u7b80\u5355\u5730\u8ba4\u4e3a\u5206\u65700.9\u7684\u6587\u6863\u6bd4\u5206\u65700.45\u7684\u6587\u6863\u76f8\u5173\u6027\u9ad82\u500d\u3002\u76f8\u5173\u6027\u5206\u6570\u662f\u4e00\u4e2a\u76f8\u5bf9\u6307\u6807\uff0c\u7528\u4e8e\u6392\u5e8f\uff0c\u800c\u975e\u7edd\u5bf9\u6bd4\u8f83\u3002</p>"},{"location":"coming-soon/","title":"\u5373\u5c06\u63a8\u51fa","text":""},{"location":"coming-soon/#_2","title":"\u656c\u8bf7\u671f\u5f85\uff01","text":"<p>\u524d\u7aef\u63a5\u53e3\u6587\u6863\u6b63\u5728\u79ef\u6781\u7f16\u5199\u4e2d\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u3002</p>"},{"location":"deepseek-reasoning-chat/","title":"Deepseek reasoning \u5bf9\u8bdd\u683c\u5f0f\uff08Reasoning Content\uff09","text":"<p>\u5b98\u65b9\u6587\u6863</p> <p>\u63a8\u7406\u6a21\u578b (deepseek-reasoner)</p>"},{"location":"deepseek-reasoning-chat/#_1","title":"\ud83d\udcdd \u7b80\u4ecb","text":"<p>Deepseek-reasoner \u662f DeepSeek \u63a8\u51fa\u7684\u63a8\u7406\u6a21\u578b\u3002\u5728\u8f93\u51fa\u6700\u7ec8\u56de\u7b54\u4e4b\u524d\uff0c\u6a21\u578b\u4f1a\u5148\u8f93\u51fa\u4e00\u6bb5\u601d\u7ef4\u94fe\u5185\u5bb9\uff0c\u4ee5\u63d0\u5347\u6700\u7ec8\u7b54\u6848\u7684\u51c6\u786e\u6027\u3002API \u5411\u7528\u6237\u5f00\u653e deepseek-reasoner \u601d\u7ef4\u94fe\u7684\u5185\u5bb9\uff0c\u4ee5\u4f9b\u7528\u6237\u67e5\u770b\u3001\u5c55\u793a\u3001\u84b8\u998f\u4f7f\u7528\u3002</p>"},{"location":"deepseek-reasoning-chat/#_2","title":"\ud83d\udca1 \u8bf7\u6c42\u793a\u4f8b","text":""},{"location":"deepseek-reasoning-chat/#_3","title":"\u57fa\u7840\u6587\u672c\u5bf9\u8bdd \u2705","text":"<pre><code>curl https://api.deepseek.com/v1/chat/completions \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"deepseek-reasoner\",\n    \"messages\": [\n      {\n        \"role\": \"user\",\n        \"content\": \"9.11 and 9.8, which is greater?\"\n      }\n    ],\n    \"max_tokens\": 4096\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"id\": \"chatcmpl-123\",\n  \"object\": \"chat.completion\",\n  \"created\": 1677652288,\n  \"model\": \"deepseek-reasoner\",\n  \"choices\": [{\n    \"index\": 0,\n    \"message\": {\n      \"role\": \"assistant\",\n      \"reasoning_content\": \"\u8ba9\u6211\u4e00\u6b65\u6b65\u601d\u8003:\\n1. \u6211\u4eec\u9700\u8981\u6bd4\u8f839.11\u548c9.8\u7684\u5927\u5c0f\\n2. \u4e24\u4e2a\u6570\u90fd\u662f\u5c0f\u6570,\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u6bd4\u8f83\\n3. 9.8 = 9.80\\n4. 9.11 &lt; 9.80\\n5. \u6240\u4ee59.8\u66f4\u5927\",\n      \"content\": \"9.8 is greater than 9.11.\"\n    },\n    \"finish_reason\": \"stop\"\n  }],\n  \"usage\": {\n    \"prompt_tokens\": 10,\n    \"completion_tokens\": 15,\n    \"total_tokens\": 25\n  }\n}\n</code></pre>"},{"location":"deepseek-reasoning-chat/#_4","title":"\u6d41\u5f0f\u54cd\u5e94 \u2705","text":"<pre><code>curl https://api.deepseek.com/v1/chat/completions \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"deepseek-reasoner\",\n    \"messages\": [\n      {\n        \"role\": \"user\",\n        \"content\": \"9.11 and 9.8, which is greater?\"\n      }\n    ],\n    \"stream\": true\n  }'\n</code></pre> <p>\u6d41\u5f0f\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\"id\":\"chatcmpl-123\",\"object\":\"chat.completion.chunk\",\"created\":1694268190,\"model\":\"deepseek-reasoner\",\"choices\":[{\"index\":0,\"delta\":{\"role\":\"assistant\",\"reasoning_content\":\"\u8ba9\u6211\"},\"finish_reason\":null}]}\n\n{\"id\":\"chatcmpl-123\",\"object\":\"chat.completion.chunk\",\"created\":1694268190,\"model\":\"deepseek-reasoner\",\"choices\":[{\"index\":0,\"delta\":{\"reasoning_content\":\"\u4e00\u6b65\u6b65\"},\"finish_reason\":null}]}\n\n{\"id\":\"chatcmpl-123\",\"object\":\"chat.completion.chunk\",\"created\":1694268190,\"model\":\"deepseek-reasoner\",\"choices\":[{\"index\":0,\"delta\":{\"reasoning_content\":\"\u601d\u8003:\"},\"finish_reason\":null}]}\n\n// ... \u66f4\u591a\u601d\u7ef4\u94fe\u5185\u5bb9 ...\n\n{\"id\":\"chatcmpl-123\",\"object\":\"chat.completion.chunk\",\"created\":1694268190,\"model\":\"deepseek-reasoner\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\"9.8\"},\"finish_reason\":null}]}\n\n{\"id\":\"chatcmpl-123\",\"object\":\"chat.completion.chunk\",\"created\":1694268190,\"model\":\"deepseek-reasoner\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\" is greater\"},\"finish_reason\":null}]}\n\n// ... \u66f4\u591a\u6700\u7ec8\u7b54\u6848\u5185\u5bb9 ...\n\n{\"id\":\"chatcmpl-123\",\"object\":\"chat.completion.chunk\",\"created\":1694268190,\"model\":\"deepseek-reasoner\",\"choices\":[{\"index\":0,\"delta\":{},\"finish_reason\":\"stop\"}]}\n</code></pre>"},{"location":"deepseek-reasoning-chat/#_5","title":"\ud83d\udcee \u8bf7\u6c42","text":""},{"location":"deepseek-reasoning-chat/#_6","title":"\u7aef\u70b9","text":"<pre><code>POST /v1/chat/completions\n</code></pre>"},{"location":"deepseek-reasoning-chat/#_7","title":"\u9274\u6743\u65b9\u6cd5","text":"<p>\u5728\u8bf7\u6c42\u5934\u4e2d\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\u8fdb\u884c API \u5bc6\u94a5\u8ba4\u8bc1\uff1a</p> <pre><code>Authorization: Bearer $API_API_KEY\n</code></pre> <p>\u5176\u4e2d <code>$DEEPSEEK_API_KEY</code> \u662f\u60a8\u7684 API \u5bc6\u94a5\u3002</p>"},{"location":"deepseek-reasoning-chat/#_8","title":"\u8bf7\u6c42\u4f53\u53c2\u6570","text":""},{"location":"deepseek-reasoning-chat/#messages","title":"<code>messages</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u5230\u76ee\u524d\u4e3a\u6b62\u5305\u542b\u5bf9\u8bdd\u7684\u6d88\u606f\u5217\u8868\u3002\u8bf7\u6ce8\u610f,\u5982\u679c\u60a8\u5728\u8f93\u5165\u7684 messages \u5e8f\u5217\u4e2d\u4f20\u5165\u4e86 reasoning_content\uff0cAPI \u4f1a\u8fd4\u56de 400 \u9519\u8bef\u3002</p>"},{"location":"deepseek-reasoning-chat/#model","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32  </li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u503c\uff1adeepseek-reasoner</li> </ul> <p>\u8981\u4f7f\u7528\u7684\u6a21\u578b ID\u3002\u76ee\u524d\u4ec5\u652f\u6301 deepseek-reasoner\u3002</p>"},{"location":"deepseek-reasoning-chat/#max_tokens","title":"<code>max_tokens</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1a4096</li> <li>\u6700\u5927\u503c\uff1a8192</li> </ul> <p>\u6700\u7ec8\u56de\u7b54\u7684\u6700\u5927\u957f\u5ea6\uff08\u4e0d\u542b\u601d\u7ef4\u94fe\u8f93\u51fa\uff09\u3002\u8bf7\u6ce8\u610f\uff0c\u601d\u7ef4\u94fe\u7684\u8f93\u51fa\u6700\u591a\u53ef\u4ee5\u8fbe\u5230 32K tokens\u3002</p>"},{"location":"deepseek-reasoning-chat/#stream","title":"<code>stream</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5e03\u5c14\u503c</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1afalse</li> </ul> <p>\u662f\u5426\u4f7f\u7528\u6d41\u5f0f\u54cd\u5e94\u3002</p>"},{"location":"deepseek-reasoning-chat/#_9","title":"\u4e0d\u652f\u6301\u7684\u53c2\u6570","text":"<p>\u4ee5\u4e0b\u53c2\u6570\u5f53\u524d\u4e0d\u652f\u6301:</p> <ul> <li>temperature</li> <li>top_p  </li> <li>presence_penalty</li> <li>frequency_penalty</li> <li>logprobs</li> <li>top_logprobs</li> </ul> <p>\u6ce8\u610f:\u4e3a\u4e86\u517c\u5bb9\u5df2\u6709\u8f6f\u4ef6,\u8bbe\u7f6e temperature\u3001top_p\u3001presence_penalty\u3001frequency_penalty \u53c2\u6570\u4e0d\u4f1a\u62a5\u9519,\u4f46\u4e5f\u4e0d\u4f1a\u751f\u6548\u3002\u8bbe\u7f6e logprobs\u3001top_logprobs \u4f1a\u62a5\u9519\u3002</p>"},{"location":"deepseek-reasoning-chat/#_10","title":"\u652f\u6301\u7684\u529f\u80fd","text":"<ul> <li>\u5bf9\u8bdd\u8865\u5168</li> <li>\u5bf9\u8bdd\u524d\u7f00\u7eed\u5199 (Beta)</li> </ul>"},{"location":"deepseek-reasoning-chat/#_11","title":"\u4e0d\u652f\u6301\u7684\u529f\u80fd","text":"<ul> <li>Function Call</li> <li>Json Output  </li> <li>FIM \u8865\u5168 (Beta)</li> </ul>"},{"location":"deepseek-reasoning-chat/#_12","title":"\ud83d\udce5 \u54cd\u5e94","text":""},{"location":"deepseek-reasoning-chat/#_13","title":"\u6210\u529f\u54cd\u5e94","text":"<p>\u8fd4\u56de\u4e00\u4e2a\u804a\u5929\u8865\u5168\u5bf9\u8c61\uff0c\u5982\u679c\u8bf7\u6c42\u88ab\u6d41\u5f0f\u4f20\u8f93\uff0c\u5219\u8fd4\u56de\u804a\u5929\u8865\u5168\u5757\u5bf9\u8c61\u7684\u6d41\u5f0f\u5e8f\u5217\u3002</p>"},{"location":"deepseek-reasoning-chat/#id","title":"<code>id</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u54cd\u5e94\u7684\u552f\u4e00\u6807\u8bc6\u7b26</li> </ul>"},{"location":"deepseek-reasoning-chat/#object","title":"<code>object</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32  </li> <li>\u8bf4\u660e\uff1a\u5bf9\u8c61\u7c7b\u578b,\u503c\u4e3a \"chat.completion\"</li> </ul>"},{"location":"deepseek-reasoning-chat/#created","title":"<code>created</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u8bf4\u660e\uff1a\u54cd\u5e94\u521b\u5efa\u65f6\u95f4\u6233</li> </ul>"},{"location":"deepseek-reasoning-chat/#model_1","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u4f7f\u7528\u7684\u6a21\u578b\u540d\u79f0,\u503c\u4e3a \"deepseek-reasoner\"</li> </ul>"},{"location":"deepseek-reasoning-chat/#choices","title":"<code>choices</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u8bf4\u660e\uff1a\u5305\u542b\u751f\u6210\u7684\u56de\u590d\u9009\u9879</li> <li>\u5c5e\u6027:</li> <li><code>index</code>: \u9009\u9879\u7d22\u5f15</li> <li><code>message</code>: \u5305\u542b\u89d2\u8272\u3001\u601d\u7ef4\u94fe\u5185\u5bb9\u548c\u6700\u7ec8\u56de\u7b54\u7684\u6d88\u606f\u5bf9\u8c61<ul> <li><code>role</code>: \u89d2\u8272,\u503c\u4e3a \"assistant\"</li> <li><code>reasoning_content</code>: \u601d\u7ef4\u94fe\u5185\u5bb9</li> <li><code>content</code>: \u6700\u7ec8\u56de\u7b54\u5185\u5bb9</li> </ul> </li> <li><code>finish_reason</code>: \u5b8c\u6210\u539f\u56e0</li> </ul>"},{"location":"deepseek-reasoning-chat/#usage","title":"<code>usage</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u8bf4\u660e\uff1atoken \u4f7f\u7528\u7edf\u8ba1</li> <li>\u5c5e\u6027:</li> <li><code>prompt_tokens</code>: \u63d0\u793a\u4f7f\u7528\u7684 token \u6570</li> <li><code>completion_tokens</code>: \u8865\u5168\u4f7f\u7528\u7684 token \u6570</li> <li><code>total_tokens</code>: \u603b token \u6570</li> </ul>"},{"location":"deepseek-reasoning-chat/#_14","title":"\ud83d\udcdd \u4e0a\u4e0b\u6587\u62fc\u63a5\u8bf4\u660e","text":"<p>\u5728\u6bcf\u4e00\u8f6e\u5bf9\u8bdd\u8fc7\u7a0b\u4e2d\uff0c\u6a21\u578b\u4f1a\u8f93\u51fa\u601d\u7ef4\u94fe\u5185\u5bb9\uff08reasoning_content\uff09\u548c\u6700\u7ec8\u56de\u7b54\uff08content\uff09\u3002\u5728\u4e0b\u4e00\u8f6e\u5bf9\u8bdd\u4e2d\uff0c\u4e4b\u524d\u8f6e\u8f93\u51fa\u7684\u601d\u7ef4\u94fe\u5185\u5bb9\u4e0d\u4f1a\u88ab\u62fc\u63a5\u5230\u4e0a\u4e0b\u6587\u4e2d\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p>\u6ce8\u610f</p> <p>\u5982\u679c\u60a8\u5728\u8f93\u5165\u7684 messages \u5e8f\u5217\u4e2d\uff0c\u4f20\u5165\u4e86reasoning_content\uff0cAPI \u4f1a\u8fd4\u56de 400 \u9519\u8bef\u3002\u56e0\u6b64\uff0c\u8bf7\u5220\u9664 API \u54cd\u5e94\u4e2d\u7684 reasoning_content \u5b57\u6bb5\uff0c\u518d\u53d1\u8d77 API \u8bf7\u6c42\uff0c\u65b9\u6cd5\u5982\u4e0b\u65b9\u4f7f\u7528\u793a\u4f8b\u6240\u793a\u3002</p> <p>\u4f7f\u7528\u793a\u4f8b:</p> <pre><code>from openai import OpenAI\nclient = OpenAI(api_key=\"&lt;DeepSeek API Key&gt;\", base_url=\"https://api.deepseek.com\")\n\n# \u7b2c\u4e00\u8f6e\u5bf9\u8bdd\nmessages = [{\"role\": \"user\", \"content\": \"9.11 and 9.8, which is greater?\"}]\nresponse = client.chat.completions.create(\n    model=\"deepseek-reasoner\",\n    messages=messages\n)\n\nreasoning_content = response.choices[0].message.reasoning_content\ncontent = response.choices[0].message.content\n\n# \u7b2c\u4e8c\u8f6e\u5bf9\u8bdd - \u53ea\u62fc\u63a5\u6700\u7ec8\u56de\u7b54content\nmessages.append({'role': 'assistant', 'content': content})\nmessages.append({'role': 'user', 'content': \"How many Rs are there in the word 'strawberry'?\"})\nresponse = client.chat.completions.create(\n    model=\"deepseek-reasoner\", \n    messages=messages\n)\n</code></pre> <p>\u6d41\u5f0f\u54cd\u5e94\u793a\u4f8b:</p> <pre><code># \u7b2c\u4e00\u8f6e\u5bf9\u8bdd\nmessages = [{\"role\": \"user\", \"content\": \"9.11 and 9.8, which is greater?\"}]\nresponse = client.chat.completions.create(\n    model=\"deepseek-reasoner\",\n    messages=messages,\n    stream=True\n)\n\nreasoning_content = \"\"\ncontent = \"\"\n\nfor chunk in response:\n    if chunk.choices[0].delta.reasoning_content:\n        reasoning_content += chunk.choices[0].delta.reasoning_content\n    else:\n        content += chunk.choices[0].delta.content\n\n# \u7b2c\u4e8c\u8f6e\u5bf9\u8bdd - \u53ea\u62fc\u63a5\u6700\u7ec8\u56de\u7b54content\nmessages.append({\"role\": \"assistant\", \"content\": content})\nmessages.append({'role': 'user', 'content': \"How many Rs are there in the word 'strawberry'?\"})\nresponse = client.chat.completions.create(\n    model=\"deepseek-reasoner\",\n    messages=messages,\n    stream=True\n)\n</code></pre>"},{"location":"google-gemini-chat/","title":"Google Gemini \u5bf9\u8bdd\u683c\u5f0f\uff08Generate Content\uff09","text":"<p>\u5b98\u65b9\u6587\u6863</p> <p>Google Gemini Generating content API</p>"},{"location":"google-gemini-chat/#_1","title":"\ud83d\udcdd \u7b80\u4ecb","text":"<p>Google Gemini API \u652f\u6301\u4f7f\u7528\u56fe\u7247\u3001\u97f3\u9891\u3001\u4ee3\u7801\u3001\u5de5\u5177\u7b49\u751f\u6210\u5185\u5bb9\u3002\u7ed9\u5b9a\u8f93\u5165 GenerateContentRequest \u751f\u6210\u6a21\u578b\u54cd\u5e94\u3002\u652f\u6301\u6587\u672c\u751f\u6210\u3001\u89c6\u89c9\u7406\u89e3\u3001\u97f3\u9891\u5904\u7406\u3001\u957f\u4e0a\u4e0b\u6587\u3001\u4ee3\u7801\u6267\u884c\u3001JSON \u6a21\u5f0f\u3001\u51fd\u6570\u8c03\u7528\u7b49\u591a\u79cd\u529f\u80fd\u3002</p>"},{"location":"google-gemini-chat/#_2","title":"\ud83d\udca1 \u8bf7\u6c42\u793a\u4f8b","text":""},{"location":"google-gemini-chat/#_3","title":"\u57fa\u7840\u6587\u672c\u5bf9\u8bdd \u2705","text":"<pre><code>curl \"https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/models/gemini-2.0-flash:generateContent?key=$API_API_KEY\" \\\n    -H 'Content-Type: application/json' \\\n    -X POST \\\n    -d '{\n      \"contents\": [{\n        \"parts\":[{\"text\": \"Write a story about a magic backpack.\"}]\n        }]\n       }' 2&gt; /dev/null\n</code></pre>"},{"location":"google-gemini-chat/#_4","title":"\u56fe\u50cf\u5206\u6790\u5bf9\u8bdd \u2705","text":"<pre><code># \u4f7f\u7528\u4e34\u65f6\u6587\u4ef6\u4fdd\u5b58base64\u7f16\u7801\u7684\u56fe\u7247\u6570\u636e\nTEMP_B64=$(mktemp)\ntrap 'rm -f \"$TEMP_B64\"' EXIT\nbase64 $B64FLAGS $IMG_PATH &gt; \"$TEMP_B64\"\n\n# \u4f7f\u7528\u4e34\u65f6\u6587\u4ef6\u4fdd\u5b58JSON\u8f7d\u8377\nTEMP_JSON=$(mktemp)\ntrap 'rm -f \"$TEMP_JSON\"' EXIT\n\ncat &gt; \"$TEMP_JSON\" &lt;&lt; EOF\n{\n  \"contents\": [{\n    \"parts\":[\n      {\"text\": \"Tell me about this instrument\"},\n      {\n        \"inline_data\": {\n          \"mime_type\":\"image/jpeg\",\n          \"data\": \"$(cat \"$TEMP_B64\")\"\n        }\n      }\n    ]\n  }]\n}\nEOF\n\ncurl \"https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/models/gemini-2.0-flash:generateContent?key=$API_API_KEY\" \\\n    -H 'Content-Type: application/json' \\\n    -X POST \\\n    -d \"@$TEMP_JSON\" 2&gt; /dev/null\n</code></pre>"},{"location":"google-gemini-chat/#_5","title":"\u51fd\u6570\u8c03\u7528 \u2705","text":"<pre><code>cat &gt; tools.json &lt;&lt; EOF\n{\n  \"function_declarations\": [\n    {\n      \"name\": \"enable_lights\",\n      \"description\": \"Turn on the lighting system.\"\n    },\n    {\n      \"name\": \"set_light_color\",\n      \"description\": \"Set the light color. Lights must be enabled for this to work.\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"rgb_hex\": {\n            \"type\": \"string\",\n            \"description\": \"The light color as a 6-digit hex string, e.g. ff0000 for red.\"\n          }\n        },\n        \"required\": [\n          \"rgb_hex\"\n        ]\n      }\n    },\n    {\n      \"name\": \"stop_lights\",\n      \"description\": \"Turn off the lighting system.\"\n    }\n  ]\n} \nEOF\n\ncurl \"https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/models/gemini-2.0-flash:generateContent?key=$API_API_KEY\" \\\n  -H 'Content-Type: application/json' \\\n  -d @&lt;(echo '\n  {\n    \"system_instruction\": {\n      \"parts\": {\n        \"text\": \"You are a helpful lighting system bot. You can turn lights on and off, and you can set the color. Do not perform any other tasks.\"\n      }\n    },\n    \"tools\": ['$(cat tools.json)'],\n\n    \"tool_config\": {\n      \"function_calling_config\": {\"mode\": \"auto\"}\n    },\n\n    \"contents\": {\n      \"role\": \"user\",\n      \"parts\": {\n        \"text\": \"Turn on the lights please.\"\n      }\n    }\n  }\n') 2&gt;/dev/null |sed -n '/\"content\"/,/\"finishReason\"/p'\n</code></pre>"},{"location":"google-gemini-chat/#json","title":"JSON \u6a21\u5f0f\u54cd\u5e94 \u2705","text":"<pre><code>curl \"https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/models/gemini-2.0-flash:generateContent?key=$API_API_KEY\" \\\n-H 'Content-Type: application/json' \\\n-d '{\n    \"contents\": [{\n      \"parts\":[\n        {\"text\": \"List 5 popular cookie recipes\"}\n        ]\n    }],\n    \"generationConfig\": {\n        \"response_mime_type\": \"application/json\",\n        \"response_schema\": {\n          \"type\": \"ARRAY\",\n          \"items\": {\n            \"type\": \"OBJECT\",\n            \"properties\": {\n              \"recipe_name\": {\"type\":\"STRING\"},\n            }\n          }\n        }\n    }\n}' 2&gt; /dev/null | head\n</code></pre>"},{"location":"google-gemini-chat/#_6","title":"\u97f3\u9891\u5904\u7406 \u2705","text":"<pre><code># \u4f7f\u7528File API\u4e0a\u4f20\u97f3\u9891\u6570\u636e\u5230API\u8bf7\u6c42\nMIME_TYPE=$(file -b --mime-type \"${AUDIO_PATH}\")\nNUM_BYTES=$(wc -c &lt; \"${AUDIO_PATH}\")\nDISPLAY_NAME=AUDIO\n\ntmp_header_file=upload-header.tmp\n\n# \u521d\u59cb\u53ef\u6062\u590d\u8bf7\u6c42\u5b9a\u4e49\u5143\u6570\u636e\n# \u4e0a\u4f20URL\u5728\u54cd\u5e94\u5934\u4e2d\uff0c\u5c06\u5176\u8f6c\u50a8\u5230\u6587\u4ef6\ncurl \"${BASE_URL}/upload/v1beta/files?key=${API_API_KEY}\" \\\n  -D upload-header.tmp \\\n  -H \"X-Goog-Upload-Protocol: resumable\" \\\n  -H \"X-Goog-Upload-Command: start\" \\\n  -H \"X-Goog-Upload-Header-Content-Length: ${NUM_BYTES}\" \\\n  -H \"X-Goog-Upload-Header-Content-Type: ${MIME_TYPE}\" \\\n  -H \"Content-Type: application/json\" \\\n  -d \"{'file': {'display_name': '${DISPLAY_NAME}'}}\" 2&gt; /dev/null\n\nupload_url=$(grep -i \"x-goog-upload-url: \" \"${tmp_header_file}\" | cut -d\" \" -f2 | tr -d \"\\r\")\nrm \"${tmp_header_file}\"\n\n# \u4e0a\u4f20\u5b9e\u9645\u5b57\u8282\ncurl \"${upload_url}\" \\\n  -H \"Content-Length: ${NUM_BYTES}\" \\\n  -H \"X-Goog-Upload-Offset: 0\" \\\n  -H \"X-Goog-Upload-Command: upload, finalize\" \\\n  --data-binary \"@${AUDIO_PATH}\" 2&gt; /dev/null &gt; file_info.json\n\nfile_uri=$(jq \".file.uri\" file_info.json)\necho file_uri=$file_uri\n\ncurl \"https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/models/gemini-2.0-flash:generateContent?key=$API_API_KEY\" \\\n    -H 'Content-Type: application/json' \\\n    -X POST \\\n    -d '{\n      \"contents\": [{\n        \"parts\":[\n          {\"text\": \"Please describe this file.\"},\n          {\"file_data\":{\"mime_type\": \"audio/mpeg\", \"file_uri\": '$file_uri'}}]\n        }]\n       }' 2&gt; /dev/null &gt; response.json\n\ncat response.json\necho\n\njq \".candidates[].content.parts[].text\" response.json\n</code></pre>"},{"location":"google-gemini-chat/#_7","title":"\u89c6\u9891\u5904\u7406 \u2705","text":"<pre><code># \u4f7f\u7528File API\u4e0a\u4f20\u89c6\u9891\u6570\u636e\u5230API\u8bf7\u6c42\nMIME_TYPE=$(file -b --mime-type \"${VIDEO_PATH}\")\nNUM_BYTES=$(wc -c &lt; \"${VIDEO_PATH}\")\nDISPLAY_NAME=VIDEO\n\n# \u521d\u59cb\u53ef\u6062\u590d\u8bf7\u6c42\u5b9a\u4e49\u5143\u6570\u636e\n# \u4e0a\u4f20URL\u5728\u54cd\u5e94\u5934\u4e2d\uff0c\u5c06\u5176\u8f6c\u50a8\u5230\u6587\u4ef6\ncurl \"${BASE_URL}/upload/v1beta/files?key=${API_API_KEY}\" \\\n  -D \"${tmp_header_file}\" \\\n  -H \"X-Goog-Upload-Protocol: resumable\" \\\n  -H \"X-Goog-Upload-Command: start\" \\\n  -H \"X-Goog-Upload-Header-Content-Length: ${NUM_BYTES}\" \\\n  -H \"X-Goog-Upload-Header-Content-Type: ${MIME_TYPE}\" \\\n  -H \"Content-Type: application/json\" \\\n  -d \"{'file': {'display_name': '${DISPLAY_NAME}'}}\" 2&gt; /dev/null\n\nupload_url=$(grep -i \"x-goog-upload-url: \" \"${tmp_header_file}\" | cut -d\" \" -f2 | tr -d \"\\r\")\nrm \"${tmp_header_file}\"\n\n# \u4e0a\u4f20\u5b9e\u9645\u5b57\u8282\ncurl \"${upload_url}\" \\\n  -H \"Content-Length: ${NUM_BYTES}\" \\\n  -H \"X-Goog-Upload-Offset: 0\" \\\n  -H \"X-Goog-Upload-Command: upload, finalize\" \\\n  --data-binary \"@${VIDEO_PATH}\" 2&gt; /dev/null &gt; file_info.json\n\nfile_uri=$(jq \".file.uri\" file_info.json)\necho file_uri=$file_uri\n\nstate=$(jq \".file.state\" file_info.json)\necho state=$state\n\nname=$(jq \".file.name\" file_info.json)\necho name=$name\n\nwhile [[ \"($state)\" = *\"PROCESSING\"* ]];\ndo\n  echo \"Processing video...\"\n  sleep 5\n  # \u83b7\u53d6\u611f\u5174\u8da3\u7684\u6587\u4ef6\u4ee5\u68c0\u67e5\u72b6\u6001\n  curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/files/$name &gt; file_info.json\n  state=$(jq \".file.state\" file_info.json)\ndone\n\ncurl \"https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/models/gemini-2.0-flash:generateContent?key=$API_API_KEY\" \\\n    -H 'Content-Type: application/json' \\\n    -X POST \\\n    -d '{\n      \"contents\": [{\n        \"parts\":[\n          {\"text\": \"Transcribe the audio from this video, giving timestamps for salient events in the video. Also provide visual descriptions.\"},\n          {\"file_data\":{\"mime_type\": \"video/mp4\", \"file_uri\": '$file_uri'}}]\n        }]\n       }' 2&gt; /dev/null &gt; response.json\n\ncat response.json\necho\n\njq \".candidates[].content.parts[].text\" response.json\n</code></pre>"},{"location":"google-gemini-chat/#pdf","title":"PDF\u5904\u7406 \u2705","text":"<pre><code>MIME_TYPE=$(file -b --mime-type \"${PDF_PATH}\")\nNUM_BYTES=$(wc -c &lt; \"${PDF_PATH}\")\nDISPLAY_NAME=TEXT\n\necho $MIME_TYPE\ntmp_header_file=upload-header.tmp\n\n# \u521d\u59cb\u53ef\u6062\u590d\u8bf7\u6c42\u5b9a\u4e49\u5143\u6570\u636e\n# \u4e0a\u4f20URL\u5728\u54cd\u5e94\u5934\u4e2d\uff0c\u5c06\u5176\u8f6c\u50a8\u5230\u6587\u4ef6\ncurl \"${BASE_URL}/upload/v1beta/files?key=${API_API_KEY}\" \\\n  -D upload-header.tmp \\\n  -H \"X-Goog-Upload-Protocol: resumable\" \\\n  -H \"X-Goog-Upload-Command: start\" \\\n  -H \"X-Goog-Upload-Header-Content-Length: ${NUM_BYTES}\" \\\n  -H \"X-Goog-Upload-Header-Content-Type: ${MIME_TYPE}\" \\\n  -H \"Content-Type: application/json\" \\\n  -d \"{'file': {'display_name': '${DISPLAY_NAME}'}}\" 2&gt; /dev/null\n\nupload_url=$(grep -i \"x-goog-upload-url: \" \"${tmp_header_file}\" | cut -d\" \" -f2 | tr -d \"\\r\")\nrm \"${tmp_header_file}\"\n\n# \u4e0a\u4f20\u5b9e\u9645\u5b57\u8282\ncurl \"${upload_url}\" \\\n  -H \"Content-Length: ${NUM_BYTES}\" \\\n  -H \"X-Goog-Upload-Offset: 0\" \\\n  -H \"X-Goog-Upload-Command: upload, finalize\" \\\n  --data-binary \"@${PDF_PATH}\" 2&gt; /dev/null &gt; file_info.json\n\nfile_uri=$(jq \".file.uri\" file_info.json)\necho file_uri=$file_uri\n\n# \u73b0\u5728\u4f7f\u7528\u8be5\u6587\u4ef6\u751f\u6210\u5185\u5bb9\ncurl \"https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/models/gemini-2.0-flash:generateContent?key=$API_API_KEY\" \\\n    -H 'Content-Type: application/json' \\\n    -X POST \\\n    -d '{\n      \"contents\": [{\n        \"parts\":[\n          {\"text\": \"Can you add a few more lines to this poem?\"},\n          {\"file_data\":{\"mime_type\": \"application/pdf\", \"file_uri\": '$file_uri'}}]\n        }]\n       }' 2&gt; /dev/null &gt; response.json\n\ncat response.json\necho\n\njq \".candidates[].content.parts[].text\" response.json\n</code></pre>"},{"location":"google-gemini-chat/#_8","title":"\u804a\u5929\u5bf9\u8bdd \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/models/gemini-2.0-flash:generateContent?key=$API_API_KEY \\\n    -H 'Content-Type: application/json' \\\n    -X POST \\\n    -d '{\n      \"contents\": [\n        {\"role\":\"user\",\n         \"parts\":[{\n           \"text\": \"Hello\"}]},\n        {\"role\": \"model\",\n         \"parts\":[{\n           \"text\": \"Great to meet you. What would you like to know?\"}]},\n        {\"role\":\"user\",\n         \"parts\":[{\n           \"text\": \"I have two dogs in my house. How many paws are in my house?\"}]},\n      ]\n    }' 2&gt; /dev/null | grep \"text\"\n</code></pre>"},{"location":"google-gemini-chat/#_9","title":"\u6d41\u5f0f\u54cd\u5e94 \u2705","text":"<pre><code>curl \"https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/models/gemini-2.0-flash:streamGenerateContent?alt=sse&amp;key=$API_API_KEY\" \\\n    -H 'Content-Type: application/json' \\\n    --no-buffer \\\n    -d '{\n      \"contents\": [{\n        \"parts\": [{\"text\": \"\u5199\u4e00\u4e2a\u5173\u4e8e\u9b54\u6cd5\u80cc\u5305\u7684\u6545\u4e8b\"}]\n      }]\n    }'\n</code></pre>"},{"location":"google-gemini-chat/#_10","title":"\u4ee3\u7801\u6267\u884c \u2705","text":"<pre><code>curl \"https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/models/gemini-2.0-flash:generateContent?key=$API_API_KEY\" \\\n    -H 'Content-Type: application/json' \\\n    -X POST \\\n    -d '{\n      \"contents\": [{\n        \"parts\": [{\"text\": \"\u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u7b2c10\u9879\"}]\n      }],\n      \"tools\": [{\n        \"codeExecution\": {}\n      }]\n    }'\n</code></pre>"},{"location":"google-gemini-chat/#_11","title":"\u751f\u6210\u914d\u7f6e \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/models/gemini-2.0-flash:generateContent?key=$API_API_KEY \\\n    -H 'Content-Type: application/json' \\\n    -X POST \\\n    -d '{\n        \"contents\": [{\n            \"parts\":[\n                {\"text\": \"Explain how AI works\"}\n            ]\n        }],\n        \"generationConfig\": {\n            \"stopSequences\": [\n                \"Title\"\n            ],\n            \"temperature\": 1.0,\n            \"maxOutputTokens\": 800,\n            \"topP\": 0.8,\n            \"topK\": 10\n        }\n    }'  2&gt; /dev/null | grep \"text\"\n</code></pre>"},{"location":"google-gemini-chat/#_12","title":"\u5b89\u5168\u8bbe\u7f6e \u2705","text":"<pre><code>echo '{\n    \"safetySettings\": [\n        {\"category\": \"HARM_CATEGORY_HARASSMENT\", \"threshold\": \"BLOCK_ONLY_HIGH\"},\n        {\"category\": \"HARM_CATEGORY_HATE_SPEECH\", \"threshold\": \"BLOCK_MEDIUM_AND_ABOVE\"}\n    ],\n    \"contents\": [{\n        \"parts\":[{\n            \"text\": \"'I support Martians Soccer Club and I think Jupiterians Football Club sucks! Write a ironic phrase about them.'\"}]}]}' &gt; request.json\n\ncurl \"https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/models/gemini-2.0-flash:generateContent?key=$API_API_KEY\" \\\n    -H 'Content-Type: application/json' \\\n    -X POST \\\n    -d @request.json 2&gt; /dev/null\n</code></pre>"},{"location":"google-gemini-chat/#_13","title":"\u7cfb\u7edf\u6307\u4ee4 \u2705","text":"<pre><code>curl \"https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/models/gemini-2.0-flash:generateContent?key=$API_API_KEY\" \\\n-H 'Content-Type: application/json' \\\n-d '{ \"system_instruction\": {\n    \"parts\":\n      { \"text\": \"You are a cat. Your name is Neko.\"}},\n    \"contents\": {\n      \"parts\": {\n        \"text\": \"Hello there\"}}}'\n</code></pre>"},{"location":"google-gemini-chat/#_14","title":"\ud83d\udcee \u8bf7\u6c42","text":""},{"location":"google-gemini-chat/#_15","title":"\u7aef\u70b9","text":""},{"location":"google-gemini-chat/#_16","title":"\u751f\u6210\u5185\u5bb9","text":"<pre><code>POST https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/{model=models/*}:generateContent\n</code></pre>"},{"location":"google-gemini-chat/#_17","title":"\u6d41\u5f0f\u751f\u6210\u5185\u5bb9","text":"<pre><code>POST https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1beta/{model=models/*}:streamGenerateContent\n</code></pre>"},{"location":"google-gemini-chat/#_18","title":"\u9274\u6743\u65b9\u6cd5","text":"<p>\u5728\u8bf7\u6c42URL\u53c2\u6570\u4e2d\u5305\u542bAPI\u5bc6\u94a5\uff1a</p> <pre><code>?key=$API_API_KEY\n</code></pre> <p>\u5176\u4e2d <code>$API_API_KEY</code> \u662f\u60a8\u7684 Google AI API \u5bc6\u94a5\u3002</p>"},{"location":"google-gemini-chat/#_19","title":"\u8def\u5f84\u53c2\u6570","text":""},{"location":"google-gemini-chat/#model","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u7528\u4e8e\u751f\u6210\u8865\u5168\u9879\u7684\u6a21\u578b\u540d\u79f0\u3002</p> <p>\u683c\u5f0f\uff1a<code>models/{model}</code>\uff0c\u4f8b\u5982 <code>models/gemini-2.0-flash</code></p>"},{"location":"google-gemini-chat/#_20","title":"\u8bf7\u6c42\u4f53\u53c2\u6570","text":""},{"location":"google-gemini-chat/#contents","title":"<code>contents</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u4e0e\u6a21\u578b\u5f53\u524d\u5bf9\u8bdd\u7684\u5185\u5bb9\u3002\u5bf9\u4e8e\u5355\u8f6e\u67e5\u8be2\uff0c\u8fd9\u662f\u5355\u4e2a\u5b9e\u4f8b\u3002\u5bf9\u4e8e\u804a\u5929\u7b49\u591a\u8f6e\u67e5\u8be2\uff0c\u8fd9\u662f\u5305\u542b\u5bf9\u8bdd\u5386\u53f2\u8bb0\u5f55\u548c\u6700\u65b0\u8bf7\u6c42\u7684\u91cd\u590d\u5b57\u6bb5\u3002</p> <p>Content \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>parts</code> \u6570\u7ec4 \u662f \u6709\u5e8f\u7684\u5185\u5bb9\u90e8\u5206\uff0c\u6784\u6210\u5355\u4e2a\u6d88\u606f <code>role</code> \u5b57\u7b26\u4e32 \u5426 \u5bf9\u8bdd\u4e2d\u5185\u5bb9\u7684\u751f\u4ea7\u8005\u3002<code>user</code>\u3001<code>model</code>\u3001<code>function</code> \u6216 <code>tool</code> <p>Part \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>text</code> \u5b57\u7b26\u4e32 \u5426 \u7eaf\u6587\u672c\u5185\u5bb9 <code>inlineData</code> \u5bf9\u8c61 \u5426 \u5185\u8054\u5a92\u4f53\u5b57\u8282\u6570\u636e <code>fileData</code> \u5bf9\u8c61 \u5426 \u4e0a\u4f20\u6587\u4ef6\u7684URI\u5f15\u7528 <code>functionCall</code> \u5bf9\u8c61 \u5426 \u51fd\u6570\u8c03\u7528\u8bf7\u6c42 <code>functionResponse</code> \u5bf9\u8c61 \u5426 \u51fd\u6570\u8c03\u7528\u54cd\u5e94 <code>executableCode</code> \u5bf9\u8c61 \u5426 \u53ef\u6267\u884c\u4ee3\u7801 <code>codeExecutionResult</code> \u5bf9\u8c61 \u5426 \u4ee3\u7801\u6267\u884c\u7ed3\u679c <p>InlineData \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>mimeType</code> \u5b57\u7b26\u4e32 \u662f \u5a92\u4f53\u7684MIME\u7c7b\u578b <code>data</code> \u5b57\u7b26\u4e32 \u662f base64\u7f16\u7801\u7684\u5a92\u4f53\u6570\u636e <p>FileData \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>mimeType</code> \u5b57\u7b26\u4e32 \u662f \u6587\u4ef6\u7684MIME\u7c7b\u578b <code>fileUri</code> \u5b57\u7b26\u4e32 \u662f \u6587\u4ef6\u7684URI"},{"location":"google-gemini-chat/#tools","title":"<code>tools</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u6a21\u578b\u53ef\u80fd\u7528\u4e8e\u751f\u6210\u4e0b\u4e00\u4e2a\u54cd\u5e94\u7684\u5de5\u5177\u5217\u8868\u3002\u652f\u6301\u7684\u5de5\u5177\u5305\u62ec\u51fd\u6570\u548c\u4ee3\u7801\u6267\u884c\u3002</p> <p>Tool \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>functionDeclarations</code> \u6570\u7ec4 \u5426 \u53ef\u9009\u7684\u51fd\u6570\u58f0\u660e\u5217\u8868 <code>codeExecution</code> \u5bf9\u8c61 \u5426 \u542f\u7528\u6a21\u578b\u6267\u884c\u4ee3\u7801 <p>FunctionDeclaration \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>name</code> \u5b57\u7b26\u4e32 \u662f \u51fd\u6570\u540d\u79f0 <code>description</code> \u5b57\u7b26\u4e32 \u5426 \u51fd\u6570\u529f\u80fd\u63cf\u8ff0 <code>parameters</code> \u5bf9\u8c61 \u5426 \u51fd\u6570\u53c2\u6570\uff0cJSON Schema\u683c\u5f0f <p>FunctionCall \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>name</code> \u5b57\u7b26\u4e32 \u662f \u8981\u8c03\u7528\u7684\u51fd\u6570\u540d\u79f0 <code>args</code> \u5bf9\u8c61 \u5426 \u51fd\u6570\u53c2\u6570\u7684\u952e\u503c\u5bf9 <p>FunctionResponse \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>name</code> \u5b57\u7b26\u4e32 \u662f \u8c03\u7528\u7684\u51fd\u6570\u540d\u79f0 <code>response</code> \u5bf9\u8c61 \u662f \u51fd\u6570\u8c03\u7528\u7684\u54cd\u5e94\u6570\u636e <p>ExecutableCode \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>language</code> \u679a\u4e3e \u662f \u4ee3\u7801\u7684\u7f16\u7a0b\u8bed\u8a00 <code>code</code> \u5b57\u7b26\u4e32 \u662f \u8981\u6267\u884c\u7684\u4ee3\u7801 <p>CodeExecutionResult \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>outcome</code> \u679a\u4e3e \u662f \u4ee3\u7801\u6267\u884c\u7684\u7ed3\u679c\u72b6\u6001 <code>output</code> \u5b57\u7b26\u4e32 \u5426 \u4ee3\u7801\u6267\u884c\u7684\u8f93\u51fa\u5185\u5bb9 <p>CodeExecution \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 {} \u7a7a\u5bf9\u8c61 - \u542f\u7528\u4ee3\u7801\u6267\u884c\u529f\u80fd\u7684\u7a7a\u914d\u7f6e\u5bf9\u8c61"},{"location":"google-gemini-chat/#toolconfig","title":"<code>toolConfig</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u8bf7\u6c42\u4e2d\u6307\u5b9a\u7684\u4efb\u4f55\u5de5\u5177\u7684\u5de5\u5177\u914d\u7f6e\u3002</p> <p>ToolConfig \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>functionCallingConfig</code> \u5bf9\u8c61 \u5426 \u51fd\u6570\u8c03\u7528\u914d\u7f6e <p>FunctionCallingConfig \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>mode</code> \u679a\u4e3e \u5426 \u6307\u5b9a\u51fd\u6570\u8c03\u7528\u7684\u6a21\u5f0f <code>allowedFunctionNames</code> \u6570\u7ec4 \u5426 \u5141\u8bb8\u8c03\u7528\u7684\u51fd\u6570\u540d\u5217\u8868 <p>FunctionCallingMode \u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>MODE_UNSPECIFIED</code>: \u9ed8\u8ba4\u6a21\u5f0f\uff0c\u6a21\u578b\u51b3\u5b9a\u662f\u5426\u8c03\u7528\u51fd\u6570</li> <li><code>AUTO</code>: \u6a21\u578b\u81ea\u52a8\u51b3\u5b9a\u4f55\u65f6\u8c03\u7528\u51fd\u6570 </li> <li><code>ANY</code>: \u6a21\u578b\u5fc5\u987b\u8c03\u7528\u51fd\u6570</li> <li><code>NONE</code>: \u6a21\u578b\u4e0d\u80fd\u8c03\u7528\u51fd\u6570</li> </ul>"},{"location":"google-gemini-chat/#safetysettings","title":"<code>safetySettings</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u7528\u4e8e\u5c4f\u853d\u4e0d\u5b89\u5168\u5185\u5bb9\u7684 SafetySetting \u5b9e\u4f8b\u5217\u8868\u3002</p> <p>SafetySetting \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>category</code> \u679a\u4e3e \u662f \u5b89\u5168\u7c7b\u522b <code>threshold</code> \u679a\u4e3e \u662f \u5c4f\u853d\u9608\u503c <p>HarmCategory \u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>HARM_CATEGORY_HARASSMENT</code>: \u9a9a\u6270\u5185\u5bb9</li> <li><code>HARM_CATEGORY_HATE_SPEECH</code>: \u4ec7\u6068\u8a00\u8bba\u548c\u5185\u5bb9</li> <li><code>HARM_CATEGORY_SEXUALLY_EXPLICIT</code>: \u9732\u9aa8\u8272\u60c5\u5185\u5bb9</li> <li><code>HARM_CATEGORY_DANGEROUS_CONTENT</code>: \u5371\u9669\u5185\u5bb9</li> <li><code>HARM_CATEGORY_CIVIC_INTEGRITY</code>: \u53ef\u80fd\u7528\u4e8e\u7834\u574f\u516c\u6c11\u8bda\u4fe1\u7684\u5185\u5bb9</li> </ul> <p>HarmBlockThreshold \u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>BLOCK_LOW_AND_ABOVE</code>: \u5141\u8bb8\u53d1\u5e03\u8bc4\u5206\u4e3a NEGLIGIBLE \u7684\u5185\u5bb9</li> <li><code>BLOCK_MEDIUM_AND_ABOVE</code>: \u5141\u8bb8\u53d1\u5e03\u8bc4\u5206\u4e3a NEGLIGIBLE \u548c LOW \u7684\u5185\u5bb9</li> <li><code>BLOCK_ONLY_HIGH</code>: \u5141\u8bb8\u53d1\u5e03\u98ce\u9669\u7b49\u7ea7\u4e3a NEGLIGIBLE\u3001LOW \u548c MEDIUM \u7684\u5185\u5bb9</li> <li><code>BLOCK_NONE</code>: \u5141\u8bb8\u6240\u6709\u5185\u5bb9</li> <li><code>OFF</code>: \u5173\u95ed\u5b89\u5168\u8fc7\u6ee4\u5668</li> </ul> <p>HarmBlockThreshold \u5b8c\u6574\u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>HARM_BLOCK_THRESHOLD_UNSPECIFIED</code>: \u672a\u6307\u5b9a\u9608\u503c</li> <li><code>BLOCK_LOW_AND_ABOVE</code>: \u5c4f\u853d\u4f4e\u6982\u7387\u53ca\u4ee5\u4e0a\u7684\u6709\u5bb3\u5185\u5bb9\uff0c\u53ea\u5141\u8bb8 NEGLIGIBLE \u7ea7\u522b\u7684\u5185\u5bb9</li> <li><code>BLOCK_MEDIUM_AND_ABOVE</code>: \u5c4f\u853d\u4e2d\u7b49\u6982\u7387\u53ca\u4ee5\u4e0a\u7684\u6709\u5bb3\u5185\u5bb9\uff0c\u5141\u8bb8 NEGLIGIBLE \u548c LOW \u7ea7\u522b\u7684\u5185\u5bb9</li> <li><code>BLOCK_ONLY_HIGH</code>: \u53ea\u5c4f\u853d\u9ad8\u6982\u7387\u7684\u6709\u5bb3\u5185\u5bb9\uff0c\u5141\u8bb8 NEGLIGIBLE\u3001LOW \u548c MEDIUM \u7ea7\u522b\u7684\u5185\u5bb9</li> <li><code>BLOCK_NONE</code>: \u4e0d\u5c4f\u853d\u4efb\u4f55\u5185\u5bb9\uff0c\u5141\u8bb8\u6240\u6709\u7ea7\u522b\u7684\u5185\u5bb9</li> <li><code>OFF</code>: \u5b8c\u5168\u5173\u95ed\u5b89\u5168\u8fc7\u6ee4\u5668</li> </ul>"},{"location":"google-gemini-chat/#systeminstruction","title":"<code>systemInstruction</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61\uff08Content\uff09</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u5f00\u53d1\u8005\u8bbe\u7f6e\u7684\u7cfb\u7edf\u6307\u4ee4\u3002\u76ee\u524d\u4ec5\u652f\u6301\u6587\u672c\u3002</p>"},{"location":"google-gemini-chat/#generationconfig","title":"<code>generationConfig</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u6a21\u578b\u751f\u6210\u548c\u8f93\u51fa\u7684\u914d\u7f6e\u9009\u9879\u3002</p> <p>GenerationConfig \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>stopSequences</code> \u6570\u7ec4 \u5426 \u7528\u4e8e\u505c\u6b62\u751f\u6210\u8f93\u51fa\u7684\u5b57\u7b26\u5e8f\u5217\u96c6\uff08\u6700\u591a5\u4e2a\uff09 <code>responseMimeType</code> \u5b57\u7b26\u4e32 \u5426 \u751f\u6210\u7684\u5019\u9009\u6587\u672c\u7684MIME\u7c7b\u578b <code>responseSchema</code> \u5bf9\u8c61 \u5426 \u751f\u6210\u7684\u5019\u9009\u6587\u672c\u7684\u8f93\u51fa\u67b6\u6784 <code>responseModalities</code> \u6570\u7ec4 \u5426 \u8bf7\u6c42\u7684\u54cd\u5e94\u6a21\u5f0f <code>candidateCount</code> \u6574\u6570 \u5426 \u8981\u8fd4\u56de\u7684\u751f\u6210\u7684\u56de\u7b54\u6570\u91cf <code>maxOutputTokens</code> \u6574\u6570 \u5426 \u5019\u9009\u56de\u7b54\u4e2d\u5305\u542b\u7684\u4ee4\u724c\u6570\u91cf\u4e0a\u9650 <code>temperature</code> \u6570\u5b57 \u5426 \u63a7\u5236\u8f93\u51fa\u7684\u968f\u673a\u6027\uff0c\u8303\u56f4[0.0, 2.0] <code>topP</code> \u6570\u5b57 \u5426 \u5728\u62bd\u6837\u65f6\u8981\u8003\u8651\u7684\u4ee4\u724c\u7684\u7d2f\u8ba1\u6982\u7387\u4e0a\u9650 <code>topK</code> \u6574\u6570 \u5426 \u62bd\u6837\u65f6\u8981\u8003\u8651\u7684\u4ee4\u724c\u6570\u91cf\u4e0a\u9650 <code>seed</code> \u6574\u6570 \u5426 \u89e3\u7801\u4e2d\u4f7f\u7528\u7684\u79cd\u5b50 <code>presencePenalty</code> \u6570\u5b57 \u5426 \u5b58\u5728\u6027\u60e9\u7f5a <code>frequencyPenalty</code> \u6570\u5b57 \u5426 \u9891\u7387\u60e9\u7f5a <code>responseLogprobs</code> \u5e03\u5c14\u503c \u5426 \u662f\u5426\u5728\u54cd\u5e94\u4e2d\u5bfc\u51falogprobs\u7ed3\u679c <code>logprobs</code> \u6574\u6570 \u5426 \u8fd4\u56de\u7684\u9876\u90e8logprob\u7684\u6570\u91cf <code>enableEnhancedCivicAnswers</code> \u5e03\u5c14\u503c \u5426 \u542f\u7528\u589e\u5f3a\u578b\u57ce\u5e02\u670d\u52a1\u56de\u7b54 <code>speechConfig</code> \u5bf9\u8c61 \u5426 \u8bed\u97f3\u751f\u6210\u914d\u7f6e <code>thinkingConfig</code> \u5bf9\u8c61 \u5426 \u601d\u8003\u529f\u80fd\u7684\u914d\u7f6e <code>mediaResolution</code> \u679a\u4e3e \u5426 \u6307\u5b9a\u7684\u5a92\u4f53\u5206\u8fa8\u7387 <p>\u652f\u6301\u7684 MIME \u7c7b\u578b\uff1a</p> <ul> <li><code>text/plain</code>: \uff08\u9ed8\u8ba4\uff09\u6587\u672c\u8f93\u51fa</li> <li><code>application/json</code>: JSON\u54cd\u5e94</li> <li><code>text/x.enum</code>: ENUM\u4f5c\u4e3a\u5b57\u7b26\u4e32\u54cd\u5e94</li> </ul> <p>Modality \u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>TEXT</code>: \u6307\u793a\u6a21\u578b\u5e94\u8fd4\u56de\u6587\u672c</li> <li><code>IMAGE</code>: \u8868\u793a\u6a21\u578b\u5e94\u8fd4\u56de\u56fe\u7247</li> <li><code>AUDIO</code>: \u6307\u793a\u6a21\u578b\u5e94\u8fd4\u56de\u97f3\u9891</li> </ul> <p>Schema \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>type</code> \u679a\u4e3e \u662f \u6570\u636e\u7c7b\u578b <code>description</code> \u5b57\u7b26\u4e32 \u5426 \u5b57\u6bb5\u63cf\u8ff0 <code>enum</code> \u6570\u7ec4 \u5426 \u679a\u4e3e\u503c\u5217\u8868\uff08\u5f53type\u4e3astring\u65f6\uff09 <code>example</code> \u4efb\u610f\u7c7b\u578b \u5426 \u793a\u4f8b\u503c <code>nullable</code> \u5e03\u5c14\u503c \u5426 \u662f\u5426\u53ef\u4e3anull <code>format</code> \u5b57\u7b26\u4e32 \u5426 \u5b57\u7b26\u4e32\u683c\u5f0f\uff08\u5982date\u3001date-time\u7b49\uff09 <code>items</code> \u5bf9\u8c61 \u5426 \u6570\u7ec4\u9879\u7684Schema\uff08\u5f53type\u4e3aarray\u65f6\uff09 <code>properties</code> \u5bf9\u8c61 \u5426 \u5bf9\u8c61\u5c5e\u6027\u7684Schema\u6620\u5c04\uff08\u5f53type\u4e3aobject\u65f6\uff09 <code>required</code> \u6570\u7ec4 \u5426 \u5fc5\u9700\u5c5e\u6027\u7684\u540d\u79f0\u5217\u8868 <code>minimum</code> \u6570\u5b57 \u5426 \u6570\u5b57\u7684\u6700\u5c0f\u503c <code>maximum</code> \u6570\u5b57 \u5426 \u6570\u5b57\u7684\u6700\u5927\u503c <code>minItems</code> \u6574\u6570 \u5426 \u6570\u7ec4\u7684\u6700\u5c0f\u957f\u5ea6 <code>maxItems</code> \u6574\u6570 \u5426 \u6570\u7ec4\u7684\u6700\u5927\u957f\u5ea6 <code>minLength</code> \u6574\u6570 \u5426 \u5b57\u7b26\u4e32\u7684\u6700\u5c0f\u957f\u5ea6 <code>maxLength</code> \u6574\u6570 \u5426 \u5b57\u7b26\u4e32\u7684\u6700\u5927\u957f\u5ea6 <p>Type \u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>TYPE_UNSPECIFIED</code>: \u672a\u6307\u5b9a\u7c7b\u578b</li> <li><code>STRING</code>: \u5b57\u7b26\u4e32\u7c7b\u578b</li> <li><code>NUMBER</code>: \u6570\u5b57\u7c7b\u578b</li> <li><code>INTEGER</code>: \u6574\u6570\u7c7b\u578b</li> <li><code>BOOLEAN</code>: \u5e03\u5c14\u7c7b\u578b</li> <li><code>ARRAY</code>: \u6570\u7ec4\u7c7b\u578b</li> <li><code>OBJECT</code>: \u5bf9\u8c61\u7c7b\u578b</li> </ul> <p>\u652f\u6301\u7684\u7f16\u7a0b\u8bed\u8a00\uff08ExecutableCode\uff09\uff1a</p> <ul> <li><code>LANGUAGE_UNSPECIFIED</code>: \u672a\u6307\u5b9a\u8bed\u8a00</li> <li><code>PYTHON</code>: Python\u7f16\u7a0b\u8bed\u8a00</li> </ul> <p>\u4ee3\u7801\u6267\u884c\u7ed3\u679c\u679a\u4e3e\uff08Outcome\uff09\uff1a</p> <ul> <li><code>OUTCOME_UNSPECIFIED</code>: \u672a\u6307\u5b9a\u7ed3\u679c</li> <li><code>OUTCOME_OK</code>: \u4ee3\u7801\u6267\u884c\u6210\u529f</li> <li><code>OUTCOME_FAILED</code>: \u4ee3\u7801\u6267\u884c\u5931\u8d25</li> <li><code>OUTCOME_DEADLINE_EXCEEDED</code>: \u4ee3\u7801\u6267\u884c\u8d85\u65f6</li> </ul>"},{"location":"google-gemini-chat/#cachedcontent","title":"<code>cachedContent</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u7f13\u5b58\u7684\u5185\u5bb9\u7684\u540d\u79f0\uff0c\u7528\u4e8e\u7528\u4f5c\u63d0\u4f9b\u9884\u6d4b\u7684\u4e0a\u4e0b\u6587\u3002\u683c\u5f0f\uff1a<code>cachedContents/{cachedContent}</code></p>"},{"location":"google-gemini-chat/#_21","title":"\ud83d\udce5 \u54cd\u5e94","text":""},{"location":"google-gemini-chat/#generatecontentresponse","title":"GenerateContentResponse","text":"<p>\u652f\u6301\u591a\u4e2a\u5019\u9009\u56de\u7b54\u7684\u6a21\u578b\u7684\u56de\u7b54\u3002\u7cfb\u7edf\u4f1a\u9488\u5bf9\u63d0\u793a\u4ee5\u53ca\u6bcf\u4e2a\u5019\u9009\u9879\u62a5\u544a\u5b89\u5168\u5206\u7ea7\u548c\u5185\u5bb9\u8fc7\u6ee4\u3002</p>"},{"location":"google-gemini-chat/#candidates","title":"<code>candidates</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u8bf4\u660e\uff1a\u6a21\u578b\u7684\u5019\u9009\u56de\u7b54\u5217\u8868</li> </ul> <p>Candidate \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>content</code> \u5bf9\u8c61 \u6a21\u578b\u8fd4\u56de\u7684\u751f\u6210\u5185\u5bb9 <code>finishReason</code> \u679a\u4e3e \u6a21\u578b\u505c\u6b62\u751f\u6210\u8bcd\u5143\u7684\u539f\u56e0 <code>safetyRatings</code> \u6570\u7ec4 \u5019\u9009\u56de\u7b54\u5b89\u5168\u6027\u7684\u8bc4\u5206\u5217\u8868 <code>citationMetadata</code> \u5bf9\u8c61 \u6a21\u578b\u751f\u6210\u7684\u5019\u9009\u9879\u7684\u5f15\u7528\u4fe1\u606f <code>tokenCount</code> \u6574\u6570 \u6b64\u5019\u9009\u9879\u7684\u4ee4\u724c\u6570 <code>groundingAttributions</code> \u6570\u7ec4 \u4e3a\u751f\u6210\u6709\u4f9d\u636e\u7684\u56de\u7b54\u6240\u53c2\u8003\u7684\u6765\u6e90\u63d0\u4f9b\u65b9\u4fe1\u606f <code>groundingMetadata</code> \u5bf9\u8c61 \u5019\u9009\u5bf9\u8c61\u7684\u53c2\u8003\u5143\u6570\u636e <code>avgLogprobs</code> \u6570\u5b57 \u5019\u9009\u9879\u7684\u5e73\u5747\u5bf9\u6570\u6982\u7387\u5f97\u5206 <code>logprobsResult</code> \u5bf9\u8c61 \u56de\u7b54\u4ee4\u724c\u548c\u524d\u7f6e\u4ee4\u724c\u7684\u5bf9\u6570\u4f3c\u7136\u5ea6\u5f97\u5206 <code>urlRetrievalMetadata</code> \u5bf9\u8c61 \u4e0e\u7f51\u5740\u60c5\u5883\u68c0\u7d22\u5de5\u5177\u76f8\u5173\u7684\u5143\u6570\u636e <code>urlContextMetadata</code> \u5bf9\u8c61 \u4e0e\u7f51\u5740\u60c5\u5883\u68c0\u7d22\u5de5\u5177\u76f8\u5173\u7684\u5143\u6570\u636e <code>index</code> \u6574\u6570 \u54cd\u5e94\u5019\u9009\u5217\u8868\u4e2d\u5019\u9009\u9879\u7684\u7d22\u5f15 <p>FinishReason \u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>STOP</code>: \u6a21\u578b\u7684\u81ea\u7136\u505c\u6b62\u70b9\u6216\u63d0\u4f9b\u7684\u505c\u6b62\u5e8f\u5217</li> <li><code>MAX_TOKENS</code>: \u5df2\u8fbe\u5230\u8bf7\u6c42\u4e2d\u6307\u5b9a\u7684\u8bcd\u5143\u6570\u91cf\u4e0a\u9650</li> <li><code>SAFETY</code>: \u51fa\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u7cfb\u7edf\u5df2\u6807\u8bb0\u56de\u7b54\u5019\u9009\u5185\u5bb9</li> <li><code>RECITATION</code>: \u7531\u4e8e\u80cc\u8bf5\u539f\u56e0\uff0c\u56de\u7b54\u5019\u9009\u5185\u5bb9\u88ab\u6807\u8bb0</li> <li><code>LANGUAGE</code>: \u56de\u7b54\u5019\u9009\u5185\u5bb9\u56e0\u4f7f\u7528\u4e0d\u53d7\u652f\u6301\u7684\u8bed\u8a00\u800c\u88ab\u6807\u8bb0</li> <li><code>OTHER</code>: \u539f\u56e0\u672a\u77e5</li> <li><code>BLOCKLIST</code>: \u7531\u4e8e\u5185\u5bb9\u5305\u542b\u7981\u6b62\u4f7f\u7528\u7684\u5b57\u8bcd\uff0c\u56e0\u6b64token\u751f\u6210\u64cd\u4f5c\u5df2\u505c\u6b62</li> <li><code>PROHIBITED_CONTENT</code>: \u7531\u4e8e\u53ef\u80fd\u5305\u542b\u7981\u6b62\u7684\u5185\u5bb9\uff0c\u56e0\u6b64token\u751f\u6210\u64cd\u4f5c\u5df2\u505c\u6b62</li> <li><code>SPII</code>: \u7531\u4e8e\u5185\u5bb9\u53ef\u80fd\u5305\u542b\u654f\u611f\u7684\u4e2a\u4eba\u8eab\u4efd\u4fe1\u606f\uff0c\u56e0\u6b64token\u751f\u6210\u64cd\u4f5c\u5df2\u505c\u6b62</li> <li><code>MALFORMED_FUNCTION_CALL</code>: \u6a21\u578b\u751f\u6210\u7684\u51fd\u6570\u8c03\u7528\u65e0\u6548</li> <li><code>IMAGE_SAFETY</code>: \u7531\u4e8e\u751f\u6210\u7684\u56fe\u7247\u8fdd\u53cd\u4e86\u5b89\u5168\u89c4\u5b9a\uff0c\u56e0\u6b64\u8bcd\u5143\u751f\u6210\u5df2\u505c\u6b62</li> </ul>"},{"location":"google-gemini-chat/#promptfeedback","title":"<code>promptFeedback</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u8bf4\u660e\uff1a\u4e0e\u5185\u5bb9\u8fc7\u6ee4\u5668\u76f8\u5173\u7684\u63d0\u793a\u53cd\u9988</li> </ul> <p>PromptFeedback \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>blockReason</code> \u679a\u4e3e \u5c4f\u853d\u8be5\u63d0\u793a\u7684\u539f\u56e0 <code>safetyRatings</code> \u6570\u7ec4 \u95ee\u9898\u5b89\u5168\u6027\u7684\u8bc4\u5206 <p>BlockReason \u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>BLOCK_REASON_UNSPECIFIED</code>: \u9ed8\u8ba4\u503c\uff0c\u6b64\u503c\u672a\u4f7f\u7528</li> <li><code>SAFETY</code>: \u51fa\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u7cfb\u7edf\u5c4f\u853d\u4e86\u63d0\u793a</li> <li><code>OTHER</code>: \u63d0\u793a\u56e0\u672a\u77e5\u539f\u56e0\u88ab\u5c4f\u853d\u4e86</li> <li><code>BLOCKLIST</code>: \u7cfb\u7edf\u5c4f\u853d\u4e86\u6b64\u63d0\u793a\uff0c\u56e0\u4e3a\u5176\u4e2d\u5305\u542b\u672f\u8bed\u5c4f\u853d\u540d\u5355\u4e2d\u5305\u542b\u7684\u672f\u8bed</li> <li><code>PROHIBITED_CONTENT</code>: \u7cfb\u7edf\u5c4f\u853d\u4e86\u6b64\u63d0\u793a\uff0c\u56e0\u4e3a\u5176\u4e2d\u5305\u542b\u7981\u6b62\u7684\u5185\u5bb9</li> <li><code>IMAGE_SAFETY</code>: \u5019\u9009\u56fe\u7247\u56e0\u751f\u6210\u4e0d\u5b89\u5168\u7684\u5185\u5bb9\u800c\u88ab\u5c4f\u853d</li> </ul>"},{"location":"google-gemini-chat/#usagemetadata","title":"<code>usageMetadata</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u8bf4\u660e\uff1a\u6709\u5173\u751f\u6210\u8bf7\u6c42\u4ee4\u724c\u7528\u91cf\u7684\u5143\u6570\u636e</li> </ul> <p>UsageMetadata \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>promptTokenCount</code> \u6574\u6570 \u63d0\u793a\u4e2d\u7684\u8bcd\u5143\u6570 <code>cachedContentTokenCount</code> \u6574\u6570 \u63d0\u793a\u7684\u7f13\u5b58\u90e8\u5206\u4e2d\u7684\u8bcd\u5143\u6570 <code>candidatesTokenCount</code> \u6574\u6570 \u6240\u6709\u751f\u6210\u7684\u5019\u9009\u56de\u7b54\u4e2d\u7684\u8bcd\u5143\u603b\u6570 <code>totalTokenCount</code> \u6574\u6570 \u751f\u6210\u8bf7\u6c42\u7684\u603b\u4ee4\u724c\u6570 <code>toolUsePromptTokenCount</code> \u6574\u6570 \u5de5\u5177\u4f7f\u7528\u63d0\u793a\u4e2d\u7684\u8bcd\u5143\u6570\u91cf <code>thoughtsTokenCount</code> \u6574\u6570 \u601d\u8003\u6a21\u578b\u7684\u60f3\u6cd5token\u6570 <code>promptTokensDetails</code> \u6570\u7ec4 \u5728\u8bf7\u6c42\u8f93\u5165\u4e2d\u5904\u7406\u7684\u6a21\u6001\u5217\u8868 <code>candidatesTokensDetails</code> \u6570\u7ec4 \u54cd\u5e94\u4e2d\u8fd4\u56de\u7684\u6a21\u6001\u5217\u8868 <code>cacheTokensDetails</code> \u6570\u7ec4 \u8bf7\u6c42\u8f93\u5165\u4e2d\u7f13\u5b58\u5185\u5bb9\u7684\u6a21\u6001\u5217\u8868 <code>toolUsePromptTokensDetails</code> \u6570\u7ec4 \u4e3a\u5de5\u5177\u4f7f\u7528\u8bf7\u6c42\u8f93\u5165\u5904\u7406\u7684\u6a21\u6001\u5217\u8868"},{"location":"google-gemini-chat/#modelversion","title":"<code>modelVersion</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u7528\u4e8e\u751f\u6210\u56de\u7b54\u7684\u6a21\u578b\u7248\u672c</li> </ul>"},{"location":"google-gemini-chat/#responseid","title":"<code>responseId</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u7528\u4e8e\u6807\u8bc6\u6bcf\u4e2a\u54cd\u5e94\u7684ID</li> </ul>"},{"location":"google-gemini-chat/#_22","title":"\u5b8c\u6574\u54cd\u5e94\u793a\u4f8b","text":"<pre><code>{\n  \"candidates\": [\n    {\n      \"content\": {\n        \"parts\": [\n          {\n            \"text\": \"\u4f60\u597d\uff01\u6211\u662f Gemini\uff0c\u4e00\u4e2a\u7531 Google \u5f00\u53d1\u7684\u4eba\u5de5\u667a\u80fd\u52a9\u624b\u3002\u6211\u53ef\u4ee5\u5e2e\u52a9\u60a8\u89e3\u7b54\u95ee\u9898\u3001\u63d0\u4f9b\u4fe1\u606f\u3001\u534f\u52a9\u5199\u4f5c\u3001\u4ee3\u7801\u7f16\u7a0b\u7b49\u591a\u79cd\u4efb\u52a1\u3002\u8bf7\u544a\u8bc9\u6211\u6709\u4ec0\u4e48\u53ef\u4ee5\u4e3a\u60a8\u6548\u52b3\u7684\uff01\"\n          }\n        ],\n        \"role\": \"model\"\n      },\n      \"finishReason\": \"STOP\",\n      \"index\": 0,\n      \"safetyRatings\": [\n        {\n          \"category\": \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n          \"probability\": \"NEGLIGIBLE\",\n          \"blocked\": false\n        },\n        {\n          \"category\": \"HARM_CATEGORY_HATE_SPEECH\", \n          \"probability\": \"NEGLIGIBLE\",\n          \"blocked\": false\n        },\n        {\n          \"category\": \"HARM_CATEGORY_HARASSMENT\",\n          \"probability\": \"NEGLIGIBLE\",\n          \"blocked\": false\n        },\n        {\n          \"category\": \"HARM_CATEGORY_DANGEROUS_CONTENT\",\n          \"probability\": \"NEGLIGIBLE\",\n          \"blocked\": false\n        }\n      ],\n      \"tokenCount\": 47\n    }\n  ],\n  \"promptFeedback\": {\n    \"safetyRatings\": [\n      {\n        \"category\": \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n        \"probability\": \"NEGLIGIBLE\"\n      },\n      {\n        \"category\": \"HARM_CATEGORY_HATE_SPEECH\",\n        \"probability\": \"NEGLIGIBLE\"\n      }\n    ]\n  },\n  \"usageMetadata\": {\n    \"promptTokenCount\": 4,\n    \"candidatesTokenCount\": 47,\n    \"totalTokenCount\": 51,\n    \"promptTokensDetails\": [\n      {\n        \"modality\": \"TEXT\",\n        \"tokenCount\": 4\n      }\n    ],\n    \"candidatesTokensDetails\": [\n      {\n        \"modality\": \"TEXT\", \n        \"tokenCount\": 47\n      }\n    ]\n  },\n  \"modelVersion\": \"gemini-2.0-flash\",\n  \"responseId\": \"response-12345\"\n}\n</code></pre>"},{"location":"google-gemini-chat/#_23","title":"\ud83d\udd27 \u9ad8\u7ea7\u529f\u80fd","text":""},{"location":"google-gemini-chat/#_24","title":"\u5b89\u5168\u8bc4\u7ea7","text":"<p>SafetyRating \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>category</code> \u679a\u4e3e \u6b64\u8bc4\u5206\u7684\u7c7b\u522b <code>probability</code> \u679a\u4e3e \u6b64\u5185\u5bb9\u7684\u6709\u5bb3\u6982\u7387 <code>blocked</code> \u5e03\u5c14\u503c \u6b64\u5185\u5bb9\u662f\u5426\u56e0\u6b64\u5206\u7ea7\u800c\u88ab\u5c4f\u853d <p>HarmProbability \u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>NEGLIGIBLE</code>: \u5185\u5bb9\u4e0d\u5b89\u5168\u7684\u6982\u7387\u53ef\u5ffd\u7565\u4e0d\u8ba1</li> <li><code>LOW</code>: \u5185\u5bb9\u4e0d\u5b89\u5168\u7684\u6982\u7387\u8f83\u4f4e</li> <li><code>MEDIUM</code>: \u5185\u5bb9\u4e0d\u5b89\u5168\u7684\u6982\u7387\u4e3a\u4e2d\u7b49</li> <li><code>HIGH</code>: \u5185\u5bb9\u4e0d\u5b89\u5168\u7684\u6982\u7387\u8f83\u9ad8</li> </ul>"},{"location":"google-gemini-chat/#_25","title":"\u5f15\u7528\u5143\u6570\u636e","text":"<p>CitationMetadata \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>citationSources</code> \u6570\u7ec4 \u7279\u5b9a\u56de\u590d\u7684\u6765\u6e90\u5f15\u7528 <p>CitationSource \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>startIndex</code> \u6574\u6570 \u5f52\u56e0\u4e8e\u6b64\u6765\u6e90\u7684\u54cd\u5e94\u7247\u6bb5\u7684\u5f00\u59cb\u7d22\u5f15 <code>endIndex</code> \u6574\u6570 \u5f52\u56e0\u7ec6\u5206\u7684\u7ed3\u675f\u7d22\u5f15\uff08\u4e0d\u542b\uff09 <code>uri</code> \u5b57\u7b26\u4e32 \u88ab\u5f52\u56e0\u4e3a\u6587\u672c\u90e8\u5206\u6765\u6e90\u7684URI <code>license</code> \u5b57\u7b26\u4e32 \u88ab\u5f52\u56e0\u4e3a\u7247\u6bb5\u6765\u6e90\u7684GitHub\u9879\u76ee\u7684\u8bb8\u53ef"},{"location":"google-gemini-chat/#_26","title":"\u4ee3\u7801\u6267\u884c","text":"<p>\u5f53\u542f\u7528\u4ee3\u7801\u6267\u884c\u5de5\u5177\u65f6\uff0c\u6a21\u578b\u53ef\u4ee5\u751f\u6210\u548c\u6267\u884c\u4ee3\u7801\u6765\u89e3\u51b3\u95ee\u9898\u3002</p> <p>\u4ee3\u7801\u6267\u884c\u793a\u4f8b\u54cd\u5e94\uff1a</p> <pre><code>{\n  \"candidates\": [\n    {\n      \"content\": {\n        \"parts\": [\n          {\n            \"text\": \"\u6211\u6765\u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u7b2c10\u9879\uff1a\"\n          },\n          {\n            \"executableCode\": {\n              \"language\": \"PYTHON\",\n              \"code\": \"def fibonacci(n):\\n    if n &lt;= 1:\\n        return n\\n    else:\\n        return fibonacci(n-1) + fibonacci(n-2)\\n\\nresult = fibonacci(10)\\nprint(f'\u7b2c10\u9879\u6590\u6ce2\u90a3\u5951\u6570\u662f: {result}')\"\n            }\n          },\n          {\n            \"codeExecutionResult\": {\n              \"outcome\": \"OK\",\n              \"output\": \"\u7b2c10\u9879\u6590\u6ce2\u90a3\u5951\u6570\u662f: 55\"\n            }\n          },\n          {\n            \"text\": \"\u6240\u4ee5\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u7b2c10\u9879\u662f55\u3002\"\n          }\n        ],\n        \"role\": \"model\"\n      },\n      \"finishReason\": \"STOP\"\n    }\n  ]\n}\n</code></pre>"},{"location":"google-gemini-chat/#grounding","title":"\u63a5\u5730\u529f\u80fd (Grounding)","text":"<p>GroundingMetadata \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>groundingChunks</code> \u6570\u7ec4 \u4ece\u6307\u5b9a\u7684\u63a5\u5730\u6e90\u68c0\u7d22\u5230\u7684\u652f\u6301\u53c2\u8003\u6587\u732e\u5217\u8868 <code>groundingSupports</code> \u6570\u7ec4 \u63a5\u5730\u652f\u6301\u5217\u8868 <code>webSearchQueries</code> \u6570\u7ec4 \u7528\u4e8e\u540e\u7eed\u7f51\u9875\u641c\u7d22\u7684\u7f51\u9875\u641c\u7d22\u67e5\u8be2 <code>searchEntryPoint</code> \u5bf9\u8c61 \u540e\u7eed\u7f51\u9875\u641c\u7d22\u7684Google\u641c\u7d22\u6761\u76ee <code>retrievalMetadata</code> \u5bf9\u8c61 \u4e0e\u57fa\u51c6\u6d41\u7a0b\u4e2d\u68c0\u7d22\u76f8\u5173\u7684\u5143\u6570\u636e <p>GroundingAttribution \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>sourceId</code> \u5bf9\u8c61 \u5bf9\u6b64\u5f52\u56e0\u505a\u51fa\u8d21\u732e\u7684\u6765\u6e90\u7684\u6807\u8bc6\u7b26 <code>content</code> \u5bf9\u8c61 \u6784\u6210\u6b64\u5f52\u56e0\u7684\u6765\u6e90\u5185\u5bb9 <p>AttributionSourceId \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>groundingPassage</code> \u5bf9\u8c61 \u5185\u5d4c\u6bb5\u843d\u7684\u6807\u8bc6\u7b26 <code>semanticRetrieverChunk</code> \u5bf9\u8c61 \u901a\u8fc7Semantic Retriever\u63d0\u53d6\u7684Chunk\u7684\u6807\u8bc6\u7b26 <p>GroundingPassageId \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>passageId</code> \u5b57\u7b26\u4e32 \u4e0eGenerateAnswerRequest\u7684GroundingPassage.id\u5339\u914d\u7684\u6bb5\u843d\u7684ID <code>partIndex</code> \u6574\u6570 GenerateAnswerRequest\u7684GroundingPassage.content\u4e2d\u7684\u90e8\u5206\u7684\u7d22\u5f15 <p>SemanticRetrieverChunk \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>source</code> \u5b57\u7b26\u4e32 \u4e0e\u8bf7\u6c42\u7684SemanticRetrieverConfig.source\u5339\u914d\u7684\u6765\u6e90\u540d\u79f0 <code>chunk</code> \u5b57\u7b26\u4e32 \u5305\u542b\u5f52\u56e0\u6587\u672c\u7684Chunk\u7684\u540d\u79f0 <p>SearchEntryPoint \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>renderedContent</code> \u5b57\u7b26\u4e32 \u53ef\u5d4c\u5165\u7f51\u9875\u6216\u5e94\u7528WebView\u4e2d\u7684Web\u5185\u5bb9\u4ee3\u7801\u6bb5 <code>sdkBlob</code> \u5b57\u7b26\u4e32 \u4f7f\u7528base64\u7f16\u7801\u7684JSON\uff0c\u8868\u793a\u641c\u7d22\u8bcd\u548c\u641c\u7d22URL\u5143\u7ec4\u7684\u6570\u7ec4 <p>Segment \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>partIndex</code> \u6574\u6570 Part\u5bf9\u8c61\u5728\u5176\u7236\u7ea7Content\u5bf9\u8c61\u4e2d\u7684\u7d22\u5f15 <code>startIndex</code> \u6574\u6570 \u7ed9\u5b9apart\u4e2d\u7684\u8d77\u59cb\u7d22\u5f15\uff0c\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d <code>endIndex</code> \u6574\u6570 \u7ed9\u5b9a\u5206\u5757\u4e2d\u7684\u7ed3\u675f\u7d22\u5f15\uff0c\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d <code>text</code> \u5b57\u7b26\u4e32 \u4e0e\u54cd\u5e94\u4e2d\u7684\u7247\u6bb5\u5bf9\u5e94\u7684\u6587\u672c <p>RetrievalMetadata \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>googleSearchDynamicRetrievalScore</code> \u6570\u5b57 Google\u641c\u7d22\u4e2d\u7684\u4fe1\u606f\u6709\u52a9\u4e8e\u56de\u7b54\u95ee\u9898\u7684\u6982\u7387\u5f97\u5206\uff0c\u8303\u56f4[0,1] <p>GroundingChunk \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>web</code> \u5bf9\u8c61 \u6765\u81ea\u7f51\u7edc\u7684\u63a5\u5730\u5206\u5757 <p>Web \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>uri</code> \u5b57\u7b26\u4e32 \u5206\u5757\u7684URI\u5f15\u7528 <code>title</code> \u5b57\u7b26\u4e32 \u6570\u636e\u5757\u7684\u6807\u9898 <p>GroundingSupport \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>groundingChunkIndices</code> \u6570\u7ec4 \u7d22\u5f15\u5217\u8868\uff0c\u7528\u4e8e\u6307\u5b9a\u4e0e\u7248\u6743\u4e3b\u5f20\u76f8\u5173\u7684\u5f15\u6587 <code>confidenceScores</code> \u6570\u7ec4 \u652f\u6301\u53c2\u8003\u6587\u6863\u7684\u7f6e\u4fe1\u5ea6\u5206\u6570\uff0c\u8303\u56f4\u4e3a0\u52301 <code>segment</code> \u5bf9\u8c61 \u6b64\u652f\u6301\u8bf7\u6c42\u6240\u5c5e\u7684\u5185\u5bb9\u7247\u6bb5"},{"location":"google-gemini-chat/#_27","title":"\u591a\u6a21\u6001\u5904\u7406","text":"<p>Gemini API \u652f\u6301\u5904\u7406\u591a\u79cd\u6a21\u6001\u7684\u8f93\u5165\u548c\u8f93\u51fa\uff1a</p> <p>\u652f\u6301\u7684\u8f93\u5165\u6a21\u6001\uff1a</p> <ul> <li><code>TEXT</code>: \u7eaf\u6587\u672c</li> <li><code>IMAGE</code>: \u56fe\u7247\uff08JPEG\u3001PNG\u3001WebP\u3001HEIC\u3001HEIF\uff09</li> <li><code>AUDIO</code>: \u97f3\u9891\uff08WAV\u3001MP3\u3001AIFF\u3001AAC\u3001OGG\u3001FLAC\uff09</li> <li><code>VIDEO</code>: \u89c6\u9891\uff08MP4\u3001MPEG\u3001MOV\u3001AVI\u3001FLV\u3001MPG\u3001WEBM\u3001WMV\u30013GPP\uff09</li> <li><code>DOCUMENT</code>: \u6587\u6863\uff08PDF\uff09</li> </ul> <p>ModalityTokenCount \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>modality</code> \u679a\u4e3e \u4e0e\u6b64\u4ee4\u724c\u6570\u5173\u8054\u7684\u6a21\u6001 <code>tokenCount</code> \u6574\u6570 \u4ee4\u724c\u6570\u91cf <p>MediaResolution \u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>MEDIA_RESOLUTION_LOW</code>: \u4f4e\u5206\u8fa8\u7387\uff0864\u4e2a\u4ee4\u724c\uff09</li> <li><code>MEDIA_RESOLUTION_MEDIUM</code>: \u4e2d\u7b49\u5206\u8fa8\u7387\uff08256\u4e2a\u4ee4\u724c\uff09</li> <li><code>MEDIA_RESOLUTION_HIGH</code>: \u9ad8\u5206\u8fa8\u7387\uff08256\u4e2a\u4ee4\u724c\u8fdb\u884c\u7f29\u653e\u91cd\u65b0\u53d6\u666f\uff09</li> </ul>"},{"location":"google-gemini-chat/#_28","title":"\u601d\u8003\u529f\u80fd","text":"<p>ThinkingConfig \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>includeThoughts</code> \u5e03\u5c14\u503c \u662f\u5426\u8981\u5728\u56de\u7b54\u4e2d\u5305\u542b\u601d\u8003\u5185\u5bb9 <code>thinkingBudget</code> \u6574\u6570 \u6a21\u578b\u5e94\u751f\u6210\u7684\u60f3\u6cd5token\u7684\u6570\u91cf"},{"location":"google-gemini-chat/#_29","title":"\u8bed\u97f3\u751f\u6210","text":"<p>SpeechConfig \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>voiceConfig</code> \u5bf9\u8c61 \u5355\u58f0\u97f3\u8f93\u51fa\u7684\u914d\u7f6e <code>multiSpeakerVoiceConfig</code> \u5bf9\u8c61 \u591a\u97f3\u7bb1\u8bbe\u7f6e\u7684\u914d\u7f6e <code>languageCode</code> \u5b57\u7b26\u4e32 \u7528\u4e8e\u8bed\u97f3\u5408\u6210\u7684\u8bed\u8a00\u4ee3\u7801 <p>VoiceConfig \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>prebuiltVoiceConfig</code> \u5bf9\u8c61 \u8981\u4f7f\u7528\u7684\u9884\u6784\u5efa\u8bed\u97f3\u7684\u914d\u7f6e <p>PrebuiltVoiceConfig \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>voiceName</code> \u5b57\u7b26\u4e32 \u8981\u4f7f\u7528\u7684\u9884\u8bbe\u8bed\u97f3\u7684\u540d\u79f0 <p>MultiSpeakerVoiceConfig \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>speakerVoiceConfigs</code> \u6570\u7ec4 \u6240\u6709\u5df2\u542f\u7528\u7684\u97f3\u7bb1\u8bed\u97f3 <p>SpeakerVoiceConfig \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>speaker</code> \u5b57\u7b26\u4e32 \u8981\u4f7f\u7528\u7684\u97f3\u7bb1\u7684\u540d\u79f0 <code>voiceConfig</code> \u5bf9\u8c61 \u8981\u4f7f\u7528\u7684\u8bed\u97f3\u7684\u914d\u7f6e <p>\u652f\u6301\u7684\u8bed\u8a00\u4ee3\u7801\uff1a</p> <ul> <li><code>zh-CN</code>: \u4e2d\u6587\uff08\u7b80\u4f53\uff09</li> <li><code>en-US</code>: \u82f1\u8bed\uff08\u7f8e\u56fd\uff09</li> <li><code>ja-JP</code>: \u65e5\u8bed</li> <li><code>ko-KR</code>: \u97e9\u8bed</li> <li><code>fr-FR</code>: \u6cd5\u8bed</li> <li><code>de-DE</code>: \u5fb7\u8bed</li> <li><code>es-ES</code>: \u897f\u73ed\u7259\u8bed</li> <li><code>pt-BR</code>: \u8461\u8404\u7259\u8bed\uff08\u5df4\u897f\uff09</li> <li><code>hi-IN</code>: \u5370\u5730\u8bed</li> <li><code>ar-XA</code>: \u963f\u62c9\u4f2f\u8bed</li> <li><code>it-IT</code>: \u610f\u5927\u5229\u8bed</li> <li><code>tr-TR</code>: \u571f\u8033\u5176\u8bed</li> <li><code>vi-VN</code>: \u8d8a\u5357\u8bed</li> <li><code>th-TH</code>: \u6cf0\u8bed</li> <li><code>ru-RU</code>: \u4fc4\u8bed</li> <li><code>pl-PL</code>: \u6ce2\u5170\u8bed</li> <li><code>nl-NL</code>: \u8377\u5170\u8bed</li> </ul>"},{"location":"google-gemini-chat/#logprobs","title":"Logprobs \u7ed3\u679c","text":"<p>LogprobsResult \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>topCandidates</code> \u6570\u7ec4 \u957f\u5ea6\u7b49\u4e8e\u89e3\u7801\u6b65\u9aa4\u603b\u6570 <code>chosenCandidates</code> \u6570\u7ec4 \u957f\u5ea6\u7b49\u4e8e\u89e3\u7801\u6b65\u9aa4\u603b\u6570\uff0c\u6240\u9009\u5019\u9009\u9879\u4e0d\u4e00\u5b9a\u5728topCandidates\u4e2d <p>TopCandidates \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>candidates</code> \u6570\u7ec4 \u6309\u5bf9\u6570\u6982\u7387\u964d\u5e8f\u6392\u5e8f\u7684\u5019\u9009\u9879 <p>Candidate (Logprobs) \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>token</code> \u5b57\u7b26\u4e32 \u5019\u9009\u9879\u7684\u4ee4\u724c\u5b57\u7b26\u4e32\u503c <code>tokenId</code> \u6574\u6570 \u5019\u9009\u9879\u7684\u4ee4\u724cID\u503c <code>logProbability</code> \u6570\u5b57 \u5019\u9009\u9879\u7684\u5bf9\u6570\u6982\u7387"},{"location":"google-gemini-chat/#url","title":"URL\u68c0\u7d22\u529f\u80fd","text":"<p>UrlRetrievalMetadata \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>urlRetrievalContexts</code> \u6570\u7ec4 \u7f51\u5740\u68c0\u7d22\u60c5\u5883\u5217\u8868 <p>UrlRetrievalContext \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>retrievedUrl</code> \u5b57\u7b26\u4e32 \u5de5\u5177\u68c0\u7d22\u5230\u7684\u7f51\u5740 <p>UrlContextMetadata \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>urlMetadata</code> \u6570\u7ec4 \u7f51\u5740\u4e0a\u4e0b\u6587\u5217\u8868 <p>UrlMetadata \u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>retrievedUrl</code> \u5b57\u7b26\u4e32 \u5de5\u5177\u68c0\u7d22\u5230\u7684\u7f51\u5740 <code>urlRetrievalStatus</code> \u679a\u4e3e \u7f51\u5740\u68c0\u7d22\u7684\u72b6\u6001 <p>UrlRetrievalStatus \u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>URL_RETRIEVAL_STATUS_SUCCESS</code>: \u7f51\u5740\u68c0\u7d22\u6210\u529f</li> <li><code>URL_RETRIEVAL_STATUS_ERROR</code>: \u7531\u4e8e\u51fa\u9519\uff0c\u7f51\u5740\u68c0\u7d22\u5931\u8d25</li> </ul>"},{"location":"google-gemini-chat/#_30","title":"\u5b8c\u6574\u5b89\u5168\u7c7b\u522b","text":"<p>HarmCategory \u5b8c\u6574\u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>HARM_CATEGORY_UNSPECIFIED</code>: \u7c7b\u522b\u672a\u6307\u5b9a</li> <li><code>HARM_CATEGORY_DEROGATORY</code>: PaLM - \u9488\u5bf9\u8eab\u4efd\u548c/\u6216\u53d7\u4fdd\u62a4\u5c5e\u6027\u7684\u8d1f\u9762\u6216\u6709\u5bb3\u8bc4\u8bba</li> <li><code>HARM_CATEGORY_TOXICITY</code>: PaLM - \u7c97\u9c81\u3001\u65e0\u793c\u6216\u4eb5\u6e0e\u6027\u7684\u5185\u5bb9</li> <li><code>HARM_CATEGORY_VIOLENCE</code>: PaLM - \u63cf\u8ff0\u63cf\u7ed8\u9488\u5bf9\u4e2a\u4eba\u6216\u56e2\u4f53\u7684\u66b4\u529b\u884c\u4e3a\u7684\u573a\u666f</li> <li><code>HARM_CATEGORY_SEXUAL</code>: PaLM - \u5305\u542b\u5bf9\u6027\u884c\u4e3a\u6216\u5176\u4ed6\u6deb\u79fd\u5185\u5bb9\u7684\u5f15\u7528</li> <li><code>HARM_CATEGORY_MEDICAL</code>: PaLM - \u5ba3\u4f20\u672a\u7ecf\u6838\u5b9e\u7684\u533b\u7597\u5efa\u8bae</li> <li><code>HARM_CATEGORY_DANGEROUS</code>: PaLM - \u5371\u9669\u5185\u5bb9\u4f1a\u5ba3\u626c\u3001\u52a9\u957f\u6216\u9f13\u52b1\u6709\u5bb3\u884c\u4e3a</li> <li><code>HARM_CATEGORY_HARASSMENT</code>: Gemini - \u9a9a\u6270\u5185\u5bb9</li> <li><code>HARM_CATEGORY_HATE_SPEECH</code>: Gemini - \u4ec7\u6068\u8a00\u8bba\u548c\u5185\u5bb9</li> <li><code>HARM_CATEGORY_SEXUALLY_EXPLICIT</code>: Gemini - \u9732\u9aa8\u8272\u60c5\u5185\u5bb9</li> <li><code>HARM_CATEGORY_DANGEROUS_CONTENT</code>: Gemini - \u5371\u9669\u5185\u5bb9</li> <li><code>HARM_CATEGORY_CIVIC_INTEGRITY</code>: Gemini - \u53ef\u80fd\u7528\u4e8e\u7834\u574f\u516c\u6c11\u8bda\u4fe1\u7684\u5185\u5bb9</li> </ul> <p>HarmProbability \u5b8c\u6574\u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>HARM_PROBABILITY_UNSPECIFIED</code>: \u6982\u7387\u672a\u6307\u5b9a</li> <li><code>NEGLIGIBLE</code>: \u5185\u5bb9\u4e0d\u5b89\u5168\u7684\u6982\u7387\u53ef\u5ffd\u7565\u4e0d\u8ba1</li> <li><code>LOW</code>: \u5185\u5bb9\u4e0d\u5b89\u5168\u7684\u6982\u7387\u8f83\u4f4e</li> <li><code>MEDIUM</code>: \u5185\u5bb9\u4e0d\u5b89\u5168\u7684\u6982\u7387\u4e3a\u4e2d\u7b49</li> <li><code>HIGH</code>: \u5185\u5bb9\u4e0d\u5b89\u5168\u7684\u6982\u7387\u8f83\u9ad8</li> </ul> <p>Modality \u5b8c\u6574\u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>MODALITY_UNSPECIFIED</code>: \u672a\u6307\u5b9a\u6a21\u6001</li> <li><code>TEXT</code>: \u7eaf\u6587\u672c</li> <li><code>IMAGE</code>: \u56fe\u7247</li> <li><code>VIDEO</code>: \u89c6\u9891</li> <li><code>AUDIO</code>: \u97f3\u9891</li> <li><code>DOCUMENT</code>: \u6587\u6863\uff0c\u4f8b\u5982PDF</li> </ul> <p>MediaResolution \u5b8c\u6574\u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>MEDIA_RESOLUTION_UNSPECIFIED</code>: \u672a\u8bbe\u7f6e\u5a92\u4f53\u5206\u8fa8\u7387</li> <li><code>MEDIA_RESOLUTION_LOW</code>: \u5a92\u4f53\u5206\u8fa8\u7387\u8bbe\u4e3a\u4f4e\uff0864\u4e2a\u4ee4\u724c\uff09</li> <li><code>MEDIA_RESOLUTION_MEDIUM</code>: \u5a92\u4f53\u5206\u8fa8\u7387\u8bbe\u4e3a\u4e2d\u7b49\uff08256\u4e2a\u4ee4\u724c\uff09</li> <li><code>MEDIA_RESOLUTION_HIGH</code>: \u5a92\u4f53\u5206\u8fa8\u7387\u8bbe\u4e3a\u9ad8\uff08\u4f7f\u7528256\u4e2a\u4ee4\u724c\u8fdb\u884c\u7f29\u653e\u91cd\u65b0\u53d6\u666f\uff09</li> </ul> <p>UrlRetrievalStatus \u5b8c\u6574\u679a\u4e3e\u503c\uff1a</p> <ul> <li><code>URL_RETRIEVAL_STATUS_UNSPECIFIED</code>: \u9ed8\u8ba4\u503c\uff0c\u6b64\u503c\u672a\u4f7f\u7528</li> <li><code>URL_RETRIEVAL_STATUS_SUCCESS</code>: \u7f51\u5740\u68c0\u7d22\u6210\u529f</li> <li><code>URL_RETRIEVAL_STATUS_ERROR</code>: \u7531\u4e8e\u51fa\u9519\uff0c\u7f51\u5740\u68c0\u7d22\u5931\u8d25</li> </ul>"},{"location":"google-gemini-chat/#_31","title":"\ud83d\udd0d \u9519\u8bef\u5904\u7406","text":""},{"location":"google-gemini-chat/#_32","title":"\u5e38\u89c1\u9519\u8bef\u7801","text":"\u9519\u8bef\u7801 \u63cf\u8ff0 <code>400</code> \u8bf7\u6c42\u683c\u5f0f\u9519\u8bef\u6216\u53c2\u6570\u65e0\u6548 <code>401</code> API\u5bc6\u94a5\u65e0\u6548\u6216\u7f3a\u5931 <code>403</code> \u6743\u9650\u4e0d\u8db3\u6216\u914d\u989d\u9650\u5236 <code>429</code> \u8bf7\u6c42\u9891\u7387\u8fc7\u9ad8 <code>500</code> \u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef"},{"location":"google-gemini-chat/#_33","title":"\u8be6\u7ec6\u9519\u8bef\u7801\u8bf4\u660e","text":"\u9519\u8bef\u7801 \u72b6\u6001 \u63cf\u8ff0 \u89e3\u51b3\u65b9\u6848 <code>400</code> <code>INVALID_ARGUMENT</code> \u8bf7\u6c42\u53c2\u6570\u65e0\u6548\u6216\u683c\u5f0f\u9519\u8bef \u68c0\u67e5\u8bf7\u6c42\u53c2\u6570\u683c\u5f0f\u548c\u5fc5\u9700\u5b57\u6bb5 <code>400</code> <code>FAILED_PRECONDITION</code> \u8bf7\u6c42\u7684\u524d\u7f6e\u6761\u4ef6\u4e0d\u6ee1\u8db3 \u786e\u4fdd\u6ee1\u8db3API\u8c03\u7528\u7684\u524d\u7f6e\u6761\u4ef6 <code>401</code> <code>UNAUTHENTICATED</code> API\u5bc6\u94a5\u65e0\u6548\u3001\u7f3a\u5931\u6216\u5df2\u8fc7\u671f \u68c0\u67e5API\u5bc6\u94a5\u7684\u6709\u6548\u6027\u548c\u683c\u5f0f <code>403</code> <code>PERMISSION_DENIED</code> \u6743\u9650\u4e0d\u8db3\u6216\u914d\u989d\u5df2\u7528\u5b8c \u68c0\u67e5API\u5bc6\u94a5\u6743\u9650\u6216\u5347\u7ea7\u914d\u989d <code>404</code> <code>NOT_FOUND</code> \u6307\u5b9a\u7684\u6a21\u578b\u6216\u8d44\u6e90\u4e0d\u5b58\u5728 \u9a8c\u8bc1\u6a21\u578b\u540d\u79f0\u548c\u8d44\u6e90\u8def\u5f84 <code>413</code> <code>PAYLOAD_TOO_LARGE</code> \u8bf7\u6c42\u4f53\u592a\u5927 \u51cf\u5c11\u8f93\u5165\u5185\u5bb9\u5927\u5c0f\u6216\u5206\u6279\u5904\u7406 <code>429</code> <code>RESOURCE_EXHAUSTED</code> \u8bf7\u6c42\u9891\u7387\u8d85\u9650\u6216\u914d\u989d\u4e0d\u8db3 \u964d\u4f4e\u8bf7\u6c42\u9891\u7387\u6216\u7b49\u5f85\u914d\u989d\u91cd\u7f6e <code>500</code> <code>INTERNAL</code> \u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef \u91cd\u8bd5\u8bf7\u6c42\uff0c\u5982\u6301\u7eed\u51fa\u73b0\u8054\u7cfb\u652f\u6301 <code>503</code> <code>UNAVAILABLE</code> \u670d\u52a1\u6682\u65f6\u4e0d\u53ef\u7528 \u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u540e\u91cd\u8bd5 <code>504</code> <code>DEADLINE_EXCEEDED</code> \u8bf7\u6c42\u8d85\u65f6 \u51cf\u5c11\u8f93\u5165\u5927\u5c0f\u6216\u91cd\u8bd5\u8bf7\u6c42"},{"location":"google-gemini-chat/#_34","title":"\u9519\u8bef\u54cd\u5e94\u793a\u4f8b","text":"<pre><code>{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Invalid argument: contents\",\n    \"status\": \"INVALID_ARGUMENT\",\n    \"details\": [\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.BadRequest\",\n        \"fieldViolations\": [\n          {\n            \"field\": \"contents\",\n            \"description\": \"contents is required\"\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"jinaai-rerank/","title":"Jina AI \u91cd\u6392\u5e8f\u683c\u5f0f\uff08Rerank\uff09","text":"<p>\u5b98\u65b9\u6587\u6863</p> <p>Jina AI Rerank</p> <p>\u6807\u51c6\u683c\u5f0f</p> <p>\u5728API\u4e2d\uff0cJina AI\u7684rerank\u683c\u5f0f\u88ab\u91c7\u7528\u4e3a\u6807\u51c6\u683c\u5f0f\u3002\u6240\u6709\u5176\u4ed6\u4f9b\u5e94\u5546\uff08\u5982Xinference\u3001Cohere\u7b49\uff09\u7684rerank\u54cd\u5e94\u90fd\u4f1a\u88ab\u683c\u5f0f\u5316\u4e3aJina AI\u7684\u683c\u5f0f\uff0c\u4ee5\u63d0\u4f9b\u7edf\u4e00\u7684\u5f00\u53d1\u4f53\u9a8c\u3002</p>"},{"location":"jinaai-rerank/#_1","title":"\ud83d\udcdd \u7b80\u4ecb","text":"<p>Jina AI Rerank \u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u6587\u672c\u91cd\u6392\u5e8f\u6a21\u578b\uff0c\u53ef\u4ee5\u6839\u636e\u67e5\u8be2\u5bf9\u6587\u6863\u5217\u8868\u8fdb\u884c\u76f8\u5173\u6027\u6392\u5e8f\u3002\u8be5\u6a21\u578b\u652f\u6301\u591a\u8bed\u8a00\uff0c\u53ef\u4ee5\u5904\u7406\u4e0d\u540c\u8bed\u8a00\u7684\u6587\u672c\u5185\u5bb9\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u6587\u6863\u5206\u914d\u76f8\u5173\u6027\u5206\u6570\u3002</p>"},{"location":"jinaai-rerank/#_2","title":"\ud83d\udca1 \u8bf7\u6c42\u793a\u4f8b","text":""},{"location":"jinaai-rerank/#_3","title":"\u57fa\u7840\u91cd\u6392\u5e8f\u8bf7\u6c42 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/rerank \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"jina-reranker-v2-base-multilingual\",\n    \"query\": \"Organic skincare products for sensitive skin\",\n    \"top_n\": 3,\n    \"documents\": [\n      \"Organic skincare for sensitive skin with aloe vera and chamomile...\",\n      \"New makeup trends focus on bold colors and innovative techniques...\",\n      \"Bio-Hautpflege f\u00fcr empfindliche Haut mit Aloe Vera und Kamille...\"\n    ]\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"results\": [\n    {\n      \"document\": {\n        \"text\": \"Organic skincare for sensitive skin with aloe vera and chamomile...\"\n      },\n      \"index\": 0,\n      \"relevance_score\": 0.8783142566680908\n    },\n    {\n      \"document\": {\n        \"text\": \"Bio-Hautpflege f\u00fcr empfindliche Haut mit Aloe Vera und Kamille...\"\n      },\n      \"index\": 2,\n      \"relevance_score\": 0.7624675869941711\n    }\n  ],\n  \"usage\": {\n    \"prompt_tokens\": 815,\n    \"completion_tokens\": 0,\n    \"total_tokens\": 815\n  }\n}\n</code></pre>"},{"location":"jinaai-rerank/#_4","title":"\ud83d\udcee \u8bf7\u6c42","text":""},{"location":"jinaai-rerank/#_5","title":"\u7aef\u70b9","text":"<pre><code>POST /v1/rerank\n</code></pre>"},{"location":"jinaai-rerank/#_6","title":"\u9274\u6743\u65b9\u6cd5","text":"<p>\u5728\u8bf7\u6c42\u5934\u4e2d\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\u8fdb\u884c API \u5bc6\u94a5\u8ba4\u8bc1\uff1a</p> <pre><code>Authorization: Bearer $API_API_KEY\n</code></pre> <p>\u5176\u4e2d <code>$API_API_KEY</code> \u662f\u60a8\u7684 API \u5bc6\u94a5\u3002</p>"},{"location":"jinaai-rerank/#_7","title":"\u8bf7\u6c42\u4f53\u53c2\u6570","text":""},{"location":"jinaai-rerank/#model","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1ajina-reranker-v2-base-multilingual</li> <li>\u8bf4\u660e\uff1a\u8981\u4f7f\u7528\u7684\u91cd\u6392\u5e8f\u6a21\u578b</li> </ul>"},{"location":"jinaai-rerank/#query","title":"<code>query</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u7528\u4e8e\u5bf9\u6587\u6863\u8fdb\u884c\u76f8\u5173\u6027\u6392\u5e8f\u7684\u67e5\u8be2\u6587\u672c</li> </ul>"},{"location":"jinaai-rerank/#top_n","title":"<code>top_n</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1a\u65e0\u9650\u5236</li> <li>\u8bf4\u660e\uff1a\u8fd4\u56de\u6392\u5e8f\u540e\u7684\u524d N \u4e2a\u6587\u6863</li> </ul>"},{"location":"jinaai-rerank/#documents","title":"<code>documents</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u8981\u8fdb\u884c\u91cd\u6392\u5e8f\u7684\u6587\u6863\u5217\u8868</li> <li>\u9650\u5236\uff1a\u6bcf\u4e2a\u6587\u6863\u7684\u957f\u5ea6\u4e0d\u5e94\u8d85\u8fc7\u6a21\u578b\u7684\u6700\u5927token\u9650\u5236</li> </ul>"},{"location":"jinaai-rerank/#_8","title":"\ud83d\udce5 \u54cd\u5e94","text":""},{"location":"jinaai-rerank/#_9","title":"\u6210\u529f\u54cd\u5e94","text":""},{"location":"jinaai-rerank/#results","title":"<code>results</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u8bf4\u660e\uff1a\u91cd\u6392\u5e8f\u540e\u7684\u6587\u6863\u5217\u8868</li> <li>\u5c5e\u6027\uff1a</li> <li><code>document</code>: \u5305\u542b\u6587\u6863\u6587\u672c\u7684\u5bf9\u8c61</li> <li><code>index</code>: \u6587\u6863\u5728\u539f\u59cb\u5217\u8868\u4e2d\u7684\u7d22\u5f15</li> <li><code>relevance_score</code>: \u76f8\u5173\u6027\u5206\u6570(0-1\u4e4b\u95f4)</li> </ul>"},{"location":"jinaai-rerank/#usage","title":"<code>usage</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u8bf4\u660e\uff1atoken \u4f7f\u7528\u7edf\u8ba1</li> <li>\u5c5e\u6027\uff1a</li> <li><code>prompt_tokens</code>: \u63d0\u793a\u4f7f\u7528\u7684 token \u6570</li> <li><code>completion_tokens</code>: \u8865\u5168\u4f7f\u7528\u7684 token \u6570</li> <li><code>total_tokens</code>: \u603b token \u6570</li> <li><code>prompt_tokens_details</code>: \u63d0\u793a token \u8be6\u7ec6\u4fe1\u606f<ul> <li><code>cached_tokens</code>: \u7f13\u5b58\u7684 token \u6570</li> <li><code>audio_tokens</code>: \u97f3\u9891 token \u6570</li> </ul> </li> <li><code>completion_tokens_details</code>: \u8865\u5168 token \u8be6\u7ec6\u4fe1\u606f<ul> <li><code>reasoning_tokens</code>: \u63a8\u7406 token \u6570</li> <li><code>audio_tokens</code>: \u97f3\u9891 token \u6570</li> <li><code>accepted_prediction_tokens</code>: \u63a5\u53d7\u7684\u9884\u6d4b token \u6570</li> <li><code>rejected_prediction_tokens</code>: \u62d2\u7edd\u7684\u9884\u6d4b token \u6570</li> </ul> </li> </ul>"},{"location":"jinaai-rerank/#_10","title":"\u9519\u8bef\u54cd\u5e94","text":"<p>\u5f53\u8bf7\u6c42\u51fa\u73b0\u95ee\u9898\u65f6\uff0cAPI \u5c06\u8fd4\u56de\u9519\u8bef\u54cd\u5e94\uff1a</p> <ul> <li><code>400 Bad Request</code>: \u8bf7\u6c42\u53c2\u6570\u65e0\u6548</li> <li><code>401 Unauthorized</code>: API \u5bc6\u94a5\u65e0\u6548\u6216\u672a\u63d0\u4f9b</li> <li><code>429 Too Many Requests</code>: \u8bf7\u6c42\u9891\u7387\u8d85\u9650</li> <li><code>500 Internal Server Error</code>: \u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef</li> </ul>"},{"location":"jinaai-rerank/#_11","title":"\ud83d\udca1 \u6700\u4f73\u5b9e\u8df5","text":""},{"location":"jinaai-rerank/#_12","title":"\u67e5\u8be2\u4f18\u5316\u5efa\u8bae","text":"<ol> <li>\u4f7f\u7528\u6e05\u6670\u5177\u4f53\u7684\u67e5\u8be2\u6587\u672c</li> <li>\u907f\u514d\u8fc7\u4e8e\u5bbd\u6cdb\u6216\u6a21\u7cca\u7684\u67e5\u8be2</li> <li>\u786e\u4fdd\u67e5\u8be2\u4e0e\u6587\u6863\u4f7f\u7528\u76f8\u540c\u7684\u8bed\u8a00\u98ce\u683c</li> </ol>"},{"location":"jinaai-rerank/#_13","title":"\u6587\u6863\u5904\u7406\u5efa\u8bae","text":"<ol> <li>\u4fdd\u6301\u6587\u6863\u957f\u5ea6\u9002\u4e2d\uff0c\u4e0d\u8981\u8d85\u8fc7\u6a21\u578b\u9650\u5236</li> <li>\u786e\u4fdd\u6587\u6863\u5185\u5bb9\u5b8c\u6574\u4e14\u6709\u610f\u4e49</li> <li>\u53ef\u4ee5\u5305\u542b\u591a\u8bed\u8a00\u6587\u6863\uff0c\u6a21\u578b\u652f\u6301\u8de8\u8bed\u8a00\u5339\u914d</li> </ol>"},{"location":"jinaai-rerank/#_14","title":"\u6027\u80fd\u4f18\u5316","text":"<ol> <li>\u5408\u7406\u8bbe\u7f6e top_n \u53c2\u6570\u4ee5\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u8ba1\u7b97</li> <li>\u5bf9\u4e8e\u5927\u91cf\u6587\u6863\uff0c\u8003\u8651\u5206\u6279\u5904\u7406</li> <li>\u53ef\u4ee5\u7f13\u5b58\u5e38\u7528\u67e5\u8be2\u7684\u7ed3\u679c</li> </ol>"},{"location":"jinaai-rerank/#_15","title":"\u591a\u8bed\u8a00\u652f\u6301","text":"<p>\u8be5\u6a21\u578b\u652f\u6301\u591a\u79cd\u8bed\u8a00\u7684\u6587\u6863\u91cd\u6392\u5e8f\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a</p> <ul> <li>\u82f1\u8bed</li> <li>\u4e2d\u6587</li> <li>\u5fb7\u8bed</li> <li>\u897f\u73ed\u7259\u8bed</li> <li>\u65e5\u8bed</li> <li>\u6cd5\u8bed</li> </ul> <p>\u65e0\u9700\u6307\u5b9a\u8bed\u8a00\u53c2\u6570\uff0c\u6a21\u578b\u4f1a\u81ea\u52a8\u8bc6\u522b\u548c\u5904\u7406\u4e0d\u540c\u8bed\u8a00\u7684\u5185\u5bb9\u3002</p>"},{"location":"midjourney-proxy-image/","title":"Midjourney \u56fe\u50cf\u683c\u5f0f\uff08Midjourney Proxy/Midjourney Proxy Plus\uff09","text":"<p>\u8bf7\u4f60\u6ce8\u610f</p> <p>\u8be5\u63a5\u53e3 \u975eMidjourney\u5b98\u65b9\u7684\u63a5\u53e3\uff0c\u800c\u662f\u57fa\u4e8e\u4f5c\u8005 novicezk \u7684\u5f00\u6e90\u9879\u76ee midjourney-proxy \u5b9e\u73b0\u7684midjourney\u4ee3\u7406\u63a5\u53e3\u3002</p> <p>\u8be5\u9879\u76ee\u5206\u4e3a\u4e24\u4e2a\u7248\u672c\uff0cAPI \u90fd\u5df2\u7ecf\u9002\u914d\uff1a</p> <ul> <li> <p>\u5f00\u6e90\u7248 midjourney-proxy</p> </li> <li> <p>\u4ed8\u8d39\u7248 midjourney-proxy-plus</p> </li> </ul> <p>\u8fd9\u91cc\u975e\u5e38\u611f\u8c22\u4f5c\u8005\u7684\u8d21\u732e\uff0c\u8ba9\u6211\u4eec\u53ef\u4ee5\u65b9\u4fbf\u4f7f\u7528midjourney\u7684\u5f3a\u5927\u529f\u80fd\uff0c\u5982\u679c\u6709\u65f6\u95f4\uff0c\u8bf7\u7ed9\u4f5c\u8005\u4e00\u4e2aStar\uff0c\u5982\u679c\u6709\u80fd\u529b\uff0c\u5efa\u8bae\u652f\u6301\u4f5c\u8005\u7684\u4ed8\u8d39\u7248\u672c\uff0c\u8be5\u7248\u672c\u652f\u6301\u66f4\u591a\u529f\u80fd\u3002</p> \u529f\u80fd\u7c7b\u522b \u5f00\u6e90\u7248 \u4ed8\u8d39\u7248 \u57fa\u7840\u529f\u80fd Imagine\u6307\u4ee4\u53ca\u76f8\u5173\u52a8\u4f5c \u2713 \u2713 \u57ab\u56fe\u652f\u6301 \u2713 \u2713 Blend(\u56fe\u7247\u6df7\u5408) \u2713 \u2713 Describe(\u56fe\u751f\u6587) \u2713 \u2713 \u4efb\u52a1\u5b9e\u65f6\u8fdb\u5ea6 \u2713 \u2713 \u4e2d\u6587prompt\u7ffb\u8bd1 \u2713 \u2713 prompt\u654f\u611f\u8bcd\u68c0\u6d4b \u2713 \u2713 user-token\u8fde\u63a5wss \u2713 \u2713 \u591a\u8d26\u53f7\u914d\u7f6e \u2713 \u2713 \u9ad8\u7ea7\u529f\u80fd Shorten(prompt\u5206\u6790) \u2717 \u2713 \u7126\u70b9\u79fb\u52a8(Pan) \u2717 \u2713 \u56fe\u7247\u53d8\u7126(Zoom) \u2717 \u2713 \u5c40\u90e8\u91cd\u7ed8(Vary Region) \u2717 \u2713 \u5173\u8054\u6309\u94ae\u52a8\u4f5c\u548cRemix\u6a21\u5f0f \u2717 \u2713 \u83b7\u53d6\u56fe\u7247seed\u503c \u2717 \u2713 \u8d26\u53f7\u7ba1\u7406 \u8d26\u53f7\u6c60\u6301\u4e45\u5316 \u2717 \u2713 \u591a\u79cd\u5b58\u50a8\u652f\u6301(Redis/MySQL) \u2717 \u2713 \u8d26\u53f7\u4fe1\u606f\u83b7\u53d6\u548c\u8bbe\u7f6e \u2717 \u2713 \u4efb\u52a1\u53d6\u6d88\u529f\u80fd \u2717 \u2713 \u5185\u7f6e\u7ba1\u7406\u540e\u53f0 \u2717 \u2713 \u667a\u80fd\u7279\u6027 MJ V6.0\u652f\u6301 \u2717 \u2713 \u8d26\u53f7\u72b6\u6001\u81ea\u52a8\u76d1\u63a7 \u2717 \u2713 \u6a21\u5f0f\u81ea\u52a8\u5207\u6362 \u2717 \u2713 niji\u30fbjourney Bot\u652f\u6301 \u2717 \u2713 InsightFace\u4eba\u8138\u670d\u52a1 \u2717 \u2713 \u5b89\u5168\u6027\u80fd \u52a8\u6001\u914d\u7f6e\u652f\u6301 \u2717 \u2713 token\u6389\u7ebf\u95ee\u9898\u4fee\u590d \u2717 \u2713 \u81ea\u52a8\u9a8c\u8bc1\u529f\u80fd \u2717 \u2713 \u8fdd\u7981\u8bcd\u81ea\u52a8\u7533\u8bc9 \u2717 \u2713"},{"location":"midjourney-proxy-image/#_1","title":"\ud83d\udcdd \u7b80\u4ecb","text":"<p>Midjourney\u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u56fe\u50cf\u751f\u6210\u548c\u5904\u7406\u6a21\u578b\uff0c\u53ef\u4ee5\u6839\u636e\u81ea\u7136\u8bed\u8a00\u63cf\u8ff0\u521b\u5efa\u3001\u7f16\u8f91\u548c\u4fee\u6539\u56fe\u50cf\u3002\u901a\u8fc7\u63d0\u4f9b\u4e0d\u540c\u7684\u63a5\u53e3\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5404\u79cd\u56fe\u50cf\u751f\u6210\u548c\u5904\u7406\u4efb\u52a1\u3002</p>"},{"location":"midjourney-proxy-image/#_2","title":"\ud83d\udd04 \u6d41\u7a0b\u793a\u610f\u56fe","text":"<pre><code>graph TD\n    A[\u5f00\u59cb] --&gt; B{\u9009\u62e9\u4efb\u52a1\u7c7b\u578b}\n\n    %% Imagine \u6d41\u7a0b\n    B --&gt;|\u6587\u751f\u56fe| C[\u63d0\u4ea4 Imagine \u4efb\u52a1]\n    C --&gt; D[\u83b7\u5f97\u521d\u59cb\u56fe\u7247]\n    D --&gt; E{\u9009\u62e9\u64cd\u4f5c}\n\n    %% \u57fa\u7840\u64cd\u4f5c\u5206\u652f\n    E --&gt;|U1-U4| F[\u653e\u5927]\n    E --&gt;|V1-V4| G[\u53d8\u4f53]\n\n    %% Blend \u6d41\u7a0b\n    B --&gt;|\u56fe\u7247\u6df7\u5408| H[\u63d0\u4ea4 Blend \u4efb\u52a1]\n    H --&gt; D\n\n    %% Describe \u6d41\u7a0b\n    B --&gt;|\u56fe\u751f\u6587| I[\u63d0\u4ea4 Describe \u4efb\u52a1]\n    I --&gt; J[\u83b7\u5f97\u56fe\u7247\u63cf\u8ff0]\n\n    %% Action &amp; Modal \u6d41\u7a0b\n    F --&gt; K[\u63d0\u4ea4 Action]\n    G --&gt; K\n    K --&gt;|\u9700\u8981\u5f39\u7a97| L[\u63d0\u4ea4 Modal]\n    K --&gt;|\u76f4\u63a5\u6267\u884c| M[\u6267\u884c\u5b8c\u6210]\n    L --&gt; M\n\n    %% Face Swap \u6d41\u7a0b\n    B --&gt;|\u4eba\u8138\u66ff\u6362| N[\u63d0\u4ea4 Swap Face \u4efb\u52a1]\n    N --&gt; M\n\n    %% \u67e5\u8be2\u76f8\u5173\n    M --&gt; O{\u540e\u7eed\u64cd\u4f5c}\n    O --&gt;|\u67e5\u8be2\u8fdb\u5ea6| P[\u83b7\u53d6\u4efb\u52a1\u8be6\u60c5]\n    O --&gt;|\u83b7\u53d6\u79cd\u5b50| Q[\u83b7\u53d6\u56fe\u7247 Seed]\n    O --&gt;|\u4fdd\u5b58\u56fe\u7247| R[\u4e0a\u4f20\u81f3 Discord]\n\n    %% \u6837\u5f0f\u5b9a\u4e49\n    classDef process fill:#f9f,stroke:#333,stroke-width:2px\n    classDef decision fill:#bbf,stroke:#333,stroke-width:2px\n    classDef endpoint fill:#bfb,stroke:#333,stroke-width:2px\n\n    class A,M,J,R endpoint\n    class B,E,O decision\n    class C,D,F,G,H,I,K,L,N,P,Q process\n</code></pre>"},{"location":"midjourney-proxy-image/#_3","title":"\u6d41\u7a0b\u8bf4\u660e","text":"<ol> <li>\u521d\u59cb\u4efb\u52a1</li> <li>Imagine: \u6587\u672c\u751f\u6210\u56fe\u7247</li> <li>Blend: \u591a\u56fe\u6df7\u5408</li> <li>Describe: \u56fe\u7247\u63cf\u8ff0</li> <li> <p>Swap Face: \u4eba\u8138\u66ff\u6362</p> </li> <li> <p>\u56fe\u7247\u5904\u7406</p> </li> <li>U1-U4: \u653e\u5927\u64cd\u4f5c</li> <li>V1-V4: \u53d8\u4f53\u751f\u6210</li> <li>Pan: \u56fe\u7247\u5e73\u79fb</li> <li> <p>Zoom: \u56fe\u7247\u7f29\u653e</p> </li> <li> <p>\u7279\u6b8a\u6d41\u7a0b</p> </li> <li>Action + Modal: \u9700\u8981\u5f39\u7a97\u786e\u8ba4\u7684\u64cd\u4f5c</li> <li> <p>Action \u76f4\u63a5\u6267\u884c: \u4e0d\u9700\u8981\u5f39\u7a97\u7684\u64cd\u4f5c</p> </li> <li> <p>\u4efb\u52a1\u7ba1\u7406</p> </li> <li>\u83b7\u53d6\u4efb\u52a1\u8be6\u60c5</li> <li>\u83b7\u53d6\u56fe\u7247 Seed</li> <li>\u4e0a\u4f20\u81f3 Discord</li> </ol>"},{"location":"midjourney-proxy-image/#_4","title":"\ud83d\udca1 \u8bf7\u6c42\u793a\u4f8b","text":""},{"location":"midjourney-proxy-image/#imagine","title":"\u63d0\u4ea4Imagine\u4efb\u52a1 \u2705","text":"<pre><code>curl --location --request POST 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/mj/submit/imagine' \\\n--header 'Authorization: Bearer $API_API_KEY' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n  \"botType\": \"MID_JOURNEY\",\n  \"prompt\": \"Cat\",\n  \"base64Array\": [],\n  \"accountFilter\": {\n    \"channelId\": \"\",\n    \"instanceId\": \"\",\n    \"modes\": [],\n    \"remark\": \"\",\n    \"remix\": true,\n    \"remixAutoConsidered\": true\n  },\n  \"notifyHook\": \"\",\n  \"state\": \"\"\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"code\": 1,\n  \"description\": \"\u63d0\u4ea4\u6210\u529f\",\n  \"properties\": {},\n  \"result\": 1320098173412546\n}\n</code></pre>"},{"location":"midjourney-proxy-image/#blend","title":"\u63d0\u4ea4Blend\u4efb\u52a1 \u2705","text":"<pre><code>curl --location --request POST 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/mj/submit/blend' \\\n--header 'Authorization: Bearer $API_API_KEY' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n  \"botType\": \"MID_JOURNEY\",\n  \"base64Array\": [\n    \"data:image/png;base64,xxx1\",\n    \"data:image/png;base64,xxx2\"\n  ],\n  \"dimensions\": \"SQUARE\",\n  \"accountFilter\": {\n    \"channelId\": \"\",\n    \"instanceId\": \"\",\n    \"modes\": [],\n    \"remark\": \"\",\n    \"remix\": true,\n    \"remixAutoConsidered\": true\n  },\n  \"notifyHook\": \"\",\n  \"state\": \"\"\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"code\": 1,\n  \"description\": \"\u63d0\u4ea4\u6210\u529f\",\n  \"properties\": {},\n  \"result\": 1320098173412546\n}\n</code></pre>"},{"location":"midjourney-proxy-image/#describe","title":"\u63d0\u4ea4Describe\u4efb\u52a1 \u2705","text":"<pre><code>curl --location --request POST 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/mj/submit/describe' \\\n--header 'Authorization: Bearer $API_API_KEY' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n  \"botType\": \"MID_JOURNEY\",\n  \"base64\": \"data:image/png;base64,xxx\",\n  \"accountFilter\": {\n    \"channelId\": \"\",\n    \"instanceId\": \"\",\n    \"modes\": [],\n    \"remark\": \"\",\n    \"remix\": true,\n    \"remixAutoConsidered\": true\n  },\n  \"notifyHook\": \"\",\n  \"state\": \"\"\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"code\": 1,\n  \"description\": \"\u63d0\u4ea4\u6210\u529f\",\n  \"properties\": {},\n  \"result\": 1320098173412546\n}\n</code></pre>"},{"location":"midjourney-proxy-image/#modal","title":"\u63d0\u4ea4Modal \u2705","text":"<pre><code>curl --location --request POST 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/mj/submit/modal' \\\n--header 'Authorization: Bearer $API_API_KEY' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n  \"maskBase64\": \"\",\n  \"prompt\": \"\",\n  \"taskId\": \"14001934816969359\"\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"code\": 1,\n  \"description\": \"\u63d0\u4ea4\u6210\u529f\",\n  \"properties\": {},\n  \"result\": 1320098173412546\n}\n</code></pre>"},{"location":"midjourney-proxy-image/#swap_face","title":"\u63d0\u4ea4swap_face\u4efb\u52a1 \u2705","text":"<pre><code>curl --location --request POST 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/mj/insight-face/swap' \\\n--header 'Authorization: Bearer $API_API_KEY' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n  \"sourceBase64\": \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RDnYdriP1wsS81kwU8OVs/R3xu8s6bX7+zYnOH8coSqpmRSBjqerjcBlr2OB/lbAf/2Q==\",\n  \"targetBase64\": \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD849k=\"\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"code\": 0,\n  \"description\": \"string\",\n  \"result\": \"string\"\n}\n</code></pre>"},{"location":"midjourney-proxy-image/#action","title":"\u6267\u884cAction\u52a8\u4f5c \u2705","text":"<pre><code>curl --location --request POST 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/mj/submit/action' \\\n--header 'Authorization: Bearer $API_API_KEY' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n  \"chooseSameChannel\": true,\n  \"customId\": \"MJ::JOB::upsample::1::82c51c9d-bc33-4c07-a471-36c3dcb1a6f0\",\n  \"taskId\": \"1728781324658687\",\n  \"accountFilter\": {\n    \"channelId\": \"\",\n    \"instanceId\": \"\",\n    \"modes\": [],\n    \"remark\": \"\",\n    \"remix\": true,\n    \"remixAutoConsidered\": true\n  },\n  \"notifyHook\": \"\",\n  \"state\": \"\"\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"code\": 1,\n  \"description\": \"\u63d0\u4ea4\u6210\u529f\",\n  \"properties\": {},\n  \"result\": 1320098173412546\n}\n</code></pre>"},{"location":"midjourney-proxy-image/#discord","title":"\u4e0a\u4f20\u6587\u4ef6\u5230discord \u2705","text":"<pre><code>curl --location --request POST 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/mj/submit/upload-discord-images' \\\n--header 'Authorization: Bearer $API_API_KEY' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n  \"base64Array\": [],\n  \"filter\": {\n    \"channelId\": \"\",\n    \"instanceId\": \"\",\n    \"remark\": \"\"\n  }\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"code\": 0,\n  \"description\": \"string\",\n  \"result\": [\n    \"string\"\n  ]\n}\n</code></pre>"},{"location":"midjourney-proxy-image/#id","title":"\u6839\u636eID\u5217\u8868\u67e5\u8be2\u4efb\u52a1 \u2705","text":"<pre><code>curl --location --request POST 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/mj/task/list-by-condition' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $API_API_KEY' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n  \"ids\": []\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>[\n  {\n    \"action\": \"IMAGINE\",\n    \"buttons\": [\n      {\n        \"customId\": \"string\",\n        \"emoji\": \"string\",\n        \"label\": \"string\",\n        \"style\": 0,\n        \"type\": 0\n      }\n    ],\n    \"description\": \"string\",\n    \"failReason\": \"string\",\n    \"finishTime\": 0,\n    \"id\": \"string\",\n    \"imageUrl\": \"string\",\n    \"progress\": \"string\",\n    \"prompt\": \"string\",\n    \"promptEn\": \"string\",\n    \"properties\": {},\n    \"startTime\": 0,\n    \"state\": \"string\",\n    \"status\": \"NOT_START\",\n    \"submitTime\": 0\n  }\n]\n</code></pre>"},{"location":"midjourney-proxy-image/#id_1","title":"\u6307\u5b9aID\u83b7\u53d6\u4efb\u52a1 \u2705","text":"<pre><code>curl --location --request GET 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/mj/task/{id}/fetch' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $API_API_KEY' \\\n--header 'Content-Type: application/json'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"action\": \"IMAGINE\",\n  \"buttons\": [\n    {\n      \"customId\": \"string\",\n      \"emoji\": \"string\",\n      \"label\": \"string\",\n      \"style\": 0,\n      \"type\": 0\n    }\n  ],\n  \"description\": \"string\", \n  \"failReason\": \"string\",\n  \"finishTime\": 0,\n  \"id\": \"string\",\n  \"imageUrl\": \"string\",\n  \"progress\": \"string\",\n  \"prompt\": \"string\",\n  \"promptEn\": \"string\",\n  \"properties\": {},\n  \"startTime\": 0,\n  \"state\": \"string\",\n  \"status\": \"NOT_START\",\n  \"submitTime\": 0\n}\n</code></pre>"},{"location":"midjourney-proxy-image/#seed","title":"\u83b7\u53d6\u4efb\u52a1\u56fe\u7247\u7684seed \u2705","text":"<pre><code>curl --location --request GET 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/mj/task/{id}/image-seed' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $API_API_KEY' \\\n--header 'Content-Type: application/json'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"code\": 0,\n  \"description\": \"string\",\n  \"result\": \"string\"\n}\n</code></pre>"},{"location":"midjourney-proxy-image/#_5","title":"\ud83d\udcee \u8bf7\u6c42","text":""},{"location":"midjourney-proxy-image/#_6","title":"\u7aef\u70b9","text":""},{"location":"midjourney-proxy-image/#imagine_1","title":"\u63d0\u4ea4Imagine\u4efb\u52a1","text":"<pre><code>POST /mj/submit/imagine\n</code></pre> <p>\u6839\u636e\u6587\u672c\u63d0\u793a\u521b\u5efa\u56fe\u7247\u3002</p>"},{"location":"midjourney-proxy-image/#blend_1","title":"\u63d0\u4ea4Blend\u4efb\u52a1","text":"<pre><code>POST /mj/submit/blend\n</code></pre> <p>\u6839\u636e\u591a\u4e2a\u8f93\u5165\u56fe\u7247\u878d\u5408\u751f\u6210\u65b0\u56fe\u7247\u3002</p>"},{"location":"midjourney-proxy-image/#describe_1","title":"\u63d0\u4ea4Describe\u4efb\u52a1","text":"<pre><code>POST /mj/submit/describe\n</code></pre> <p>\u6839\u636e\u8f93\u5165\u56fe\u7247\u751f\u6210\u6587\u5b57\u63cf\u8ff0\u3002</p>"},{"location":"midjourney-proxy-image/#modal_1","title":"\u63d0\u4ea4Modal","text":"<pre><code>POST /mj/submit/modal\n</code></pre> <p>\u63d0\u4ea4\u6a21\u6001\u4fe1\u606f,\u7528\u4e8e\u8c03\u6574\u56fe\u7247\u751f\u6210\u7ec6\u8282\u3002</p>"},{"location":"midjourney-proxy-image/#swap_face_1","title":"\u63d0\u4ea4swap_face\u4efb\u52a1","text":"<pre><code>POST /mj/insight-face/swap\n</code></pre> <p>\u6839\u636e\u6e90\u56fe\u7247\u548c\u76ee\u6807\u56fe\u7247\u8fdb\u884c\u4eba\u8138\u4ea4\u6362\u3002</p>"},{"location":"midjourney-proxy-image/#action_1","title":"\u6267\u884cAction\u52a8\u4f5c","text":"<pre><code>POST /mj/submit/action\n</code></pre> <p>\u5bf9\u5df2\u751f\u6210\u7684\u56fe\u7247\u8fdb\u884c\u540e\u7eed\u64cd\u4f5c,\u5982\u653e\u5927\u3001\u8c03\u6574\u7b49\u3002</p>"},{"location":"midjourney-proxy-image/#discord_1","title":"\u4e0a\u4f20\u6587\u4ef6\u5230discord","text":"<pre><code>POST /mj/submit/upload-discord-images\n</code></pre> <p>\u5c06\u56fe\u7247\u4e0a\u4f20\u5230discord\u5e73\u53f0\u3002</p>"},{"location":"midjourney-proxy-image/#id_2","title":"\u6839\u636eID\u5217\u8868\u67e5\u8be2\u4efb\u52a1","text":"<pre><code>POST /mj/task/list-by-condition\n</code></pre> <p>\u6839\u636e\u6307\u5b9a\u7684\u4efb\u52a1ID\u5217\u8868\u67e5\u8be2\u4efb\u52a1\u8be6\u60c5\u3002</p>"},{"location":"midjourney-proxy-image/#id_3","title":"\u6307\u5b9aID\u83b7\u53d6\u4efb\u52a1","text":"<pre><code>GET /mj/task/{id}/fetch\n</code></pre> <p>\u6839\u636e\u4efb\u52a1ID\u83b7\u53d6\u4efb\u52a1\u8be6\u60c5\u3002</p>"},{"location":"midjourney-proxy-image/#seed_1","title":"\u83b7\u53d6\u4efb\u52a1\u56fe\u7247\u7684seed","text":"<pre><code>GET /mj/task/{id}/image-seed\n</code></pre> <p>\u83b7\u53d6\u6307\u5b9a\u4efb\u52a1\u751f\u6210\u56fe\u7247\u7684seed\u503c\u3002</p>"},{"location":"midjourney-proxy-image/#_7","title":"\u9274\u6743\u65b9\u6cd5","text":"<p>\u5728\u8bf7\u6c42\u5934\u4e2d\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\u8fdb\u884c API \u5bc6\u94a5\u8ba4\u8bc1\uff1a</p> <pre><code>Authorization: Bearer $API_API_KEY$OPENAI_API_KEY\n</code></pre> <p>\u5176\u4e2d <code>$OPENAI_API_KEY</code> \u662f\u60a8\u7684 API \u5bc6\u94a5\u3002</p>"},{"location":"midjourney-proxy-image/#_8","title":"\u8bf7\u6c42\u4f53\u53c2\u6570","text":""},{"location":"midjourney-proxy-image/#imagine_2","title":"\u63d0\u4ea4 Imagine \u4efb\u52a1","text":""},{"location":"midjourney-proxy-image/#bottype","title":"<code>botType</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u679a\u4e3e\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1aMID_JOURNEY</li> <li>\u53ef\u9009\u503c\uff1a</li> <li><code>MID_JOURNEY</code>: Midjourney \u6a21\u578b</li> <li><code>NIJI_JOURNEY</code>: Niji Journey \u6a21\u578b</li> <li>\u8bf4\u660e\uff1a\u9009\u62e9\u4f7f\u7528\u7684 bot \u7c7b\u578b</li> </ul>"},{"location":"midjourney-proxy-image/#prompt","title":"<code>prompt</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u56fe\u50cf\u751f\u6210\u7684\u6587\u672c\u63d0\u793a\u8bcd</li> <li>\u63d0\u793a\uff1a</li> <li>\u4f7f\u7528\u6e05\u6670\u5177\u4f53\u7684\u63cf\u8ff0</li> <li>\u53ef\u4ee5\u5305\u542b\u827a\u672f\u98ce\u683c\u3001\u6784\u56fe\u7b49\u7ec6\u8282</li> <li>\u652f\u6301\u82f1\u6587\u548c\u4e2d\u6587\u8f93\u5165</li> </ul>"},{"location":"midjourney-proxy-image/#base64array","title":"<code>base64Array</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u8bf4\u660e\uff1a\u57ab\u56fe\u7684 base64 \u7f16\u7801\u6570\u7ec4</li> <li>\u683c\u5f0f\uff1a\u6bcf\u4e2a\u5143\u7d20\u5e94\u4e3a\u5b8c\u6574\u7684 base64 \u56fe\u7247\u5b57\u7b26\u4e32\uff0c\u5305\u542b MIME \u7c7b\u578b\u524d\u7f00</li> </ul>"},{"location":"midjourney-proxy-image/#accountfilter","title":"<code>accountFilter</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u5c5e\u6027\uff1a</li> <li><code>channelId</code>: \u9891\u9053 ID</li> <li><code>instanceId</code>: \u8d26\u53f7\u5b9e\u4f8b ID</li> <li><code>modes</code>: \u8d26\u53f7\u6a21\u5f0f\u6570\u7ec4\uff0c\u53ef\u9009\u503c\uff1aRELAX\u3001FAST\u3001TURBO</li> <li><code>remark</code>: \u5907\u6ce8\u5305\u542b\u7684\u5185\u5bb9</li> <li><code>remix</code>: \u8d26\u53f7\u662f\u5426\u652f\u6301 remix</li> <li><code>remixAutoConsidered</code>: remix \u81ea\u52a8\u63d0\u4ea4\u8bbe\u7f6e</li> </ul>"},{"location":"midjourney-proxy-image/#notifyhook","title":"<code>notifyHook</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u8bf4\u660e\uff1a\u4efb\u52a1\u5b8c\u6210\u540e\u7684\u56de\u8c03\u5730\u5740\uff0c\u4e3a\u7a7a\u65f6\u4f7f\u7528\u5168\u5c40 notifyHook</li> </ul>"},{"location":"midjourney-proxy-image/#state","title":"<code>state</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u8bf4\u660e\uff1a\u81ea\u5b9a\u4e49\u72b6\u6001\u53c2\u6570\uff0c\u53ef\u7528\u4e8e\u8ddf\u8e2a\u8bf7\u6c42</li> </ul>"},{"location":"midjourney-proxy-image/#blend_2","title":"\u63d0\u4ea4 Blend \u4efb\u52a1","text":""},{"location":"midjourney-proxy-image/#base64array_1","title":"<code>base64Array</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u8981\u6df7\u5408\u7684\u56fe\u7247 base64 \u7f16\u7801\u6570\u7ec4</li> <li>\u683c\u5f0f\uff1a\u5fc5\u987b\u5305\u542b 2-5 \u5f20\u56fe\u7247\u7684 base64 \u5b57\u7b26\u4e32</li> </ul>"},{"location":"midjourney-proxy-image/#dimensions","title":"<code>dimensions</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u679a\u4e3e\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u53ef\u9009\u503c\uff1a</li> <li><code>PORTRAIT</code>: 2:3 \u6bd4\u4f8b</li> <li><code>SQUARE</code>: 1:1 \u6bd4\u4f8b</li> <li><code>LANDSCAPE</code>: 3:2 \u6bd4\u4f8b</li> <li>\u8bf4\u660e\uff1a\u8f93\u51fa\u56fe\u7247\u7684\u5bbd\u9ad8\u6bd4\u8bbe\u7f6e</li> </ul>"},{"location":"midjourney-proxy-image/#describe_2","title":"\u63d0\u4ea4 Describe \u4efb\u52a1","text":""},{"location":"midjourney-proxy-image/#base64","title":"<code>base64</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u9700\u8981\u63cf\u8ff0\u7684\u56fe\u7247\u7684 base64 \u7f16\u7801</li> <li>\u683c\u5f0f\uff1a\u5b8c\u6574\u7684 base64 \u5b57\u7b26\u4e32\uff0c\u5305\u542b MIME \u7c7b\u578b\u524d\u7f00</li> </ul>"},{"location":"midjourney-proxy-image/#modal_2","title":"\u63d0\u4ea4 Modal \u4efb\u52a1","text":""},{"location":"midjourney-proxy-image/#maskbase64","title":"<code>maskBase64</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u8bf4\u660e\uff1a\u5c40\u90e8\u91cd\u7ed8\u7684\u8499\u7248\u56fe\u7247 base64 \u7f16\u7801</li> </ul>"},{"location":"midjourney-proxy-image/#prompt_1","title":"<code>prompt</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u8bf4\u660e\uff1a\u91cd\u7ed8\u533a\u57df\u7684\u6587\u672c\u63d0\u793a\u8bcd</li> </ul>"},{"location":"midjourney-proxy-image/#taskid","title":"<code>taskId</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u539f\u59cb\u4efb\u52a1\u7684 ID</li> </ul>"},{"location":"midjourney-proxy-image/#swap-face","title":"\u63d0\u4ea4 Swap Face \u4efb\u52a1","text":""},{"location":"midjourney-proxy-image/#sourcebase64","title":"<code>sourceBase64</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u4eba\u8138\u6e90\u56fe\u7247\u7684 base64 \u7f16\u7801</li> <li>\u8981\u6c42\uff1a\u56fe\u7247\u5fc5\u987b\u5305\u542b\u6e05\u6670\u7684\u4eba\u8138</li> </ul>"},{"location":"midjourney-proxy-image/#targetbase64","title":"<code>targetBase64</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u76ee\u6807\u56fe\u7247\u7684 base64 \u7f16\u7801</li> <li>\u8981\u6c42\uff1a\u56fe\u7247\u5fc5\u987b\u5305\u542b\u8981\u66ff\u6362\u7684\u4eba\u8138</li> </ul>"},{"location":"midjourney-proxy-image/#action_2","title":"\u6267\u884c Action \u52a8\u4f5c","text":""},{"location":"midjourney-proxy-image/#choosesamechannel","title":"<code>chooseSameChannel</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5e03\u5c14\u503c</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1afalse</li> <li>\u8bf4\u660e\uff1a\u662f\u5426\u9009\u62e9\u540c\u4e00\u9891\u9053\u4e0b\u7684\u8d26\u53f7</li> </ul>"},{"location":"midjourney-proxy-image/#customid","title":"<code>customId</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u52a8\u4f5c\u6807\u8bc6\u7b26</li> <li>\u683c\u5f0f\uff1a\u7279\u5b9a\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\uff0c\u5982 \"MJ::JOB::upsample::1::xxx\"</li> </ul>"},{"location":"midjourney-proxy-image/#taskid_1","title":"<code>taskId</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u8981\u6267\u884c\u52a8\u4f5c\u7684\u4efb\u52a1 ID</li> </ul>"},{"location":"midjourney-proxy-image/#discord_2","title":"\u4e0a\u4f20\u6587\u4ef6\u5230 Discord","text":""},{"location":"midjourney-proxy-image/#base64array_2","title":"<code>base64Array</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u8981\u4e0a\u4f20\u7684\u56fe\u7247 base64 \u7f16\u7801\u6570\u7ec4</li> </ul>"},{"location":"midjourney-proxy-image/#filter","title":"<code>filter</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u5c5e\u6027\uff1a</li> <li><code>channelId</code>: \u76ee\u6807\u9891\u9053 ID</li> <li><code>instanceId</code>: \u8d26\u53f7\u5b9e\u4f8b ID</li> <li><code>remark</code>: \u5907\u6ce8\u4fe1\u606f</li> </ul>"},{"location":"midjourney-proxy-image/#id_4","title":"\u6839\u636e ID \u5217\u8868\u67e5\u8be2\u4efb\u52a1","text":""},{"location":"midjourney-proxy-image/#ids","title":"<code>ids</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u8981\u67e5\u8be2\u7684\u4efb\u52a1 ID \u5217\u8868</li> </ul>"},{"location":"midjourney-proxy-image/#_9","title":"\u901a\u7528\u54cd\u5e94\u683c\u5f0f","text":"<p>\u6240\u6709\u63a5\u53e3\u90fd\u8fd4\u56de\u76f8\u4f3c\u7684\u54cd\u5e94\u7ed3\u6784\uff1a</p>"},{"location":"midjourney-proxy-image/#code","title":"<code>code</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u8bf4\u660e\uff1a\u72b6\u6001\u7801</li> </ul> \u72b6\u6001\u7801 \u8bf4\u660e 1 \u63d0\u4ea4\u6210\u529f 22 \u4efb\u52a1\u6392\u961f\u4e2d 21 \u53c2\u6570\u9519\u8bef 23 \u7cfb\u7edf\u9519\u8bef 24 \u8d26\u53f7\u4e0d\u53ef\u7528 25 \u4f59\u989d\u4e0d\u8db3"},{"location":"midjourney-proxy-image/#description","title":"<code>description</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u54cd\u5e94\u63cf\u8ff0\u4fe1\u606f</li> </ul>"},{"location":"midjourney-proxy-image/#properties","title":"<code>properties</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u8bf4\u660e\uff1a\u6269\u5c55\u5c5e\u6027</li> </ul>"},{"location":"midjourney-proxy-image/#result","title":"<code>result</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216\u6570\u7ec4</li> <li>\u8bf4\u660e\uff1a\u8fd4\u56de\u7ed3\u679c\uff0c\u53ef\u80fd\u662f\u4efb\u52a1 ID \u6216\u5176\u4ed6\u6570\u636e</li> </ul>"},{"location":"midjourney-proxy-image/#_10","title":"\ud83d\udce5 \u54cd\u5e94","text":""},{"location":"midjourney-proxy-image/#_11","title":"\u6210\u529f\u54cd\u5e94","text":""},{"location":"midjourney-proxy-image/#action_3","title":"<code>action</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u679a\u4e3e\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u4efb\u52a1\u7c7b\u578b</li> </ul> \u5b57\u7b26\u4e32\u503c \u8bf4\u660e <code>IMAGINE</code> \u521b\u5efa\u56fe\u7247 <code>UPSCALE</code> \u653e\u5927\u56fe\u7247 <code>VARIATION</code> \u53d8\u4f53\u751f\u6210 <code>ZOOM</code> \u7f29\u653e\u56fe\u7247 <code>PAN</code> \u5e73\u79fb\u56fe\u7247 <code>DESCRIBE</code> \u56fe\u7247\u63cf\u8ff0 <code>BLEND</code> \u56fe\u7247\u6df7\u5408 <code>SHORTEN</code> \u7f29\u77ed\u63d0\u793a\u8bcd <code>SWAP_FACE</code> \u4eba\u8138\u66ff\u6362"},{"location":"midjourney-proxy-image/#buttons","title":"<code>buttons</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61\u6570\u7ec4</li> <li>\u8bf4\u660e\uff1a\u53ef\u6267\u884c\u7684\u64cd\u4f5c\u6309\u94ae</li> </ul> \u6570\u7ec4\u5305\u542b\u5c5e\u6027 \u8bf4\u660e <code>customId</code> \u52a8\u4f5c\u6807\u8bc6 <code>emoji</code> \u6309\u94ae\u56fe\u6807 <code>label</code> \u6309\u94ae\u6587\u672c <code>style</code> \u6837\u5f0f(2=Primary, 3=Green) <code>type</code> \u7cfb\u7edf\u5185\u90e8\u4f7f\u7528\u7684\u7c7b\u578b"},{"location":"midjourney-proxy-image/#description_1","title":"<code>description</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u4efb\u52a1\u63cf\u8ff0\u4fe1\u606f</li> </ul>"},{"location":"midjourney-proxy-image/#failreason","title":"<code>failReason</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u4efb\u52a1\u5931\u8d25\u539f\u56e0</li> </ul>"},{"location":"midjourney-proxy-image/#finishtime","title":"<code>finishTime</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u8bf4\u660e\uff1a\u4efb\u52a1\u5b8c\u6210\u65f6\u95f4\u6233</li> </ul>"},{"location":"midjourney-proxy-image/#id_5","title":"<code>id</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u4efb\u52a1\u552f\u4e00\u6807\u8bc6\u7b26</li> </ul>"},{"location":"midjourney-proxy-image/#imageurl","title":"<code>imageUrl</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u751f\u6210\u56fe\u7247\u7684URL</li> </ul>"},{"location":"midjourney-proxy-image/#progress","title":"<code>progress</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u4efb\u52a1\u8fdb\u5ea6\u4fe1\u606f</li> </ul>"},{"location":"midjourney-proxy-image/#prompt_2","title":"<code>prompt</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u539f\u59cb\u63d0\u793a\u8bcd</li> </ul>"},{"location":"midjourney-proxy-image/#prompten","title":"<code>promptEn</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u82f1\u6587\u63d0\u793a\u8bcd</li> </ul>"},{"location":"midjourney-proxy-image/#status","title":"<code>status</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u679a\u4e3e\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u4efb\u52a1\u72b6\u6001</li> </ul> \u5b57\u7b26\u4e32\u503c \u8bf4\u660e <code>NOT_START</code> \u672a\u5f00\u59cb <code>SUBMITTED</code> \u5df2\u63d0\u4ea4 <code>MODAL</code> \u6a21\u6001\u64cd\u4f5c\u4e2d <code>IN_PROGRESS</code> \u8fdb\u884c\u4e2d <code>FAILURE</code> \u5931\u8d25 <code>SUCCESS</code> \u6210\u529f <code>CANCEL</code> \u5df2\u53d6\u6d88"},{"location":"midjourney-proxy-image/#submittime","title":"<code>submitTime</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u8bf4\u660e\uff1a\u4efb\u52a1\u63d0\u4ea4\u65f6\u95f4\u6233</li> </ul>"},{"location":"midjourney-proxy-image/#starttime","title":"<code>startTime</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u8bf4\u660e\uff1a\u4efb\u52a1\u5f00\u59cb\u6267\u884c\u65f6\u95f4\u6233</li> </ul>"},{"location":"midjourney-proxy-image/#_12","title":"\u9519\u8bef\u54cd\u5e94","text":"<p>\u5f53\u8bf7\u6c42\u51fa\u73b0\u95ee\u9898\u65f6\uff0cAPI \u5c06\u8fd4\u56de\u9519\u8bef\u54cd\u5e94\uff1a</p>"},{"location":"midjourney-proxy-image/#http","title":"HTTP \u72b6\u6001\u7801","text":"<ul> <li><code>400 Bad Request</code>: \u8bf7\u6c42\u53c2\u6570\u65e0\u6548</li> <li><code>401 Unauthorized</code>: API \u5bc6\u94a5\u65e0\u6548\u6216\u672a\u63d0\u4f9b</li> <li><code>403 Forbidden</code>: \u6743\u9650\u4e0d\u8db3</li> <li><code>404 Not Found</code>: \u8d44\u6e90\u4e0d\u5b58\u5728</li> <li><code>429 Too Many Requests</code>: \u8bf7\u6c42\u9891\u7387\u8d85\u9650</li> <li><code>500 Internal Server Error</code>: \u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef</li> </ul>"},{"location":"midjourney-proxy-image/#_13","title":"\u9519\u8bef\u54cd\u5e94\u683c\u5f0f","text":"<pre><code>{\n  \"code\": &lt;\u9519\u8bef\u7801&gt;,\n  \"description\": \"\u9519\u8bef\u63cf\u8ff0\u4fe1\u606f\",\n  \"result\": null\n}\n</code></pre>"},{"location":"midjourney-proxy-image/#_14","title":"\ud83d\udca1 \u6700\u4f73\u5b9e\u8df5","text":""},{"location":"midjourney-proxy-image/#prompt_3","title":"Prompt \u7f16\u5199\u5efa\u8bae","text":"<ol> <li>\u4f7f\u7528\u6e05\u6670\u7b80\u6d01\u7684\u8bed\u8a00\u63cf\u8ff0\u671f\u671b\u7684\u56fe\u50cf\u5185\u5bb9</li> <li>\u53ef\u4ee5\u53c2\u8003Midjourney\u652f\u6301\u7684\u5404\u79cd\u53c2\u6570\u6765\u63a7\u5236\u56fe\u7247\u98ce\u683c</li> <li>\u9002\u5f53\u4f7f\u7528\u5426\u5b9a\u63cf\u8ff0\u4ee5\u6392\u9664\u4e0d\u9700\u8981\u7684\u5143\u7d20</li> <li>\u53ef\u4ee5\u901a\u8fc7\u56fe\u7247URL\u4f5c\u4e3a\u53c2\u8003\u6765\u6307\u5bfc\u751f\u6210</li> </ol>"},{"location":"midjourney-proxy-image/#_15","title":"\u56fe\u7247\u751f\u6210\u6d41\u7a0b","text":"<ol> <li>\u63d0\u4ea4Imagine\u4efb\u52a1,\u83b7\u5f97\u521d\u6b65\u56fe\u7247</li> <li>\u5fc5\u8981\u65f6\u901a\u8fc7Blend\u3001Modal\u7b49\u4efb\u52a1\u8fdb\u4e00\u6b65\u4f18\u5316</li> <li>\u6267\u884cAction\u52a8\u4f5c\u8fdb\u884c\u56fe\u7247\u5fae\u8c03</li> <li>\u5c06\u6ee1\u610f\u7684\u7ed3\u679c\u56fe\u7247\u4e0a\u4f20\u4fdd\u5b58</li> </ol>"},{"location":"midjourney-proxy-image/#_16","title":"\u56fe\u7247\u683c\u5f0f\u8981\u6c42","text":"<ol> <li> <p>\u652f\u6301\u7684\u56fe\u7247\u683c\u5f0f\uff1a</p> </li> <li> <p>JPEG/JPG</p> </li> <li> <p>PNG</p> </li> <li> <p>GIF (\u9759\u6001)</p> </li> <li> <p>WEBP</p> </li> <li> <p>\u56fe\u7247\u5927\u5c0f\u9650\u5236\uff1a</p> </li> <li> <p>\u6587\u4ef6\u5927\u5c0f\uff1a\u6700\u5927 4MB</p> </li> <li> <p>\u5206\u8fa8\u7387\uff1a\u5efa\u8bae 1024x1024 \u6216\u66f4\u9ad8</p> </li> <li> <p>\u5bbd\u9ad8\u6bd4\uff1a\u652f\u6301 1:1\u30012:3\u30013:2</p> </li> </ol>"},{"location":"midjourney-proxy-image/#_17","title":"\u6027\u80fd\u4f18\u5316\u5efa\u8bae","text":"<ol> <li> <p>Base64 \u7f16\u7801\uff1a</p> </li> <li> <p>\u4f7f\u7528\u6807\u51c6 Base64 \u7f16\u7801\u683c\u5f0f</p> </li> <li> <p>\u5305\u542b\u6b63\u786e\u7684 MIME \u7c7b\u578b\u524d\u7f00</p> </li> <li> <p>\u538b\u7f29\u56fe\u7247\u4ee5\u51cf\u5c11\u6570\u636e\u4f20\u8f93</p> </li> <li> <p>\u4efb\u52a1\u5904\u7406\uff1a</p> </li> <li> <p>\u4f7f\u7528 webhook \u63a5\u6536\u4efb\u52a1\u5b8c\u6210\u901a\u77e5</p> </li> <li> <p>\u5408\u7406\u8bbe\u7f6e\u91cd\u8bd5\u7b56\u7565</p> </li> <li> <p>\u5efa\u8bae\u4f7f\u7528\u5f02\u6b65\u5904\u7406\u65b9\u5f0f</p> </li> </ol>"},{"location":"midjourney-proxy-image/#_18","title":"\u9519\u8bef\u5904\u7406","text":"<ul> <li> <p>\u5b9e\u73b0\u8bf7\u6c42\u91cd\u8bd5\u673a\u5236</p> </li> <li> <p>\u6dfb\u52a0\u9519\u8bef\u65e5\u5fd7\u8bb0\u5f55</p> </li> <li> <p>\u8bbe\u7f6e\u5408\u7406\u7684\u8d85\u65f6\u65f6\u95f4</p> </li> </ul>"},{"location":"openai-audio/","title":"OpenAI \u97f3\u9891\u683c\u5f0f","text":"<p>\u5b98\u65b9\u6587\u6863</p> <p>OpenAI Audio</p>"},{"location":"openai-audio/#_1","title":"\ud83d\udcdd \u7b80\u4ecb","text":"<p>OpenAI \u97f3\u9891 API \u63d0\u4f9b\u4e86\u4e09\u4e2a\u4e3b\u8981\u529f\u80fd:</p> <ol> <li>\u6587\u672c\u8f6c\u8bed\u97f3(TTS) - \u5c06\u6587\u672c\u8f6c\u6362\u4e3a\u81ea\u7136\u7684\u8bed\u97f3</li> <li>\u8bed\u97f3\u8f6c\u6587\u672c(STT) - \u5c06\u97f3\u9891\u8f6c\u5f55\u4e3a\u6587\u672c</li> <li>\u97f3\u9891\u7ffb\u8bd1 - \u5c06\u975e\u82f1\u8bed\u97f3\u9891\u7ffb\u8bd1\u6210\u82f1\u8bed\u6587\u672c</li> </ol>"},{"location":"openai-audio/#_2","title":"\ud83d\udca1 \u8bf7\u6c42\u793a\u4f8b","text":""},{"location":"openai-audio/#_3","title":"\u6587\u672c\u8f6c\u8bed\u97f3 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/audio/speech \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"model\": \"tts-1\",\n    \"input\": \"\u4f60\u597d,\u4e16\u754c!\",\n    \"voice\": \"alloy\"\n  }' \\\n  --output speech.mp3\n</code></pre>"},{"location":"openai-audio/#_4","title":"\u8bed\u97f3\u8f6c\u6587\u672c \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/audio/transcriptions \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -H \"Content-Type: multipart/form-data\" \\\n  -F file=\"@/path/to/file/audio.mp3\" \\\n  -F model=\"whisper-1\"\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"text\": \"\u4f60\u597d,\u4e16\u754c!\"\n}\n</code></pre>"},{"location":"openai-audio/#_5","title":"\u97f3\u9891\u7ffb\u8bd1 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/audio/translations \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -H \"Content-Type: multipart/form-data\" \\\n  -F file=\"@/path/to/file/chinese.mp3\" \\\n  -F model=\"whisper-1\"\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"text\": \"Hello, world!\"\n}\n</code></pre>"},{"location":"openai-audio/#_6","title":"\ud83d\udcee \u8bf7\u6c42","text":""},{"location":"openai-audio/#_7","title":"\u7aef\u70b9","text":""},{"location":"openai-audio/#_8","title":"\u6587\u672c\u8f6c\u8bed\u97f3","text":"<pre><code>POST /v1/audio/speech\n</code></pre> <p>\u5c06\u6587\u672c\u8f6c\u6362\u4e3a\u8bed\u97f3\u3002</p>"},{"location":"openai-audio/#_9","title":"\u8bed\u97f3\u8f6c\u6587\u672c","text":"<pre><code>POST /v1/audio/transcriptions\n</code></pre> <p>\u5c06\u97f3\u9891\u8f6c\u5f55\u4e3a\u8f93\u5165\u8bed\u8a00\u7684\u6587\u672c\u3002</p>"},{"location":"openai-audio/#_10","title":"\u97f3\u9891\u7ffb\u8bd1","text":"<pre><code>POST /v1/audio/translations\n</code></pre> <p>\u5c06\u97f3\u9891\u7ffb\u8bd1\u4e3a\u82f1\u8bed\u6587\u672c\u3002</p>"},{"location":"openai-audio/#_11","title":"\u9274\u6743\u65b9\u6cd5","text":"<p>\u5728\u8bf7\u6c42\u5934\u4e2d\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\u8fdb\u884c API \u5bc6\u94a5\u8ba4\u8bc1\uff1a</p> <pre><code>Authorization: Bearer $API_API_KEY\n</code></pre> <p>\u5176\u4e2d <code>$API_API_KEY</code> \u662f\u60a8\u7684 API \u5bc6\u94a5\u3002</p>"},{"location":"openai-audio/#_12","title":"\u8bf7\u6c42\u4f53\u53c2\u6570","text":""},{"location":"openai-audio/#_13","title":"\u6587\u672c\u8f6c\u8bed\u97f3","text":""},{"location":"openai-audio/#model","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u53ef\u9009\u503c\uff1atts-1, tts-1-hd</li> <li>\u8bf4\u660e\uff1a\u8981\u4f7f\u7528\u7684 TTS \u6a21\u578b</li> </ul>"},{"location":"openai-audio/#input","title":"<code>input</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32  </li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u6700\u5927\u957f\u5ea6\uff1a4096 \u5b57\u7b26</li> <li>\u8bf4\u660e\uff1a\u8981\u8f6c\u6362\u4e3a\u8bed\u97f3\u7684\u6587\u672c</li> </ul>"},{"location":"openai-audio/#voice","title":"<code>voice</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u53ef\u9009\u503c\uff1aalloy, echo, fable, onyx, nova, shimmer</li> <li>\u8bf4\u660e\uff1a\u751f\u6210\u8bed\u97f3\u65f6\u4f7f\u7528\u7684\u58f0\u97f3</li> </ul>"},{"location":"openai-audio/#response_format","title":"<code>response_format</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1amp3</li> <li>\u53ef\u9009\u503c\uff1amp3, opus, aac, flac, wav, pcm</li> <li>\u8bf4\u660e\uff1a\u97f3\u9891\u8f93\u51fa\u683c\u5f0f</li> </ul>"},{"location":"openai-audio/#speed","title":"<code>speed</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u5b57</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1a1.0</li> <li>\u8303\u56f4\uff1a0.25 - 4.0</li> <li>\u8bf4\u660e\uff1a\u751f\u6210\u8bed\u97f3\u7684\u901f\u5ea6</li> </ul>"},{"location":"openai-audio/#_14","title":"\u8bed\u97f3\u8f6c\u6587\u672c","text":""},{"location":"openai-audio/#file","title":"<code>file</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6587\u4ef6</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u652f\u6301\u683c\u5f0f\uff1aflac, mp3, mp4, mpeg, mpga, m4a, ogg, wav, webm</li> <li>\u8bf4\u660e\uff1a\u8981\u8f6c\u5f55\u7684\u97f3\u9891\u6587\u4ef6</li> </ul>"},{"location":"openai-audio/#model_1","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u5f53\u524d\u4ec5\u652f\u6301\uff1awhisper-1</li> <li>\u8bf4\u660e\uff1a\u8981\u4f7f\u7528\u7684\u6a21\u578b ID</li> </ul>"},{"location":"openai-audio/#language","title":"<code>language</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u683c\u5f0f\uff1aISO-639-1 (\u5982 \"en\")</li> <li>\u8bf4\u660e\uff1a\u97f3\u9891\u7684\u8bed\u8a00,\u63d0\u4f9b\u53ef\u63d0\u9ad8\u51c6\u786e\u6027</li> </ul>"},{"location":"openai-audio/#prompt","title":"<code>prompt</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u8bf4\u660e\uff1a\u7528\u4e8e\u6307\u5bfc\u6a21\u578b\u98ce\u683c\u6216\u7ee7\u7eed\u524d\u4e00\u6bb5\u97f3\u9891\u7684\u6587\u672c</li> </ul>"},{"location":"openai-audio/#response_format_1","title":"<code>response_format</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1ajson</li> <li>\u53ef\u9009\u503c\uff1ajson, text, srt, verbose_json, vtt</li> <li>\u8bf4\u660e\uff1a\u8f93\u51fa\u683c\u5f0f</li> </ul>"},{"location":"openai-audio/#temperature","title":"<code>temperature</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u5b57</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1a0</li> <li>\u8303\u56f4\uff1a0 - 1</li> <li>\u8bf4\u660e\uff1a\u91c7\u6837\u6e29\u5ea6,\u8f83\u9ad8\u7684\u503c\u4f7f\u8f93\u51fa\u66f4\u968f\u673a</li> </ul>"},{"location":"openai-audio/#timestamp_granularities","title":"<code>timestamp_granularities</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1asegment</li> <li>\u53ef\u9009\u503c\uff1aword, segment</li> <li>\u8bf4\u660e\uff1a\u8f6c\u5f55\u7684\u65f6\u95f4\u6233\u7c92\u5ea6</li> </ul>"},{"location":"openai-audio/#_15","title":"\u97f3\u9891\u7ffb\u8bd1","text":""},{"location":"openai-audio/#file_1","title":"<code>file</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6587\u4ef6</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u652f\u6301\u683c\u5f0f\uff1aflac, mp3, mp4, mpeg, mpga, m4a, ogg, wav, webm</li> <li>\u8bf4\u660e\uff1a\u8981\u7ffb\u8bd1\u7684\u97f3\u9891\u6587\u4ef6</li> </ul>"},{"location":"openai-audio/#model_2","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u5f53\u524d\u4ec5\u652f\u6301\uff1awhisper-1</li> <li>\u8bf4\u660e\uff1a\u8981\u4f7f\u7528\u7684\u6a21\u578b ID</li> </ul>"},{"location":"openai-audio/#prompt_1","title":"<code>prompt</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u8bf4\u660e\uff1a\u7528\u4e8e\u6307\u5bfc\u6a21\u578b\u98ce\u683c\u7684\u82f1\u6587\u6587\u672c</li> </ul>"},{"location":"openai-audio/#response_format_2","title":"<code>response_format</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1ajson</li> <li>\u53ef\u9009\u503c\uff1ajson, text, srt, verbose_json, vtt</li> <li>\u8bf4\u660e\uff1a\u8f93\u51fa\u683c\u5f0f</li> </ul>"},{"location":"openai-audio/#temperature_1","title":"<code>temperature</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u5b57</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1a0</li> <li>\u8303\u56f4\uff1a0 - 1</li> <li>\u8bf4\u660e\uff1a\u91c7\u6837\u6e29\u5ea6,\u8f83\u9ad8\u7684\u503c\u4f7f\u8f93\u51fa\u66f4\u968f\u673a</li> </ul>"},{"location":"openai-audio/#_16","title":"\ud83d\udce5 \u54cd\u5e94","text":""},{"location":"openai-audio/#_17","title":"\u6210\u529f\u54cd\u5e94","text":""},{"location":"openai-audio/#_18","title":"\u6587\u672c\u8f6c\u8bed\u97f3","text":"<p>\u8fd4\u56de\u4e8c\u8fdb\u5236\u97f3\u9891\u6587\u4ef6\u5185\u5bb9\u3002</p>"},{"location":"openai-audio/#_19","title":"\u8bed\u97f3\u8f6c\u6587\u672c","text":""},{"location":"openai-audio/#json","title":"\u57fa\u7840 JSON \u683c\u5f0f","text":"<pre><code>{\n  \"text\": \"\u8f6c\u5f55\u7684\u6587\u672c\u5185\u5bb9\"\n}\n</code></pre>"},{"location":"openai-audio/#json_1","title":"\u8be6\u7ec6 JSON \u683c\u5f0f","text":"<pre><code>{\n  \"task\": \"transcribe\",\n  \"language\": \"english\",\n  \"duration\": 8.47,\n  \"text\": \"\u5b8c\u6574\u7684\u8f6c\u5f55\u6587\u672c\",\n  \"segments\": [\n    {\n      \"id\": 0,\n      \"seek\": 0,\n      \"start\": 0.0,\n      \"end\": 3.32,\n      \"text\": \"\u5206\u6bb5\u7684\u8f6c\u5f55\u6587\u672c\",\n      \"tokens\": [50364, 440, 7534],\n      \"temperature\": 0.0,\n      \"avg_logprob\": -0.286,\n      \"compression_ratio\": 1.236,\n      \"no_speech_prob\": 0.009\n    }\n  ]\n}\n</code></pre>"},{"location":"openai-audio/#_20","title":"\u97f3\u9891\u7ffb\u8bd1","text":"<pre><code>{\n  \"text\": \"\u7ffb\u8bd1\u540e\u7684\u82f1\u6587\u6587\u672c\"\n}\n</code></pre>"},{"location":"openai-audio/#_21","title":"\u9519\u8bef\u54cd\u5e94","text":"<p>\u5f53\u8bf7\u6c42\u51fa\u73b0\u95ee\u9898\u65f6\uff0cAPI \u5c06\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u54cd\u5e94\u5bf9\u8c61\uff0cHTTP \u72b6\u6001\u7801\u5728 4XX-5XX \u8303\u56f4\u5185\u3002</p>"},{"location":"openai-audio/#_22","title":"\u5e38\u89c1\u9519\u8bef\u72b6\u6001\u7801","text":"<ul> <li><code>400 Bad Request</code>: \u8bf7\u6c42\u53c2\u6570\u65e0\u6548</li> <li><code>401 Unauthorized</code>: API \u5bc6\u94a5\u65e0\u6548\u6216\u672a\u63d0\u4f9b</li> <li><code>429 Too Many Requests</code>: \u8d85\u51fa API \u8c03\u7528\u9650\u5236</li> <li><code>500 Internal Server Error</code>: \u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef</li> </ul> <p>\u9519\u8bef\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"error\": {\n    \"message\": \"\u6587\u4ef6\u683c\u5f0f\u4e0d\u652f\u6301\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"file\",\n    \"code\": \"invalid_file_format\"\n  }\n}\n</code></pre>"},{"location":"openai-chat/","title":"OpenAI \u5bf9\u8bdd\u683c\u5f0f\uff08Chat Completions\uff09","text":"<p>\u5b98\u65b9\u6587\u6863</p> <p>OpenAI Chat</p>"},{"location":"openai-chat/#_1","title":"\ud83d\udcdd \u7b80\u4ecb","text":"<p>\u7ed9\u5b9a\u4e00\u7ec4\u5305\u542b\u5bf9\u8bdd\u7684\u6d88\u606f\u5217\u8868\uff0c\u6a21\u578b\u5c06\u8fd4\u56de\u4e00\u4e2a\u54cd\u5e94\u3002\u76f8\u5173\u6307\u5357\u53ef\u53c2\u9605OpenAI\u5b98\u7f51\uff1aChat Completions</p>"},{"location":"openai-chat/#_2","title":"\ud83d\udca1 \u8bf7\u6c42\u793a\u4f8b","text":""},{"location":"openai-chat/#_3","title":"\u57fa\u7840\u6587\u672c\u5bf9\u8bdd \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/chat/completions \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"gpt-4.1\",\n    \"messages\": [\n      {\n        \"role\": \"developer\",\n        \"content\": \"\u4f60\u662f\u4e00\u4e2a\u6709\u5e2e\u52a9\u7684\u52a9\u624b\u3002\"\n      },\n      {\n        \"role\": \"user\",\n        \"content\": \"\u4f60\u597d\uff01\"\n      }\n    ]\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"id\": \"chatcmpl-B9MBs8CjcvOU2jLn4n570S5qMJKcT\",\n  \"object\": \"chat.completion\",\n  \"created\": 1741569952,\n  \"model\": \"gpt-4.1-2025-04-14\",\n  \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\": \"assistant\",\n        \"content\": \"\u4f60\u597d\uff01\u6211\u80fd\u4e3a\u4f60\u63d0\u4f9b\u4ec0\u4e48\u5e2e\u52a9\uff1f\",\n        \"refusal\": null,\n        \"annotations\": []\n      },\n      \"logprobs\": null,\n      \"finish_reason\": \"stop\"\n    }\n  ],\n  \"usage\": {\n    \"prompt_tokens\": 19,\n    \"completion_tokens\": 10,\n    \"total_tokens\": 29,\n    \"prompt_tokens_details\": {\n      \"cached_tokens\": 0,\n      \"audio_tokens\": 0\n    },\n    \"completion_tokens_details\": {\n      \"reasoning_tokens\": 0,\n      \"audio_tokens\": 0,\n      \"accepted_prediction_tokens\": 0,\n      \"rejected_prediction_tokens\": 0\n    }\n  },\n  \"service_tier\": \"default\"\n}\n</code></pre>"},{"location":"openai-chat/#_4","title":"\u56fe\u50cf\u5206\u6790\u5bf9\u8bdd \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/chat/completions \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"gpt-4.1\",\n    \"messages\": [\n      {\n        \"role\": \"user\",\n        \"content\": [\n          {\n            \"type\": \"text\",\n            \"text\": \"\u8fd9\u5f20\u56fe\u7247\u91cc\u6709\u4ec0\u4e48\uff1f\"\n          },\n          {\n            \"type\": \"image_url\",\n            \"image_url\": {\n              \"url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg/2560px-Gfp-wisconsin-madison-the-nature-boardwalk.jpg\"\n            }\n          }\n        ]\n      }\n    ],\n    \"max_tokens\": 300\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"id\": \"chatcmpl-B9MHDbslfkBeAs8l4bebGdFOJ6PeG\",\n  \"object\": \"chat.completion\",\n  \"created\": 1741570283,\n  \"model\": \"gpt-4.1-2025-04-14\",\n  \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\": \"assistant\",\n        \"content\": \"\u56fe\u7247\u5c55\u793a\u4e86\u4e00\u6761\u7a7f\u8fc7\u8302\u5bc6\u7eff\u8272\u8349\u5730\u6216\u8349\u7538\u7684\u6728\u5236\u6808\u9053\u3002\u5929\u7a7a\u6e5b\u84dd\uff0c\u70b9\u7f00\u7740\u51e0\u6735\u6563\u843d\u7684\u4e91\u5f69\uff0c\u7ed9\u6574\u4e2a\u573a\u666f\u8425\u9020\u51fa\u5b81\u9759\u7965\u548c\u7684\u6c1b\u56f4\u3002\u80cc\u666f\u4e2d\u53ef\u4ee5\u770b\u5230\u6811\u6728\u548c\u704c\u6728\u4e1b\u3002\",\n        \"refusal\": null,\n        \"annotations\": []\n      },\n      \"logprobs\": null,\n      \"finish_reason\": \"stop\"\n    }\n  ],\n  \"usage\": {\n    \"prompt_tokens\": 1117,\n    \"completion_tokens\": 46,\n    \"total_tokens\": 1163,\n    \"prompt_tokens_details\": {\n      \"cached_tokens\": 0,\n      \"audio_tokens\": 0\n    },\n    \"completion_tokens_details\": {\n      \"reasoning_tokens\": 0,\n      \"audio_tokens\": 0,\n      \"accepted_prediction_tokens\": 0,\n      \"rejected_prediction_tokens\": 0\n    }\n  },\n  \"service_tier\": \"default\",\n  \"system_fingerprint\": \"fp_fc9f1d7035\"\n}\n</code></pre>"},{"location":"openai-chat/#_5","title":"\u6d41\u5f0f\u54cd\u5e94 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/chat/completions \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"gpt-4.1\",\n    \"messages\": [\n      {\n        \"role\": \"developer\",\n        \"content\": \"\u4f60\u662f\u4e00\u4e2a\u6709\u5e2e\u52a9\u7684\u52a9\u624b\u3002\"\n      },\n      {\n        \"role\": \"user\",\n        \"content\": \"\u4f60\u597d\uff01\"\n      }\n    ],\n    \"stream\": true\n  }'\n</code></pre> <p>\u6d41\u5f0f\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\"id\":\"chatcmpl-123\",\"object\":\"chat.completion.chunk\",\"created\":1694268190,\"model\":\"gpt-4o-mini\", \"system_fingerprint\": \"fp_44709d6fcb\", \"choices\":[{\"index\":0,\"delta\":{\"role\":\"assistant\",\"content\":\"\"},\"logprobs\":null,\"finish_reason\":null}]}\n\n{\"id\":\"chatcmpl-123\",\"object\":\"chat.completion.chunk\",\"created\":1694268190,\"model\":\"gpt-4o-mini\", \"system_fingerprint\": \"fp_44709d6fcb\", \"choices\":[{\"index\":0,\"delta\":{\"content\":\"\u4f60\u597d\"},\"logprobs\":null,\"finish_reason\":null}]}\n\n// ... \u66f4\u591a\u6570\u636e\u5757 ...\n\n{\"id\":\"chatcmpl-123\",\"object\":\"chat.completion.chunk\",\"created\":1694268190,\"model\":\"gpt-4o-mini\", \"system_fingerprint\": \"fp_44709d6fcb\", \"choices\":[{\"index\":0,\"delta\":{},\"logprobs\":null,\"finish_reason\":\"stop\"}]}\n</code></pre>"},{"location":"openai-chat/#_6","title":"\u51fd\u6570\u8c03\u7528 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/chat/completions \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"gpt-4.1\",\n    \"messages\": [\n      {\n        \"role\": \"user\",\n        \"content\": \"\u6ce2\u58eb\u987f\u4eca\u5929\u7684\u5929\u6c14\u600e\u4e48\u6837\uff1f\"\n      }\n    ],\n    \"tools\": [\n      {\n        \"type\": \"function\",\n        \"function\": {\n          \"name\": \"get_current_weather\",\n          \"description\": \"\u83b7\u53d6\u6307\u5b9a\u4f4d\u7f6e\u7684\u5f53\u524d\u5929\u6c14\",\n          \"parameters\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"location\": {\n                \"type\": \"string\",\n                \"description\": \"\u57ce\u5e02\u548c\u5dde\uff0c\u4f8b\u5982 San Francisco, CA\"\n              },\n              \"unit\": {\n                \"type\": \"string\",\n                \"enum\": [\"celsius\", \"fahrenheit\"]\n              }\n            },\n            \"required\": [\"location\"]\n          }\n        }\n      }\n    ],\n    \"tool_choice\": \"auto\"\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"id\": \"chatcmpl-abc123\",\n  \"object\": \"chat.completion\",\n  \"created\": 1699896916,\n  \"model\": \"gpt-4o-mini\",\n  \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\": \"assistant\",\n        \"content\": null,\n        \"tool_calls\": [\n          {\n            \"id\": \"call_abc123\",\n            \"type\": \"function\",\n            \"function\": {\n              \"name\": \"get_current_weather\",\n              \"arguments\": \"{\\n\\\"location\\\": \\\"Boston, MA\\\"\\n}\"\n            }\n          }\n        ]\n      },\n      \"logprobs\": null,\n      \"finish_reason\": \"tool_calls\"\n    }\n  ],\n  \"usage\": {\n    \"prompt_tokens\": 82,\n    \"completion_tokens\": 17,\n    \"total_tokens\": 99,\n    \"completion_tokens_details\": {\n      \"reasoning_tokens\": 0,\n      \"accepted_prediction_tokens\": 0,\n      \"rejected_prediction_tokens\": 0\n    }\n  }\n}\n</code></pre>"},{"location":"openai-chat/#logprobs","title":"Logprobs \u8bf7\u6c42 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/chat/completions \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"gpt-4.1\",\n    \"messages\": [\n      {\n        \"role\": \"user\",\n        \"content\": \"\u4f60\u597d\uff01\"\n      }\n    ],\n    \"logprobs\": true,\n    \"top_logprobs\": 2\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"id\": \"chatcmpl-123\",\n  \"object\": \"chat.completion\",\n  \"created\": 1702685778,\n  \"model\": \"gpt-4o-mini\",\n  \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\": \"assistant\",\n        \"content\": \"\u4f60\u597d\uff01\u6211\u80fd\u4e3a\u4f60\u63d0\u4f9b\u4ec0\u4e48\u5e2e\u52a9\uff1f\"\n      },\n      \"logprobs\": {\n        \"content\": [\n          {\n            \"token\": \"Hello\",\n            \"logprob\": -0.31725305,\n            \"bytes\": [72, 101, 108, 108, 111],\n            \"top_logprobs\": [\n              {\n                \"token\": \"Hello\",\n                \"logprob\": -0.31725305,\n                \"bytes\": [72, 101, 108, 108, 111]\n              },\n              {\n                \"token\": \"Hi\",\n                \"logprob\": -1.3190403,\n                \"bytes\": [72, 105]\n              }\n            ]\n          },\n          {\n            \"token\": \"!\",\n            \"logprob\": -0.02380986,\n            \"bytes\": [\n              33\n            ],\n            \"top_logprobs\": [\n              {\n                \"token\": \"!\",\n                \"logprob\": -0.02380986,\n                \"bytes\": [33]\n              },\n              {\n                \"token\": \" there\",\n                \"logprob\": -3.787621,\n                \"bytes\": [32, 116, 104, 101, 114, 101]\n              }\n            ]\n          },\n          {\n            \"token\": \" How\",\n            \"logprob\": -0.000054669687,\n            \"bytes\": [32, 72, 111, 119],\n            \"top_logprobs\": [\n              {\n                \"token\": \" How\",\n                \"logprob\": -0.000054669687,\n                \"bytes\": [32, 72, 111, 119]\n              },\n              {\n                \"token\": \"&lt;|end|&gt;\",\n                \"logprob\": -10.953937,\n                \"bytes\": null\n              }\n            ]\n          },\n          {\n            \"token\": \" can\",\n            \"logprob\": -0.015801601,\n            \"bytes\": [32, 99, 97, 110],\n            \"top_logprobs\": [\n              {\n                \"token\": \" can\",\n                \"logprob\": -0.015801601,\n                \"bytes\": [32, 99, 97, 110]\n              },\n              {\n                \"token\": \" may\",\n                \"logprob\": -4.161023,\n                \"bytes\": [32, 109, 97, 121]\n              }\n            ]\n          },\n          {\n            \"token\": \" I\",\n            \"logprob\": -3.7697225e-6,\n            \"bytes\": [\n              32,\n              73\n            ],\n            \"top_logprobs\": [\n              {\n                \"token\": \" I\",\n                \"logprob\": -3.7697225e-6,\n                \"bytes\": [32, 73]\n              },\n              {\n                \"token\": \" assist\",\n                \"logprob\": -13.596657,\n                \"bytes\": [32, 97, 115, 115, 105, 115, 116]\n              }\n            ]\n          },\n          {\n            \"token\": \" assist\",\n            \"logprob\": -0.04571125,\n            \"bytes\": [32, 97, 115, 115, 105, 115, 116],\n            \"top_logprobs\": [\n              {\n                \"token\": \" assist\",\n                \"logprob\": -0.04571125,\n                \"bytes\": [32, 97, 115, 115, 105, 115, 116]\n              },\n              {\n                \"token\": \" help\",\n                \"logprob\": -3.1089056,\n                \"bytes\": [32, 104, 101, 108, 112]\n              }\n            ]\n          },\n          {\n            \"token\": \" you\",\n            \"logprob\": -5.4385737e-6,\n            \"bytes\": [32, 121, 111, 117],\n            \"top_logprobs\": [\n              {\n                \"token\": \" you\",\n                \"logprob\": -5.4385737e-6,\n                \"bytes\": [32, 121, 111, 117]\n              },\n              {\n                \"token\": \" today\",\n                \"logprob\": -12.807695,\n                \"bytes\": [32, 116, 111, 100, 97, 121]\n              }\n            ]\n          },\n          {\n            \"token\": \" today\",\n            \"logprob\": -0.0040071653,\n            \"bytes\": [32, 116, 111, 100, 97, 121],\n            \"top_logprobs\": [\n              {\n                \"token\": \" today\",\n                \"logprob\": -0.0040071653,\n                \"bytes\": [32, 116, 111, 100, 97, 121]\n              },\n              {\n                \"token\": \"?\",\n                \"logprob\": -5.5247097,\n                \"bytes\": [63]\n              }\n            ]\n          },\n          {\n            \"token\": \"?\",\n            \"logprob\": -0.0008108172,\n            \"bytes\": [63],\n            \"top_logprobs\": [\n              {\n                \"token\": \"?\",\n                \"logprob\": -0.0008108172,\n                \"bytes\": [63]\n              },\n              {\n                \"token\": \"?\\n\",\n                \"logprob\": -7.184561,\n                \"bytes\": [63, 10]\n              }\n            ]\n          }\n        ]\n      },\n      \"finish_reason\": \"stop\"\n    }\n  ],\n  \"usage\": {\n    \"prompt_tokens\": 9,\n    \"completion_tokens\": 9,\n    \"total_tokens\": 18,\n    \"completion_tokens_details\": {\n      \"reasoning_tokens\": 0,\n      \"accepted_prediction_tokens\": 0,\n      \"rejected_prediction_tokens\": 0\n    }\n  },\n  \"system_fingerprint\": null\n}\n</code></pre>"},{"location":"openai-chat/#_7","title":"\ud83d\udcee \u8bf7\u6c42","text":""},{"location":"openai-chat/#_8","title":"\u7aef\u70b9","text":"<pre><code>POST /v1/chat/completions\n</code></pre> <p>\u521b\u5efa\u7ed9\u5b9a\u804a\u5929\u5bf9\u8bdd\u7684\u6a21\u578b\u54cd\u5e94\u3002\u66f4\u591a\u8be6\u60c5\u8bf7\u53c2\u9605\u6587\u672c\u751f\u6210\u3001\u89c6\u89c9\u548c\u97f3\u9891\u6307\u5357\u3002</p>"},{"location":"openai-chat/#_9","title":"\u9274\u6743\u65b9\u6cd5","text":"<p>\u5728\u8bf7\u6c42\u5934\u4e2d\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\u8fdb\u884c API \u5bc6\u94a5\u8ba4\u8bc1\uff1a</p> <pre><code>Authorization: Bearer $API_API_KEY\n</code></pre> <p>\u5176\u4e2d <code>$API_API_KEY</code> \u662f\u60a8\u7684 API \u5bc6\u94a5\u3002\u60a8\u53ef\u4ee5\u5728 OpenAI \u5e73\u53f0\u7684 API \u5bc6\u94a5\u9875\u9762\u4e2d\u627e\u5230\u6216\u751f\u6210 API \u5bc6\u94a5\u3002</p>"},{"location":"openai-chat/#_10","title":"\u8bf7\u6c42\u4f53\u53c2\u6570","text":""},{"location":"openai-chat/#messages","title":"<code>messages</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u5230\u76ee\u524d\u4e3a\u6b62\u5305\u542b\u5bf9\u8bdd\u7684\u6d88\u606f\u5217\u8868\u3002\u6839\u636e\u4f7f\u7528\u7684\u6a21\u578b\uff0c\u652f\u6301\u4e0d\u540c\u7684\u6d88\u606f\u7c7b\u578b\uff08\u5f62\u5f0f\uff09\uff0c\u5982\u6587\u672c\u3001\u56fe\u50cf\u548c\u97f3\u9891\u3002</p> \u6d88\u606f\u7c7b\u578b \u63cf\u8ff0 Developer message \u5f00\u53d1\u8005\u63d0\u4f9b\u7684\u6307\u4ee4\uff0c\u6a21\u578b\u5e94\u9075\u5faa\u8fd9\u4e9b\u6307\u4ee4\uff0c\u65e0\u8bba\u7528\u6237\u53d1\u9001\u4ec0\u4e48\u6d88\u606f\u3002\u5728 o1 \u6a21\u578b\u53ca\u66f4\u65b0\u7248\u672c\u4e2d\uff0c\u5f00\u53d1\u8005\u6d88\u606f\u53d6\u4ee3\u4e86\u4e4b\u524d\u7684\u7cfb\u7edf\u6d88\u606f\u3002 System message \u5f00\u53d1\u8005\u63d0\u4f9b\u7684\u6307\u4ee4\uff0c\u6a21\u578b\u5e94\u9075\u5faa\u8fd9\u4e9b\u6307\u4ee4\uff0c\u65e0\u8bba\u7528\u6237\u53d1\u9001\u4ec0\u4e48\u6d88\u606f\u3002\u5728 o1 \u6a21\u578b\u53ca\u66f4\u65b0\u7248\u672c\u4e2d\uff0c\u8bf7\u4f7f\u7528\u5f00\u53d1\u8005\u6d88\u606f\u4ee3\u66ff\u3002 User message \u7531\u7ec8\u7aef\u7528\u6237\u53d1\u9001\u7684\u6d88\u606f\uff0c\u5305\u542b\u63d0\u793a\u6216\u989d\u5916\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002 Assistant message \u6a21\u578b\u54cd\u5e94\u7528\u6237\u6d88\u606f\u53d1\u9001\u7684\u6d88\u606f\u3002 Tool message \u5de5\u5177\u6d88\u606f\u7684\u5185\u5bb9\u3002 Function message \u5df2\u5f03\u7528\u3002 <p>Developer message \u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>role</code> \u5b57\u7b26\u4e32 \u662f \u6d88\u606f\u4f5c\u8005\u7684\u89d2\u8272\uff0c\u6b64\u5904\u4e3a <code>developer</code>\u3002 <code>content</code> \u5b57\u7b26\u4e32\u6216\u6570\u7ec4 \u662f \u5f00\u53d1\u8005\u6d88\u606f\u7684\u5185\u5bb9\u3002\u53ef\u4ee5\u662f\u6587\u672c\u5185\u5bb9\uff08\u5b57\u7b26\u4e32\uff09\u6216\u5185\u5bb9\u90e8\u5206\u6570\u7ec4\u3002 <code>name</code> \u5b57\u7b26\u4e32 \u5426 \u53c2\u4e0e\u8005\u7684\u53ef\u9009\u540d\u79f0\u3002\u4e3a\u6a21\u578b\u63d0\u4f9b\u4fe1\u606f\u4ee5\u533a\u5206\u76f8\u540c\u89d2\u8272\u7684\u53c2\u4e0e\u8005\u3002 <p>System message \u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>role</code> \u5b57\u7b26\u4e32 \u662f \u6d88\u606f\u4f5c\u8005\u7684\u89d2\u8272\uff0c\u6b64\u5904\u4e3a <code>system</code>\u3002 <code>content</code> \u5b57\u7b26\u4e32\u6216\u6570\u7ec4 \u662f \u7cfb\u7edf\u6d88\u606f\u7684\u5185\u5bb9\u3002\u53ef\u4ee5\u662f\u6587\u672c\u5185\u5bb9\uff08\u5b57\u7b26\u4e32\uff09\u6216\u5185\u5bb9\u90e8\u5206\u6570\u7ec4\u3002 <code>name</code> \u5b57\u7b26\u4e32 \u5426 \u53c2\u4e0e\u8005\u7684\u53ef\u9009\u540d\u79f0\u3002\u4e3a\u6a21\u578b\u63d0\u4f9b\u4fe1\u606f\u4ee5\u533a\u5206\u76f8\u540c\u89d2\u8272\u7684\u53c2\u4e0e\u8005\u3002 <p>User message \u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>role</code> \u5b57\u7b26\u4e32 \u662f \u6d88\u606f\u4f5c\u8005\u7684\u89d2\u8272\uff0c\u6b64\u5904\u4e3a <code>user</code>\u3002 <code>content</code> \u5b57\u7b26\u4e32\u6216\u6570\u7ec4 \u662f \u7528\u6237\u6d88\u606f\u7684\u5185\u5bb9\u3002\u53ef\u4ee5\u662f\u6587\u672c\u5185\u5bb9\uff08\u5b57\u7b26\u4e32\uff09\u6216\u5185\u5bb9\u90e8\u5206\u6570\u7ec4\u3002 <code>name</code> \u5b57\u7b26\u4e32 \u5426 \u53c2\u4e0e\u8005\u7684\u53ef\u9009\u540d\u79f0\u3002\u4e3a\u6a21\u578b\u63d0\u4f9b\u4fe1\u606f\u4ee5\u533a\u5206\u76f8\u540c\u89d2\u8272\u7684\u53c2\u4e0e\u8005\u3002 <p>\u5185\u5bb9\u90e8\u5206\u7c7b\u578b\uff1a</p> \u5185\u5bb9\u90e8\u5206\u7c7b\u578b \u63cf\u8ff0 \u53ef\u7528\u4e8e \u6587\u672c\u5185\u5bb9\u90e8\u5206 \u6587\u672c\u8f93\u5165\u3002 \u6240\u6709\u6d88\u606f\u7c7b\u578b \u56fe\u50cf\u5185\u5bb9\u90e8\u5206 \u56fe\u50cf\u8f93\u5165\u3002 \u7528\u6237\u6d88\u606f \u97f3\u9891\u5185\u5bb9\u90e8\u5206 \u97f3\u9891\u8f93\u5165\u3002 \u7528\u6237\u6d88\u606f \u6587\u4ef6\u5185\u5bb9\u90e8\u5206 \u6587\u4ef6\u8f93\u5165\uff0c\u7528\u4e8e\u6587\u672c\u751f\u6210\u3002 \u7528\u6237\u6d88\u606f \u62d2\u7edd\u5185\u5bb9\u90e8\u5206 \u6a21\u578b\u751f\u6210\u7684\u62d2\u7edd\u6d88\u606f\u3002 \u52a9\u624b\u6d88\u606f <p>\u6587\u672c\u5185\u5bb9\u90e8\u5206\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>text</code> \u5b57\u7b26\u4e32 \u662f \u6587\u672c\u5185\u5bb9\u3002 <code>type</code> \u5b57\u7b26\u4e32 \u662f \u5185\u5bb9\u90e8\u5206\u7684\u7c7b\u578b\u3002 <p>\u56fe\u50cf\u5185\u5bb9\u90e8\u5206\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>image_url</code> \u5bf9\u8c61 \u662f \u5305\u542b\u56fe\u50cfURL\u6216base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\u3002 <code>type</code> \u5b57\u7b26\u4e32 \u662f \u5185\u5bb9\u90e8\u5206\u7684\u7c7b\u578b\u3002 <p>\u56fe\u50cfURL\u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>url</code> \u5b57\u7b26\u4e32 \u662f \u56fe\u50cf\u7684URL\u6216base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\u3002 <code>detail</code> \u5b57\u7b26\u4e32 \u5426 \u6307\u5b9a\u56fe\u50cf\u7684\u8be6\u7ec6\u7ea7\u522b\u3002\u9ed8\u8ba4\u4e3a <code>auto</code>\u3002 <p>\u97f3\u9891\u5185\u5bb9\u90e8\u5206\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>input_audio</code> \u5bf9\u8c61 \u662f \u5305\u542b\u97f3\u9891\u6570\u636e\u7684\u5bf9\u8c61\u3002 <code>type</code> \u5b57\u7b26\u4e32 \u662f \u5185\u5bb9\u90e8\u5206\u7684\u7c7b\u578b\u3002\u59cb\u7ec8\u4e3a <code>input_audio</code>\u3002 <p>\u97f3\u9891\u8f93\u5165\u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>data</code> \u5b57\u7b26\u4e32 \u662f base64\u7f16\u7801\u7684\u97f3\u9891\u6570\u636e\u3002 <code>format</code> \u5b57\u7b26\u4e32 \u662f \u7f16\u7801\u97f3\u9891\u6570\u636e\u7684\u683c\u5f0f\u3002\u5f53\u524d\u652f\u6301 \"wav\" \u548c \"mp3\"\u3002 <p>\u6587\u4ef6\u5185\u5bb9\u90e8\u5206\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>file</code> \u5bf9\u8c61 \u662f \u5305\u542b\u6587\u4ef6\u6570\u636e\u7684\u5bf9\u8c61\u3002 <code>type</code> \u5b57\u7b26\u4e32 \u662f \u5185\u5bb9\u90e8\u5206\u7684\u7c7b\u578b\u3002\u59cb\u7ec8\u4e3a <code>file</code>\u3002 <p>\u6587\u4ef6\u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>file_data</code> \u5b57\u7b26\u4e32 \u5426 base64\u7f16\u7801\u7684\u6587\u4ef6\u6570\u636e\uff0c\u7528\u4e8e\u5c06\u6587\u4ef6\u4f5c\u4e3a\u5b57\u7b26\u4e32\u4f20\u9012\u7ed9\u6a21\u578b\u3002 <code>file_id</code> \u5b57\u7b26\u4e32 \u5426 \u5df2\u4e0a\u4f20\u6587\u4ef6\u7684ID\uff0c\u7528\u4f5c\u8f93\u5165\u3002 <code>filename</code> \u5b57\u7b26\u4e32 \u5426 \u6587\u4ef6\u540d\uff0c\u7528\u4e8e\u5c06\u6587\u4ef6\u4f5c\u4e3a\u5b57\u7b26\u4e32\u4f20\u9012\u7ed9\u6a21\u578b\u3002 <p>Assistant message \u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>role</code> \u5b57\u7b26\u4e32 \u662f \u6d88\u606f\u4f5c\u8005\u7684\u89d2\u8272\uff0c\u6b64\u5904\u4e3a <code>assistant</code>\u3002 <code>content</code> \u5b57\u7b26\u4e32\u6216\u6570\u7ec4 \u5426 \u52a9\u624b\u6d88\u606f\u7684\u5185\u5bb9\u3002\u9664\u975e\u6307\u5b9a\u4e86 <code>tool_calls</code> \u6216 <code>function_call</code>\uff0c\u5426\u5219\u4e3a\u5fc5\u9700\u3002 <code>name</code> \u5b57\u7b26\u4e32 \u5426 \u53c2\u4e0e\u8005\u7684\u53ef\u9009\u540d\u79f0\u3002\u4e3a\u6a21\u578b\u63d0\u4f9b\u4fe1\u606f\u4ee5\u533a\u5206\u76f8\u540c\u89d2\u8272\u7684\u53c2\u4e0e\u8005\u3002 <code>audio</code> \u5bf9\u8c61\u6216null \u5426 \u5173\u4e8e\u6a21\u578b\u5148\u524d\u97f3\u9891\u54cd\u5e94\u7684\u6570\u636e\u3002 <code>function_call</code> \u5bf9\u8c61\u6216null \u5426 \u5df2\u5f03\u7528\uff0c\u7531 <code>tool_calls</code> \u66ff\u4ee3\u3002\u5e94\u8c03\u7528\u7684\u51fd\u6570\u7684\u540d\u79f0\u548c\u53c2\u6570\uff0c\u7531\u6a21\u578b\u751f\u6210\u3002 <code>tool_calls</code> \u6570\u7ec4 \u5426 \u6a21\u578b\u751f\u6210\u7684\u5de5\u5177\u8c03\u7528\uff0c\u5982\u51fd\u6570\u8c03\u7528\u3002 <code>refusal</code> \u5b57\u7b26\u4e32\u6216null \u5426 \u52a9\u624b\u7684\u62d2\u7edd\u6d88\u606f\u3002 <p>Tool message \u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>role</code> \u5b57\u7b26\u4e32 \u662f \u6d88\u606f\u4f5c\u8005\u7684\u89d2\u8272\uff0c\u6b64\u5904\u4e3a <code>tool</code>\u3002 <code>content</code> \u5b57\u7b26\u4e32\u6216\u6570\u7ec4 \u662f \u5de5\u5177\u6d88\u606f\u7684\u5185\u5bb9\u3002 <code>tool_call_id</code> \u5b57\u7b26\u4e32 \u662f \u6b64\u6d88\u606f\u54cd\u5e94\u7684\u5de5\u5177\u8c03\u7528\u3002 <p>Function message \u5c5e\u6027\uff1a\uff08\u5df2\u5f03\u7528\uff09</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>role</code> \u5b57\u7b26\u4e32 \u662f \u6d88\u606f\u4f5c\u8005\u7684\u89d2\u8272\uff0c\u6b64\u5904\u4e3a <code>function</code>\u3002 <code>content</code> \u5b57\u7b26\u4e32\u6216null \u662f \u51fd\u6570\u6d88\u606f\u7684\u5185\u5bb9\u3002 <code>name</code> \u5b57\u7b26\u4e32 \u662f \u8981\u8c03\u7528\u7684\u51fd\u6570\u7684\u540d\u79f0\u3002"},{"location":"openai-chat/#model","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32  </li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u8981\u4f7f\u7528\u7684\u6a21\u578b ID\u3002\u6709\u5173\u54ea\u4e9b\u6a21\u578b\u9002\u7528\u4e8e Chat API \u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u6a21\u578b\u7aef\u70b9\u517c\u5bb9\u6027\u8868\u3002</p>"},{"location":"openai-chat/#store","title":"<code>store</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5e03\u5c14\u503c\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1afalse</li> </ul> <p>\u662f\u5426\u5b58\u50a8\u6b64\u804a\u5929\u8865\u5168\u8bf7\u6c42\u7684\u8f93\u51fa\u4ee5\u7528\u4e8e\u6211\u4eec\u7684\u6a21\u578b\u84b8\u998f\u6216\u8bc4\u4f30\u4ea7\u54c1\u3002</p>"},{"location":"openai-chat/#reasoning_effort","title":"<code>reasoning_effort</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1amedium</li> <li>\u4ec5\u9002\u7528\u4e8e o\u7cfb\u5217 \u7684\u6a21\u578b</li> </ul> <p>\u7ea6\u675f\u63a8\u7406\u6a21\u578b\u7684\u63a8\u7406\u5de5\u4f5c\u3002\u5f53\u524d\u652f\u6301\u7684\u503c\u4e3a <code>low</code>\u3001<code>medium</code> \u548c <code>high</code>\u3002\u51cf\u5c11\u63a8\u7406\u5de5\u4f5c\u53ef\u4ee5\u52a0\u5feb\u54cd\u5e94\u901f\u5ea6\u5e76\u51cf\u5c11\u54cd\u5e94\u4e2d\u7528\u4e8e\u63a8\u7406\u7684\u6807\u8bb0\u6570\u3002</p>"},{"location":"openai-chat/#metadata","title":"<code>metadata</code>","text":"<ul> <li>\u7c7b\u578b\uff1amap</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u53ef\u4ee5\u9644\u52a0\u5230\u5bf9\u8c61\u768416\u4e2a\u952e\u503c\u5bf9\u96c6\u5408\u3002\u8fd9\u5bf9\u4e8e\u4ee5\u7ed3\u6784\u5316\u683c\u5f0f\u5b58\u50a8\u5bf9\u8c61\u7684\u5176\u4ed6\u4fe1\u606f\u5f88\u6709\u7528,\u5e76\u53ef\u4ee5\u901a\u8fc7 API \u6216\u4eea\u8868\u677f\u67e5\u8be2\u5bf9\u8c61\u3002</p> <p>\u952e\u662f\u6700\u5927\u957f\u5ea6\u4e3a64\u4e2a\u5b57\u7b26\u7684\u5b57\u7b26\u4e32\u3002\u503c\u662f\u6700\u5927\u957f\u5ea6\u4e3a512\u4e2a\u5b57\u7b26\u7684\u5b57\u7b26\u4e32\u3002</p>"},{"location":"openai-chat/#modalities","title":"<code>modalities</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u60a8\u5e0c\u671b\u6a21\u578b\u4e3a\u6b64\u8bf7\u6c42\u751f\u6210\u7684\u8f93\u51fa\u7c7b\u578b\u3002\u5927\u591a\u6570\u6a21\u578b\u90fd\u80fd\u751f\u6210\u6587\u672c,\u8fd9\u662f\u9ed8\u8ba4\u8bbe\u7f6e: [\"text\"]</p> <p>\u8be5\u6a21\u578b\u8fd8\u53ef\u4ee5\u7528\u4e8e\u751f\u6210\u97f3\u9891\u3002\u8981\u8bf7\u6c42\u6b64\u6a21\u578b\u540c\u65f6\u751f\u6210\u6587\u672c\u548c\u97f3\u9891\u54cd\u5e94,\u60a8\u53ef\u4ee5\u4f7f\u7528: [\"text\", \"audio\"]</p>"},{"location":"openai-chat/#prediction","title":"<code>prediction</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u9884\u6d4b\u8f93\u51fa\u7684\u914d\u7f6e,\u5f53\u63d0\u524d\u77e5\u9053\u6a21\u578b\u54cd\u5e94\u7684\u5927\u90e8\u5206\u5185\u5bb9\u65f6,\u53ef\u4ee5\u5927\u5927\u63d0\u9ad8\u54cd\u5e94\u65f6\u95f4\u3002\u8fd9\u5728\u60a8\u53ea\u5bf9\u6587\u4ef6\u8fdb\u884c\u5fae\u5c0f\u66f4\u6539\u65f6\u6700\u5e38\u89c1\u3002</p> <p>\u53ef\u80fd\u7684\u7c7b\u578b\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 \u9759\u6001\u5185\u5bb9 \u9759\u6001\u9884\u6d4b\u8f93\u51fa\u5185\u5bb9\uff0c\u4f8b\u5982\u6b63\u5728\u91cd\u65b0\u751f\u6210\u7684\u5177\u6709\u5fae\u5c0f\u66f4\u6539\u7684\u6587\u672c\u6587\u4ef6\u5185\u5bb9\u3002 <p>\u9759\u6001\u5185\u5bb9\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>content</code> \u5b57\u7b26\u4e32\u6216\u6570\u7ec4 \u662f \u751f\u6210\u6a21\u578b\u54cd\u5e94\u65f6\u5e94\u5339\u914d\u7684\u5185\u5bb9\u3002\u5982\u679c\u751f\u6210\u7684\u6807\u8bb0\u4e0e\u6b64\u5185\u5bb9\u5339\u914d\uff0c\u5219\u6574\u4e2a\u6a21\u578b\u54cd\u5e94\u53ef\u4ee5\u66f4\u5feb\u5730\u8fd4\u56de\u3002 <code>type</code> \u5b57\u7b26\u4e32 \u662f \u8981\u63d0\u4f9b\u7684\u9884\u6d4b\u5185\u5bb9\u7c7b\u578b\u3002\u5f53\u524d\u7c7b\u578b\u59cb\u7ec8\u4e3a <code>content</code>\u3002 <p>\u5185\u5bb9\u53ef\u80fd\u7684\u7c7b\u578b\uff1a</p> <ol> <li> <p>\u6587\u672c\u5185\u5bb9\uff08\u5b57\u7b26\u4e32\uff09 - \u7528\u4e8e\u9884\u6d4b\u8f93\u51fa\u7684\u5185\u5bb9\u3002\u8fd9\u901a\u5e38\u662f\u60a8\u6b63\u5728\u91cd\u65b0\u751f\u6210\u7684\u6587\u4ef6\u7684\u6587\u672c\uff0c\u53ea\u6709\u5fae\u5c0f\u66f4\u6539\u3002</p> </li> <li> <p>\u5185\u5bb9\u90e8\u5206\u6570\u7ec4\uff08\u6570\u7ec4\uff09 - \u5177\u6709\u5b9a\u4e49\u7c7b\u578b\u7684\u5185\u5bb9\u90e8\u5206\u6570\u7ec4\u3002\u652f\u6301\u7684\u9009\u9879\u56e0\u7528\u4e8e\u751f\u6210\u54cd\u5e94\u7684\u6a21\u578b\u800c\u5f02\u3002\u53ef\u4ee5\u5305\u542b\u6587\u672c\u8f93\u5165\u3002</p> </li> </ol> <p>\u5185\u5bb9\u90e8\u5206\u6570\u7ec4\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>text</code> \u5b57\u7b26\u4e32 \u662f \u6587\u672c\u5185\u5bb9\u3002 <code>type</code> \u5b57\u7b26\u4e32 \u662f \u5185\u5bb9\u90e8\u5206\u7684\u7c7b\u578b\u3002"},{"location":"openai-chat/#audio","title":"<code>audio</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u97f3\u9891\u8f93\u51fa\u7684\u53c2\u6570\u3002\u5f53\u4f7f\u7528 <code>modalities: [\"audio\"]</code> \u8bf7\u6c42\u97f3\u9891\u8f93\u51fa\u65f6\u9700\u8981\u3002</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>format</code> \u5b57\u7b26\u4e32 \u662f \u6307\u5b9a\u8f93\u51fa\u97f3\u9891\u683c\u5f0f\u3002\u5fc5\u987b\u662f\u4ee5\u4e0b\u4e4b\u4e00\uff1awav\u3001mp3\u3001flac\u3001opus \u6216 pcm16\u3002 <code>voice</code> \u5b57\u7b26\u4e32 \u662f \u6a21\u578b\u7528\u4e8e\u54cd\u5e94\u7684\u58f0\u97f3\u3002\u652f\u6301\u7684\u58f0\u97f3\u5305\u62ec\uff1aalloy\u3001ash\u3001ballad\u3001coral\u3001echo\u3001fable\u3001nova\u3001onyx\u3001sage \u548c shimmer\u3002"},{"location":"openai-chat/#temperature","title":"<code>temperature</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u5b57\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1a1</li> </ul> <p>\u8981\u4f7f\u7528\u7684\u91c7\u6837\u6e29\u5ea6\uff0c\u4ecb\u4e8e 0 \u548c 2 \u4e4b\u95f4\u3002\u8f83\u9ad8\u7684\u503c\uff08\u59820.8\uff09\u4f1a\u4f7f\u8f93\u51fa\u66f4\u52a0\u968f\u673a\uff0c\u800c\u8f83\u4f4e\u7684\u503c\uff08\u59820.2\uff09\u4f1a\u4f7f\u5176\u66f4\u52a0\u96c6\u4e2d\u548c\u786e\u5b9a\u6027\u3002\u6211\u4eec\u901a\u5e38\u5efa\u8bae\u66f4\u6539\u6b64\u503c\u6216 <code>top_p</code>\uff0c\u4f46\u4e0d\u8981\u540c\u65f6\u66f4\u6539\u3002</p>"},{"location":"openai-chat/#top_p","title":"<code>top_p</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u5b57\u6216 null  </li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1a1</li> </ul> <p>\u4e00\u79cd\u66ff\u4ee3\u91c7\u6837\u6e29\u5ea6\u7684\u65b9\u6cd5\uff0c\u79f0\u4e3a\u6838\u91c7\u6837\uff0c\u5176\u4e2d\u6a21\u578b\u8003\u8651\u5177\u6709 top_p \u6982\u7387\u8d28\u91cf\u7684\u6807\u8bb0\u7ed3\u679c\u3002\u56e0\u6b64\uff0c0.1 \u610f\u5473\u7740\u53ea\u8003\u8651\u5305\u542b\u524d 10% \u6982\u7387\u8d28\u91cf\u7684\u6807\u8bb0\u3002</p> <p>\u6211\u4eec\u901a\u5e38\u5efa\u8bae\u66f4\u6539\u6b64\u503c\u6216 <code>temperature</code>\uff0c\u4f46\u4e0d\u8981\u540c\u65f6\u66f4\u6539\u3002</p>"},{"location":"openai-chat/#n","title":"<code>n</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426  </li> <li>\u9ed8\u8ba4\u503c\uff1a1</li> </ul> <p>\u4e3a\u6bcf\u4e2a\u8f93\u5165\u6d88\u606f\u751f\u6210\u591a\u5c11\u4e2a\u804a\u5929\u8865\u5168\u9009\u62e9\u3002\u8bf7\u6ce8\u610f\uff0c\u60a8\u5c06\u6839\u636e\u6240\u6709\u9009\u62e9\u751f\u6210\u7684\u6807\u8bb0\u6570\u91cf\u6536\u8d39\u3002\u4fdd\u6301 <code>n</code> \u4e3a 1 \u53ef\u6700\u5927\u9650\u5ea6\u5730\u964d\u4f4e\u6210\u672c\u3002</p>"},{"location":"openai-chat/#stop","title":"<code>stop</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32/\u6570\u7ec4/null</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1anull</li> <li>\u4e0d\u652f\u6301\u6700\u65b0\u7684\u63a8\u7406\u6a21\u578b\u548c .o3\u3001o4-mini</li> </ul> <p>API \u5c06\u505c\u6b62\u751f\u6210\u66f4\u591a\u6807\u8bb0\u7684\u6700\u591a 4 \u4e2a\u5e8f\u5217\u3002\u8fd4\u56de\u7684\u6587\u672c\u4e0d\u4f1a\u5305\u542b\u505c\u6b62\u5e8f\u5217\u3002</p>"},{"location":"openai-chat/#max_tokens","title":"<code>max_tokens</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u804a\u5929\u8865\u5168\u4e2d\u53ef\u4ee5\u751f\u6210\u7684\u6700\u5927\u6807\u8bb0\u6570\u3002\u6b64\u503c\u53ef\u7528\u4e8e\u63a7\u5236\u901a\u8fc7 API \u751f\u6210\u7684\u6587\u672c\u6210\u672c\u3002</p> <p>\u8be5\u503c\u73b0\u5df2\u5f03\u7528\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u662f <code>max_completion_tokens</code>\uff0c\u5e76\u4e14\u4e0e <code>o1</code> \u7cfb\u5217\u6a21\u578b\u4e0d\u517c\u5bb9\u3002</p>"},{"location":"openai-chat/#max_completion_tokens","title":"<code>max_completion_tokens</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u8865\u5168\u4e2d\u53ef\u4ee5\u751f\u6210\u7684\u6807\u8bb0\u6570\u7684\u4e0a\u9650\uff0c\u5305\u62ec\u53ef\u89c1\u8f93\u51fa\u6807\u8bb0\u548c\u63a8\u7406\u6807\u8bb0\u3002</p>"},{"location":"openai-chat/#presence_penalty","title":"<code>presence_penalty</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u5b57\u6216 null </li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1a0</li> </ul> <p>\u4ecb\u4e8e -2.0 \u548c 2.0 \u4e4b\u95f4\u7684\u6570\u5b57\u3002\u6b63\u503c\u6839\u636e\u65b0\u6807\u8bb0\u5230\u76ee\u524d\u4e3a\u6b62\u5728\u6587\u672c\u4e2d\u51fa\u73b0\u7684\u60c5\u51b5\u6765\u60e9\u7f5a\u5b83\u4eec\uff0c\u4ece\u800c\u589e\u52a0\u6a21\u578b\u8ba8\u8bba\u65b0\u4e3b\u9898\u7684\u53ef\u80fd\u6027\u3002</p>"},{"location":"openai-chat/#frequency_penalty","title":"<code>frequency_penalty</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u5b57\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426  </li> <li>\u9ed8\u8ba4\u503c\uff1a0</li> </ul> <p>\u4ecb\u4e8e -2.0 \u548c 2.0 \u4e4b\u95f4\u7684\u6570\u5b57\u3002\u6b63\u503c\u6839\u636e\u65b0\u6807\u8bb0\u5230\u76ee\u524d\u4e3a\u6b62\u5728\u6587\u672c\u4e2d\u7684\u73b0\u6709\u9891\u7387\u6765\u60e9\u7f5a\u5b83\u4eec\uff0c\u4ece\u800c\u964d\u4f4e\u6a21\u578b\u9010\u5b57\u91cd\u590d\u540c\u4e00\u884c\u7684\u53ef\u80fd\u6027\u3002</p>"},{"location":"openai-chat/#logit_bias","title":"<code>logit_bias</code>","text":"<ul> <li>\u7c7b\u578b\uff1amap</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1anull</li> </ul> <p>\u4fee\u6539\u6307\u5b9a\u6807\u8bb0\u51fa\u73b0\u5728\u8865\u5168\u4e2d\u7684\u53ef\u80fd\u6027\u3002</p> <p>\u63a5\u53d7\u4e00\u4e2a JSON \u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u5c06\u6807\u8bb0\uff08\u7531\u5206\u8bcd\u5668\u4e2d\u7684\u6807\u8bb0 ID \u6307\u5b9a\uff09\u6620\u5c04\u5230\u4ece -100 \u5230 100 \u7684\u5173\u8054\u504f\u5dee\u503c\u3002\u5728\u6570\u5b66\u4e0a\uff0c\u504f\u5dee\u88ab\u6dfb\u52a0\u5230\u6a21\u578b\u5728\u91c7\u6837\u4e4b\u524d\u751f\u6210\u7684\u5bf9\u6570\u4e2d\u3002\u786e\u5207\u7684\u6548\u679c\u4f1a\u56e0\u6a21\u578b\u800c\u5f02\uff0c\u4f46\u4ecb\u4e8e -1 \u548c 1 \u4e4b\u95f4\u7684\u503c\u5e94\u8be5\u4f1a\u51cf\u5c11\u6216\u589e\u52a0\u9009\u62e9\u7684\u53ef\u80fd\u6027\uff1b\u50cf -100 \u6216 100 \u8fd9\u6837\u7684\u503c\u5e94\u8be5\u5bfc\u81f4\u76f8\u5173\u6807\u8bb0\u88ab\u7981\u6b62\u6216\u72ec\u5360\u9009\u62e9\u3002</p>"},{"location":"openai-chat/#logprobs_1","title":"<code>logprobs</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5e03\u5c14\u503c\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1afalse</li> </ul> <p>\u662f\u5426\u8fd4\u56de\u8f93\u51fa\u6807\u8bb0\u7684\u5bf9\u6570\u6982\u7387\u3002\u5982\u679c\u4e3a true\uff0c\u5219\u8fd4\u56de <code>message.content</code> \u4e2d\u6bcf\u4e2a\u8f93\u51fa\u6807\u8bb0\u7684\u5bf9\u6570\u6982\u7387\u3002</p>"},{"location":"openai-chat/#user","title":"<code>user</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u8868\u793a\u6700\u7ec8\u7528\u6237\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u53ef\u4ee5\u5e2e\u52a9 OpenAI \u76d1\u63a7\u548c\u68c0\u6d4b\u6ee5\u7528\u884c\u4e3a\u3002\u4e86\u89e3\u66f4\u591a\u3002</p>"},{"location":"openai-chat/#service_tier","title":"<code>service_tier</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1aauto</li> </ul> <p>\u6307\u5b9a\u7528\u4e8e\u5904\u7406\u8bf7\u6c42\u7684\u5ef6\u8fdf\u5c42\u7ea7\u3002\u6b64\u53c2\u6570\u4e0e\u8ba2\u9605\u4e86 scale tier \u670d\u52a1\u7684\u5ba2\u6237\u76f8\u5173\uff1a</p> <ul> <li>\u5982\u679c\u8bbe\u7f6e\u4e3a 'auto'\uff0c\u4e14\u9879\u76ee\u542f\u7528\u4e86 Scale tier\uff0c\u7cfb\u7edf\u5c06\u4f7f\u7528 scale tier \u4fe1\u7528\u76f4\u5230\u7528\u5b8c</li> <li>\u5982\u679c\u8bbe\u7f6e\u4e3a 'auto'\uff0c\u4e14\u9879\u76ee\u672a\u542f\u7528 Scale tier\uff0c\u8bf7\u6c42\u5c06\u4f7f\u7528\u9ed8\u8ba4\u670d\u52a1\u5c42\u7ea7\u5904\u7406\uff0c\u5177\u6709\u8f83\u4f4e\u7684\u6b63\u5e38\u8fd0\u884c\u65f6\u95f4 SLA \u4e14\u65e0\u5ef6\u8fdf\u4fdd\u8bc1</li> <li>\u5982\u679c\u8bbe\u7f6e\u4e3a 'default'\uff0c\u8bf7\u6c42\u5c06\u4f7f\u7528\u9ed8\u8ba4\u670d\u52a1\u5c42\u7ea7\u5904\u7406\uff0c\u5177\u6709\u8f83\u4f4e\u7684\u6b63\u5e38\u8fd0\u884c\u65f6\u95f4 SLA \u4e14\u65e0\u5ef6\u8fdf\u4fdd\u8bc1</li> <li>\u5982\u679c\u8bbe\u7f6e\u4e3a 'flex'\uff0c\u8bf7\u6c42\u5c06\u4f7f\u7528 Flex Processing \u670d\u52a1\u5c42\u7ea7\u5904\u7406\u3002\u8be6\u60c5\u8bf7\u53c2\u9605\u6587\u6863\u3002</li> <li>\u672a\u8bbe\u7f6e\u65f6\uff0c\u9ed8\u8ba4\u884c\u4e3a\u4e3a 'auto'</li> <li>\u5f53\u8bbe\u7f6e\u6b64\u53c2\u6570\u65f6\uff0c\u54cd\u5e94\u4f53\u5c06\u5305\u542b\u4f7f\u7528\u7684 service_tier</li> </ul>"},{"location":"openai-chat/#stream_options","title":"<code>stream_options</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1anull</li> </ul> <p>\u6d41\u5f0f\u54cd\u5e94\u7684\u9009\u9879\u3002\u4ec5\u5728\u8bbe\u7f6e <code>stream: true</code> \u65f6\u4f7f\u7528\u3002</p> <p>\u53ef\u80fd\u7684\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>include_usage</code> \u5e03\u5c14\u503c \u5426 \u5982\u679c\u8bbe\u7f6e\uff0c\u5c06\u5728 data: [DONE] \u6d88\u606f\u4e4b\u524d\u6d41\u5f0f\u4f20\u8f93\u4e00\u4e2a\u9644\u52a0\u5757\u3002\u8be5\u5757\u4e0a\u7684 usage \u5b57\u6bb5\u663e\u793a\u6574\u4e2a\u8bf7\u6c42\u7684\u4ee4\u724c\u4f7f\u7528\u7edf\u8ba1\u4fe1\u606f\uff0cchoices \u5b57\u6bb5\u59cb\u7ec8\u4e3a\u7a7a\u6570\u7ec4\u3002\u6240\u6709\u5176\u4ed6\u5757\u4e5f\u5c06\u5305\u542b usage \u5b57\u6bb5\uff0c\u4f46\u503c\u4e3a null\u3002\u6ce8\u610f\uff1a\u5982\u679c\u6d41\u88ab\u4e2d\u65ad\uff0c\u60a8\u53ef\u80fd\u4e0d\u4f1a\u6536\u5230\u5305\u542b\u8bf7\u6c42\u603b\u4ee4\u724c\u4f7f\u7528\u91cf\u7684\u6700\u7ec8\u4f7f\u7528\u5757\u3002"},{"location":"openai-chat/#response_format","title":"<code>response_format</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u6307\u5b9a\u6a21\u578b\u5fc5\u987b\u8f93\u51fa\u7684\u683c\u5f0f\u3002</p> <ul> <li>\u8bbe\u7f6e\u4e3a <code>{ \"type\": \"json_schema\", \"json_schema\": {...} }</code> \u542f\u7528\u7ed3\u6784\u5316\u8f93\u51fa\uff0c\u786e\u4fdd\u6a21\u578b\u5c06\u5339\u914d\u60a8\u63d0\u4f9b\u7684 JSON schema\u3002</li> <li>\u8bbe\u7f6e\u4e3a <code>{ \"type\": \"json_object\" }</code> \u542f\u7528 JSON \u6a21\u5f0f\uff0c\u786e\u4fdd\u6a21\u578b\u751f\u6210\u7684\u6d88\u606f\u662f\u6709\u6548\u7684 JSON\u3002</li> </ul> <p>\u91cd\u8981\u63d0\u793a\uff1a\u4f7f\u7528 JSON \u6a21\u5f0f\u65f6\uff0c\u60a8\u8fd8\u5fc5\u987b\u901a\u8fc7\u7cfb\u7edf\u6216\u7528\u6237\u6d88\u606f\u81ea\u884c\u6307\u793a\u6a21\u578b\u751f\u6210 JSON\u3002\u5426\u5219\uff0c\u6a21\u578b\u53ef\u80fd\u4f1a\u751f\u6210\u65e0\u5c3d\u7684\u7a7a\u767d\u76f4\u5230\u751f\u6210\u8fbe\u5230\u4ee4\u724c\u9650\u5236\u3002</p> <p>\u53ef\u80fd\u7684\u7c7b\u578b\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 text \u9ed8\u8ba4\u54cd\u5e94\u683c\u5f0f\u3002\u7528\u4e8e\u751f\u6210\u6587\u672c\u54cd\u5e94\u3002 json_schema JSON Schema \u54cd\u5e94\u683c\u5f0f\u3002\u7528\u4e8e\u751f\u6210\u7ed3\u6784\u5316 JSON \u54cd\u5e94\u3002\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u7ed3\u6784\u5316\u8f93\u51fa\u7684\u4fe1\u606f\u3002 json_object JSON \u5bf9\u8c61\u54cd\u5e94\u683c\u5f0f\u3002\u4e00\u79cd\u8f83\u8001\u7684\u751f\u6210 JSON \u54cd\u5e94\u7684\u65b9\u6cd5\u3002\u5bf9\u4e8e\u652f\u6301\u7684\u6a21\u578b\uff0c\u63a8\u8350\u4f7f\u7528 json_schema\u3002 <p>text \u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>type</code> \u5b57\u7b26\u4e32 \u662f \u6b63\u5728\u5b9a\u4e49\u7684\u54cd\u5e94\u683c\u5f0f\u7c7b\u578b\u3002\u59cb\u7ec8\u4e3a <code>text</code>\u3002 <p>json_schema \u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>json_schema</code> \u5bf9\u8c61 \u662f \u7ed3\u6784\u5316\u8f93\u51fa\u914d\u7f6e\u9009\u9879\uff0c\u5305\u62ec JSON Schema\u3002 <code>type</code> \u5b57\u7b26\u4e32 \u662f \u6b63\u5728\u5b9a\u4e49\u7684\u54cd\u5e94\u683c\u5f0f\u7c7b\u578b\u3002\u59cb\u7ec8\u4e3a <code>json_schema</code>\u3002 <p>json_schema.json_schema \u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>name</code> \u5b57\u7b26\u4e32 \u662f \u54cd\u5e94\u683c\u5f0f\u7684\u540d\u79f0\u3002\u5fc5\u987b\u662f a-z\u3001A-Z\u30010-9 \u6216\u5305\u542b\u4e0b\u5212\u7ebf\u548c\u7834\u6298\u53f7\uff0c\u6700\u5927\u957f\u5ea6\u4e3a 64\u3002 <code>description</code> \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u683c\u5f0f\u7684\u7528\u9014\u63cf\u8ff0\uff0c\u6a21\u578b\u7528\u5b83\u6765\u786e\u5b9a\u5982\u4f55\u4ee5\u8be5\u683c\u5f0f\u54cd\u5e94\u3002 <code>schema</code> \u5bf9\u8c61 \u5426 \u54cd\u5e94\u683c\u5f0f\u7684\u67b6\u6784\uff0c\u63cf\u8ff0\u4e3a JSON Schema \u5bf9\u8c61\u3002 <code>strict</code> \u5e03\u5c14\u503c\u6216 null \u5426 \u662f\u5426\u5728\u751f\u6210\u8f93\u51fa\u65f6\u542f\u7528\u4e25\u683c\u67b6\u6784\u9075\u5b88\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a true\uff0c\u6a21\u578b\u5c06\u59cb\u7ec8\u9075\u5faa schema \u5b57\u6bb5\u4e2d\u5b9a\u4e49\u7684\u786e\u5207\u67b6\u6784\u3002strict \u4e3a true \u65f6\uff0c\u4ec5\u652f\u6301 JSON Schema \u7684\u5b50\u96c6\u3002 <p>json_object \u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>type</code> \u5b57\u7b26\u4e32 \u662f \u6b63\u5728\u5b9a\u4e49\u7684\u54cd\u5e94\u683c\u5f0f\u7c7b\u578b\u3002\u59cb\u7ec8\u4e3a <code>json_object</code>\u3002"},{"location":"openai-chat/#seed","title":"<code>seed</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426 Beta \u529f\u80fd\u3002\u5982\u679c\u6307\u5b9a\uff0c\u6211\u4eec\u7684\u7cfb\u7edf\u5c06\u5c3d\u6700\u5927\u52aa\u529b\u8fdb\u884c\u786e\u5b9a\u6027\u91c7\u6837\uff0c\u4f7f\u5f97\u5177\u6709\u76f8\u540c seed \u548c\u53c2\u6570\u7684\u91cd\u590d\u8bf7\u6c42\u5e94\u8fd4\u56de\u76f8\u540c\u7684\u7ed3\u679c\u3002\u4e0d\u4fdd\u8bc1\u786e\u5b9a\u6027\uff0c\u60a8\u5e94\u53c2\u8003\u54cd\u5e94\u53c2\u6570\u7684 system_fingerprint \u4ee5\u76d1\u63a7\u540e\u7aef\u7684\u53d8\u5316\u3002</li> </ul>"},{"location":"openai-chat/#tools","title":"<code>tools</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u6a21\u578b\u53ef\u80fd\u8c03\u7528\u7684\u5de5\u5177\u5217\u8868\u3002\u76ee\u524d\u4ec5\u652f\u6301\u51fd\u6570\u4f5c\u4e3a\u5de5\u5177\u3002\u4f7f\u7528\u6b64\u53c2\u6570\u63d0\u4f9b\u6a21\u578b\u53ef\u80fd\u751f\u6210 JSON \u8f93\u5165\u7684\u51fd\u6570\u5217\u8868\u3002\u6700\u591a\u652f\u6301 128 \u4e2a\u51fd\u6570\u3002</p> <p>\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>function</code> \u5bf9\u8c61 \u662f \u8981\u8c03\u7528\u7684\u51fd\u6570\u4fe1\u606f <code>type</code> \u5b57\u7b26\u4e32 \u662f \u5de5\u5177\u7684\u7c7b\u578b\u3002\u76ee\u524d\uff0c\u4ec5\u652f\u6301 function\u3002 <p>function \u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>name</code> \u5b57\u7b26\u4e32 \u662f \u8981\u8c03\u7528\u7684\u51fd\u6570\u540d\u79f0\u3002\u5fc5\u987b\u662fa-z\u3001A-Z\u30010-9\uff0c\u6216\u5305\u542b\u4e0b\u5212\u7ebf\u548c\u7834\u6298\u53f7\uff0c\u6700\u5927\u957f\u5ea6\u4e3a64\u3002 <code>description</code> \u5b57\u7b26\u4e32 \u5426 \u51fd\u6570\u529f\u80fd\u7684\u63cf\u8ff0\uff0c\u6a21\u578b\u7528\u5b83\u6765\u9009\u62e9\u4f55\u65f6\u4ee5\u53ca\u5982\u4f55\u8c03\u7528\u51fd\u6570\u3002 <code>parameters</code> \u5bf9\u8c61 \u5426 \u51fd\u6570\u63a5\u53d7\u7684\u53c2\u6570\uff0c\u63cf\u8ff0\u4e3aJSON Schema\u5bf9\u8c61\u3002\u8bf7\u53c2\u9605\u6307\u5357\u83b7\u53d6\u793a\u4f8b\uff0c\u4ee5\u53caJSON Schema\u53c2\u8003\u4e86\u89e3\u683c\u5f0f\u6587\u6863\u3002\u7701\u7565parameters\u5b9a\u4e49\u4e00\u4e2a\u7a7a\u53c2\u6570\u5217\u8868\u7684\u51fd\u6570\u3002 <code>strict</code> \u5e03\u5c14\u503c\u6216 null \u5426 \u9ed8\u8ba4\u503c\uff1afalse\u3002\u662f\u5426\u5728\u751f\u6210\u51fd\u6570\u8c03\u7528\u65f6\u542f\u7528\u4e25\u683c\u67b6\u6784\u9075\u5b88\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a true\uff0c\u6a21\u578b\u5c06\u9075\u5faa parameters \u5b57\u6bb5\u4e2d\u5b9a\u4e49\u7684\u786e\u5207\u67b6\u6784\u3002strict \u4e3a true \u65f6\uff0c\u4ec5\u652f\u6301 JSON Schema \u7684\u5b50\u96c6\u3002\u8be6\u60c5\u8bf7\u53c2\u9605\u51fd\u6570\u8c03\u7528\u6307\u5357\u4e2d\u7684\u7ed3\u6784\u5316\u8f93\u51fa\u90e8\u5206\u3002"},{"location":"openai-chat/#functions","title":"<code>functions</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u6ce8\u610f\uff1a\u5df2\u5f03\u7528\uff0c\u63a8\u8350\u4f7f\u7528 <code>tools</code></li> </ul> <p>\u6a21\u578b\u53ef\u80fd\u751f\u6210 JSON \u8f93\u5165\u7684\u51fd\u6570\u5217\u8868\u3002</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>name</code> \u5b57\u7b26\u4e32 \u662f \u8981\u8c03\u7528\u7684\u51fd\u6570\u540d\u79f0\u3002\u5fc5\u987b\u662fa-z\u3001A-Z\u30010-9\uff0c\u6216\u5305\u542b\u4e0b\u5212\u7ebf\u548c\u7834\u6298\u53f7\uff0c\u6700\u5927\u957f\u5ea6\u4e3a64\u3002 <code>description</code> \u5b57\u7b26\u4e32 \u5426 \u51fd\u6570\u529f\u80fd\u7684\u63cf\u8ff0\uff0c\u6a21\u578b\u7528\u5b83\u6765\u9009\u62e9\u4f55\u65f6\u4ee5\u53ca\u5982\u4f55\u8c03\u7528\u51fd\u6570\u3002 <code>parameters</code> \u5bf9\u8c61 \u5426 \u51fd\u6570\u63a5\u53d7\u7684\u53c2\u6570\uff0c\u63cf\u8ff0\u4e3aJSON Schema\u5bf9\u8c61\u3002\u7701\u7565parameters\u5b9a\u4e49\u4e00\u4e2a\u7a7a\u53c2\u6570\u5217\u8868\u7684\u51fd\u6570\u3002"},{"location":"openai-chat/#tool_choice","title":"<code>tool_choice</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216\u5bf9\u8c61</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u63a7\u5236\u6a21\u578b\u8c03\u7528\u54ea\u4e2a\u5de5\u5177\uff08\u5982\u679c\u6709\uff09\uff1a - <code>none</code>\uff1a\u6a21\u578b\u4e0d\u4f1a\u8c03\u7528\u4efb\u4f55\u5de5\u5177\uff0c\u800c\u662f\u751f\u6210\u6d88\u606f - <code>auto</code>\uff1a\u6a21\u578b\u53ef\u4ee5\u5728\u751f\u6210\u6d88\u606f\u6216\u8c03\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u5de5\u5177\u4e4b\u95f4\u9009\u62e9 - <code>required</code>\uff1a\u6a21\u578b\u5fc5\u987b\u8c03\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u5de5\u5177 - <code>{\"type\": \"function\", \"function\": {\"name\": \"my_function\"}}</code>\uff1a\u5f3a\u5236\u6a21\u578b\u8c03\u7528\u7279\u5b9a\u5de5\u5177</p> <p>\u5f53\u6ca1\u6709\u5de5\u5177\u65f6\u9ed8\u8ba4\u4e3a <code>none</code>\uff0c\u6709\u5de5\u5177\u65f6\u9ed8\u8ba4\u4e3a <code>auto</code>\u3002</p> <p>\u53ef\u80fd\u7684\u7c7b\u578b\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 \u5b57\u7b26\u4e32 none \u8868\u793a\u6a21\u578b\u4e0d\u4f1a\u8c03\u7528\u4efb\u4f55\u5de5\u5177\uff0c\u800c\u662f\u751f\u6210\u6d88\u606f\u3002auto \u8868\u793a\u6a21\u578b\u53ef\u4ee5\u5728\u751f\u6210\u6d88\u606f\u6216\u8c03\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u5de5\u5177\u4e4b\u95f4\u9009\u62e9\u3002required \u8868\u793a\u6a21\u578b\u5fc5\u987b\u8c03\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u5de5\u5177\u3002 \u5bf9\u8c61 \u6307\u5b9a\u6a21\u578b\u5e94\u4f7f\u7528\u7684\u5de5\u5177\u3002\u7528\u4e8e\u5f3a\u5236\u6a21\u578b\u8c03\u7528\u7279\u5b9a\u51fd\u6570\u3002 <p>\u5bf9\u8c61\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>function</code> \u5bf9\u8c61 \u662f \u5305\u542b\u51fd\u6570\u4fe1\u606f\u7684\u5bf9\u8c61 <code>type</code> \u5b57\u7b26\u4e32 \u662f \u5de5\u5177\u7684\u7c7b\u578b\u3002\u76ee\u524d\uff0c\u4ec5\u652f\u6301 function\u3002 <p>function \u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>name</code> \u5b57\u7b26\u4e32 \u662f \u8981\u8c03\u7528\u7684\u51fd\u6570\u540d\u79f0\u3002"},{"location":"openai-chat/#function_call","title":"<code>function_call</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216\u5bf9\u8c61</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1a\u6ca1\u6709\u51fd\u6570\u65f6\u4e3a <code>none</code>\uff0c\u6709\u51fd\u6570\u65f6\u4e3a <code>auto</code></li> <li>\u6ce8\u610f\uff1a\u5df2\u5f03\u7528\uff0c\u63a8\u8350\u4f7f\u7528 <code>tool_choice</code></li> </ul> <p>\u63a7\u5236\u6a21\u578b\u8c03\u7528\u54ea\u4e2a\u51fd\u6570\uff08\u5982\u679c\u6709\uff09\uff1a</p> <ul> <li><code>none</code>\uff1a\u6a21\u578b\u4e0d\u4f1a\u8c03\u7528\u51fd\u6570\uff0c\u800c\u662f\u751f\u6210\u6d88\u606f</li> <li><code>auto</code>\uff1a\u6a21\u578b\u53ef\u4ee5\u5728\u751f\u6210\u6d88\u606f\u6216\u8c03\u7528\u51fd\u6570\u4e4b\u95f4\u9009\u62e9</li> <li><code>{\"name\": \"my_function\"}</code>\uff1a\u5f3a\u5236\u6a21\u578b\u8c03\u7528\u7279\u5b9a\u51fd\u6570</li> </ul> <p>\u5bf9\u8c61\u7c7b\u578b\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>name</code> \u5b57\u7b26\u4e32 \u662f \u8981\u8c03\u7528\u7684\u51fd\u6570\u540d\u79f0\u3002"},{"location":"openai-chat/#parallel_tool_calls","title":"<code>parallel_tool_calls</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5e03\u5c14\u503c</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1atrue</li> </ul> <p>\u662f\u5426\u5728\u5de5\u5177\u4f7f\u7528\u671f\u95f4\u542f\u7528\u5e76\u884c\u51fd\u6570\u8c03\u7528\u3002</p>"},{"location":"openai-chat/#stream","title":"<code>stream</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5e03\u5c14\u503c\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1afalse</li> </ul> <p>\u5982\u679c\u8bbe\u7f6e\u4e3a true\uff0c\u6a21\u578b\u54cd\u5e94\u6570\u636e\u5c06\u5728\u751f\u6210\u65f6\u901a\u8fc7\u670d\u52a1\u5668\u53d1\u9001\u4e8b\u4ef6\u6d41\u5f0f\u4f20\u8f93\u5230\u5ba2\u6237\u7aef\u3002\u8bf7\u53c2\u9605\u4e0b\u65b9\u7684\u6d41\u5f0f\u54cd\u5e94\u90e8\u5206\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\uff0c\u4ee5\u53ca\u6d41\u5f0f\u54cd\u5e94\u6307\u5357\u4e86\u89e3\u5982\u4f55\u5904\u7406\u6d41\u5f0f\u4e8b\u4ef6\u3002</p>"},{"location":"openai-chat/#top_logprobs","title":"<code>top_logprobs</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>0 \u5230 20 \u4e4b\u95f4\u7684\u6574\u6570\uff0c\u6307\u5b9a\u5728\u6bcf\u4e2a\u6807\u8bb0\u4f4d\u7f6e\u8fd4\u56de\u7684\u6700\u53ef\u80fd\u6807\u8bb0\u7684\u6570\u91cf\uff0c\u6bcf\u4e2a\u6807\u8bb0\u90fd\u6709\u5173\u8054\u7684\u5bf9\u6570\u6982\u7387\u3002\u5982\u679c\u4f7f\u7528\u6b64\u53c2\u6570\uff0c\u5fc5\u987b\u5c06 <code>logprobs</code> \u8bbe\u7f6e\u4e3a true\u3002</p>"},{"location":"openai-chat/#web_search_options","title":"<code>web_search_options</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u6b64\u5de5\u5177\u641c\u7d22\u7f51\u7edc\u4ee5\u83b7\u53d6\u76f8\u5173\u7ed3\u679c\u7528\u4e8e\u56de\u590d\u3002\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u7f51\u7edc\u641c\u7d22\u5de5\u5177\u7684\u4fe1\u606f\u3002</p> <p>\u53ef\u80fd\u7684\u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>search_context_size</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4\u503c\uff1amedium\u3002\u7528\u4e8e\u641c\u7d22\u7684\u4e0a\u4e0b\u6587\u7a97\u53e3\u7a7a\u95f4\u91cf\u7684\u9ad8\u7ea7\u6307\u5bfc\u3002\u53ef\u9009\u503c\u4e3a low\u3001medium \u6216 high\u3002medium \u662f\u9ed8\u8ba4\u503c\u3002 <code>user_location</code> \u5bf9\u8c61\u6216 null \u5426 \u641c\u7d22\u7684\u8fd1\u4f3c\u4f4d\u7f6e\u53c2\u6570\u3002 <p>user_location \u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>approximate</code> \u5bf9\u8c61 \u662f \u641c\u7d22\u7684\u8fd1\u4f3c\u4f4d\u7f6e\u53c2\u6570\u3002 <p>approximate \u5c5e\u6027\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 <code>city</code> \u5b57\u7b26\u4e32 \u5426 \u7528\u6237\u57ce\u5e02\u7684\u81ea\u7531\u6587\u672c\u8f93\u5165\uff0c\u4f8b\u5982 San Francisco\u3002 <code>country</code> \u5b57\u7b26\u4e32 \u5426 \u7528\u6237\u7684\u4e24\u5b57\u6bcd ISO \u56fd\u5bb6\u4ee3\u7801\uff0c\u4f8b\u5982 US\u3002 <code>region</code> \u5b57\u7b26\u4e32 \u5426 \u7528\u6237\u5730\u533a\u7684\u81ea\u7531\u6587\u672c\u8f93\u5165\uff0c\u4f8b\u5982 California\u3002 <code>timezone</code> \u5b57\u7b26\u4e32 \u5426 \u7528\u6237\u7684 IANA \u65f6\u533a\uff0c\u4f8b\u5982 America/Los_Angeles\u3002 <code>type</code> \u5b57\u7b26\u4e32 \u662f \u4f4d\u7f6e\u8fd1\u4f3c\u7c7b\u578b\u3002\u59cb\u7ec8\u4e3a approximate\u3002"},{"location":"openai-chat/#_11","title":"\ud83d\udce5 \u54cd\u5e94","text":""},{"location":"openai-chat/#_12","title":"\u804a\u5929\u8865\u5168\u5bf9\u8c61","text":"<p>\u8fd4\u56de\u4e00\u4e2a\u804a\u5929\u8865\u5168\u5bf9\u8c61,\u5982\u679c\u8bf7\u6c42\u88ab\u6d41\u5f0f\u4f20\u8f93,\u5219\u8fd4\u56de\u804a\u5929\u8865\u5168\u5757\u5bf9\u8c61\u7684\u6d41\u5f0f\u5e8f\u5217\u3002</p>"},{"location":"openai-chat/#id","title":"<code>id</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u54cd\u5e94\u7684\u552f\u4e00\u6807\u8bc6\u7b26</li> </ul>"},{"location":"openai-chat/#object","title":"<code>object</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32  </li> <li>\u8bf4\u660e\uff1a\u5bf9\u8c61\u7c7b\u578b,\u503c\u4e3a \"chat.completion\"</li> </ul>"},{"location":"openai-chat/#created","title":"<code>created</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u8bf4\u660e\uff1a\u54cd\u5e94\u521b\u5efa\u65f6\u95f4\u6233</li> </ul>"},{"location":"openai-chat/#model_1","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u4f7f\u7528\u7684\u6a21\u578b\u540d\u79f0</li> </ul>"},{"location":"openai-chat/#system_fingerprint","title":"<code>system_fingerprint</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u7cfb\u7edf\u6307\u7eb9\u6807\u8bc6\u7b26\uff0c\u8868\u793a\u6a21\u578b\u8fd0\u884c\u7684\u540e\u7aef\u914d\u7f6e\u3002\u53ef\u4ee5\u4e0eseed\u8bf7\u6c42\u53c2\u6570\u4e00\u8d77\u4f7f\u7528\uff0c\u4ee5\u4e86\u89e3\u4f55\u65f6\u8fdb\u884c\u4e86\u53ef\u80fd\u5f71\u54cd\u786e\u5b9a\u6027\u7684\u540e\u7aef\u66f4\u6539\u3002</li> </ul>"},{"location":"openai-chat/#choices","title":"<code>choices</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u8bf4\u660e\uff1a\u5305\u542b\u751f\u6210\u7684\u56de\u590d\u9009\u9879\u5217\u8868\u3002\u5982\u679c n \u5927\u4e8e 1\uff0c\u5219\u53ef\u4ee5\u6709\u591a\u4e2a\u9009\u9879\u3002</li> <li>\u5c5e\u6027:</li> <li><code>index</code>: \u9009\u9879\u5728\u9009\u9879\u5217\u8868\u4e2d\u7684\u7d22\u5f15\u3002</li> <li><code>message</code>: \u6a21\u578b\u751f\u6210\u7684\u804a\u5929\u8865\u5168\u6d88\u606f\u3002<ul> <li><code>role</code>: \u6d88\u606f\u4f5c\u8005\u7684\u89d2\u8272\u3002</li> <li><code>content</code>: \u6d88\u606f\u7684\u5185\u5bb9\uff0c\u53ef\u80fd\u4e3a null\u3002</li> <li><code>refusal</code>: \u6a21\u578b\u751f\u6210\u7684\u62d2\u7edd\u6d88\u606f\uff0c\u53ef\u80fd\u4e3a null\u3002</li> <li><code>annotations</code>: \u6d88\u606f\u7684\u6ce8\u91ca\uff0c\u5728\u9002\u7528\u65f6\u63d0\u4f9b\uff0c\u4f8b\u5982\u4f7f\u7528\u7f51\u7edc\u641c\u7d22\u5de5\u5177\u65f6\u3002</li> <li><code>type</code>: \u6ce8\u91ca\u7c7b\u578b\uff0cURL\u5f15\u7528\u65f6\u59cb\u7ec8\u4e3a \"url_citation\"\u3002</li> <li><code>url_citation</code>: \u4f7f\u7528\u7f51\u7edc\u641c\u7d22\u65f6\u7684URL\u5f15\u7528\u3002<ul> <li><code>start_index</code>: URL\u5f15\u7528\u5728\u6d88\u606f\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u7684\u7d22\u5f15\u3002</li> <li><code>end_index</code>: URL\u5f15\u7528\u5728\u6d88\u606f\u4e2d\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u7684\u7d22\u5f15\u3002</li> <li><code>url</code>: \u7f51\u7edc\u8d44\u6e90\u7684URL\u3002</li> <li><code>title</code>: \u7f51\u7edc\u8d44\u6e90\u7684\u6807\u9898\u3002</li> </ul> </li> <li><code>audio</code>: \u5982\u679c\u8bf7\u6c42\u4e86\u97f3\u9891\u8f93\u51fa\u6a21\u6001\uff0c\u6b64\u5bf9\u8c61\u5305\u542b\u6765\u81ea\u6a21\u578b\u7684\u97f3\u9891\u54cd\u5e94\u7684\u6570\u636e\u3002</li> <li><code>data</code>: \u6a21\u578b\u751f\u6210\u7684Base64\u7f16\u7801\u97f3\u9891\u5b57\u8282\uff0c\u683c\u5f0f\u5728\u8bf7\u6c42\u4e2d\u6307\u5b9a\u3002</li> <li><code>id</code>: \u6b64\u97f3\u9891\u54cd\u5e94\u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002</li> <li><code>transcript</code>: \u6a21\u578b\u751f\u6210\u7684\u97f3\u9891\u7684\u8f6c\u5f55\u3002</li> <li><code>expires_at</code>: \u6b64\u97f3\u9891\u54cd\u5e94\u5728\u670d\u52a1\u5668\u4e0a\u53ef\u7528\u4e8e\u591a\u8f6e\u5bf9\u8bdd\u7684Unix\u65f6\u95f4\u6233\uff08\u79d2\uff09\u3002</li> <li><code>function_call</code>: \uff08\u5df2\u5f03\u7528\uff09\u5e94\u8c03\u7528\u7684\u51fd\u6570\u7684\u540d\u79f0\u548c\u53c2\u6570\uff0c\u7531\u6a21\u578b\u751f\u6210\u3002\u5df2\u88ab <code>tool_calls</code> \u66ff\u4ee3\u3002</li> <li><code>name</code>: \u8981\u8c03\u7528\u7684\u51fd\u6570\u7684\u540d\u79f0\u3002</li> <li><code>arguments</code>: \u7528\u4e8e\u8c03\u7528\u51fd\u6570\u7684\u53c2\u6570\uff0c\u7531\u6a21\u578b\u4ee5JSON\u683c\u5f0f\u751f\u6210\u3002</li> <li><code>tool_calls</code>: \u6a21\u578b\u751f\u6210\u7684\u5de5\u5177\u8c03\u7528\uff0c\u5982\u51fd\u6570\u8c03\u7528\u3002</li> <li><code>id</code>: \u5de5\u5177\u8c03\u7528\u7684ID\u3002</li> <li><code>type</code>: \u5de5\u5177\u7684\u7c7b\u578b\u3002\u76ee\u524d\uff0c\u4ec5\u652f\u6301 function\u3002</li> <li><code>function</code>: \u6a21\u578b\u8c03\u7528\u7684\u51fd\u6570\u3002<ul> <li><code>name</code>: \u8981\u8c03\u7528\u7684\u51fd\u6570\u7684\u540d\u79f0\u3002</li> <li><code>arguments</code>: \u7528\u4e8e\u8c03\u7528\u51fd\u6570\u7684\u53c2\u6570\uff0c\u7531\u6a21\u578b\u4ee5JSON\u683c\u5f0f\u751f\u6210\u3002\u6ce8\u610f\uff0c\u6a21\u578b\u5e76\u4e0d\u603b\u662f\u751f\u6210\u6709\u6548\u7684JSON\uff0c\u5e76\u4e14\u53ef\u80fd\u4f1a\u4ea7\u751f\u60a8\u51fd\u6570\u67b6\u6784\u4e2d\u672a\u5b9a\u4e49\u7684\u53c2\u6570\u3002\u5728\u8c03\u7528\u51fd\u6570\u4e4b\u524d\uff0c\u8bf7\u5728\u4ee3\u7801\u4e2d\u9a8c\u8bc1\u53c2\u6570\u3002</li> </ul> </li> </ul> </li> <li><code>logprobs</code>: \u5bf9\u6570\u6982\u7387\u4fe1\u606f\u3002<ul> <li><code>content</code>: \u5e26\u6709\u5bf9\u6570\u6982\u7387\u4fe1\u606f\u7684\u6d88\u606f\u5185\u5bb9\u6807\u8bb0\u5217\u8868\u3002</li> <li><code>token</code>: \u6807\u8bb0\u3002</li> <li><code>logprob</code>: \u6b64\u6807\u8bb0\u7684\u5bf9\u6570\u6982\u7387\uff0c\u5982\u679c\u5b83\u5728\u524d20\u4e2a\u6700\u53ef\u80fd\u7684\u6807\u8bb0\u5185\u3002\u5426\u5219\uff0c\u4f7f\u7528-9999.0\u7684\u503c\u8868\u793a\u6b64\u6807\u8bb0\u975e\u5e38\u4e0d\u53ef\u80fd\u3002</li> <li><code>bytes</code>: \u8868\u793a\u6807\u8bb0\u7684UTF-8\u5b57\u8282\u8868\u793a\u7684\u6574\u6570\u5217\u8868\u3002\u5728\u5b57\u7b26\u7531\u591a\u4e2a\u6807\u8bb0\u8868\u793a\u4e14\u5fc5\u987b\u7ec4\u5408\u5b83\u4eec\u7684\u5b57\u8282\u8868\u793a\u4ee5\u751f\u6210\u6b63\u786e\u7684\u6587\u672c\u8868\u793a\u7684\u60c5\u51b5\u4e0b\u5f88\u6709\u7528\u3002\u5982\u679c\u6807\u8bb0\u6ca1\u6709\u5b57\u8282\u8868\u793a\uff0c\u5219\u53ef\u80fd\u4e3anull\u3002</li> <li><code>top_logprobs</code>: \u5728\u6b64\u6807\u8bb0\u4f4d\u7f6e\u4e0a\u6700\u53ef\u80fd\u7684\u6807\u8bb0\u53ca\u5176\u5bf9\u6570\u6982\u7387\u7684\u5217\u8868\u3002\u5728\u7f55\u89c1\u60c5\u51b5\u4e0b\uff0c\u8fd4\u56de\u7684top_logprobs\u6570\u91cf\u53ef\u80fd\u5c11\u4e8e\u8bf7\u6c42\u7684\u6570\u91cf\u3002</li> <li><code>refusal</code>: \u5e26\u6709\u5bf9\u6570\u6982\u7387\u4fe1\u606f\u7684\u6d88\u606f\u62d2\u7edd\u6807\u8bb0\u5217\u8868\u3002</li> </ul> </li> <li><code>finish_reason</code>: \u6a21\u578b\u505c\u6b62\u751f\u6210\u6807\u8bb0\u7684\u539f\u56e0\u3002\u5982\u679c\u6a21\u578b\u5230\u8fbe\u81ea\u7136\u505c\u6b62\u70b9\u6216\u63d0\u4f9b\u7684\u505c\u6b62\u5e8f\u5217\uff0c\u5219\u4e3a \"stop\"\uff1b\u5982\u679c\u8fbe\u5230\u8bf7\u6c42\u4e2d\u6307\u5b9a\u7684\u6700\u5927\u6807\u8bb0\u6570\uff0c\u5219\u4e3a \"length\"\uff1b\u5982\u679c\u7531\u4e8e\u5185\u5bb9\u8fc7\u6ee4\u5668\u6807\u8bb0\u800c\u7701\u7565\u5185\u5bb9\uff0c\u5219\u4e3a \"content_filter\"\uff1b\u5982\u679c\u6a21\u578b\u8c03\u7528\u4e86\u5de5\u5177\uff0c\u5219\u4e3a \"tool_calls\"\uff1b\u5982\u679c\u6a21\u578b\u8c03\u7528\u4e86\u51fd\u6570\uff0c\u5219\u4e3a \"function_call\"\uff08\u5df2\u5f03\u7528\uff09\u3002</li> </ul>"},{"location":"openai-chat/#usage","title":"<code>usage</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u8bf4\u660e\uff1a\u8865\u5168\u8bf7\u6c42\u7684\u4f7f\u7528\u7edf\u8ba1\u4fe1\u606f\u3002</li> <li>\u5c5e\u6027:</li> <li><code>prompt_tokens</code>: \u63d0\u793a\u4e2d\u7684\u6807\u8bb0\u6570\u3002</li> <li><code>completion_tokens</code>: \u751f\u6210\u7684\u8865\u5168\u4e2d\u7684\u6807\u8bb0\u6570\u3002</li> <li><code>total_tokens</code>: \u8bf7\u6c42\u4e2d\u4f7f\u7528\u7684\u6807\u8bb0\u603b\u6570\uff08\u63d0\u793a + \u8865\u5168\uff09\u3002</li> <li><code>prompt_tokens_details</code>: \u63d0\u793a\u4e2d\u4f7f\u7528\u7684\u6807\u8bb0\u7684\u7ec6\u5206\u3002<ul> <li><code>cached_tokens</code>: \u63d0\u793a\u4e2d\u5b58\u5728\u7684\u7f13\u5b58\u6807\u8bb0\u3002</li> <li><code>audio_tokens</code>: \u63d0\u793a\u4e2d\u5b58\u5728\u7684\u97f3\u9891\u8f93\u5165\u6807\u8bb0\u3002</li> </ul> </li> <li><code>completion_tokens_details</code>: \u8865\u5168\u4e2d\u4f7f\u7528\u7684\u6807\u8bb0\u7684\u7ec6\u5206\u3002<ul> <li><code>reasoning_tokens</code>: \u6a21\u578b\u751f\u6210\u7684\u63a8\u7406\u6807\u8bb0\u3002</li> <li><code>audio_tokens</code>: \u6a21\u578b\u751f\u6210\u7684\u97f3\u9891\u6807\u8bb0\u3002</li> <li><code>accepted_prediction_tokens</code>: \u4f7f\u7528\u9884\u6d4b\u8f93\u51fa\u65f6\uff0c\u9884\u6d4b\u4e2d\u51fa\u73b0\u5728\u8865\u5168\u4e2d\u7684\u6807\u8bb0\u6570\u3002</li> <li><code>rejected_prediction_tokens</code>: \u4f7f\u7528\u9884\u6d4b\u8f93\u51fa\u65f6\uff0c\u9884\u6d4b\u4e2d\u672a\u51fa\u73b0\u5728\u8865\u5168\u4e2d\u7684\u6807\u8bb0\u6570\u3002\u4f46\u662f\uff0c\u4e0e\u63a8\u7406\u6807\u8bb0\u4e00\u6837\uff0c\u8fd9\u4e9b\u6807\u8bb0\u4ecd\u8ba1\u5165\u8ba1\u8d39\u3001\u8f93\u51fa\u548c\u4e0a\u4e0b\u6587\u7a97\u53e3\u9650\u5236\u7684\u603b\u8865\u5168\u6807\u8bb0\u4e2d\u3002</li> </ul> </li> </ul>"},{"location":"openai-chat/#service_tier_1","title":"<code>service_tier</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216 null</li> <li>\u8bf4\u660e\uff1a\u6307\u5b9a\u7528\u4e8e\u5904\u7406\u8bf7\u6c42\u7684\u5ef6\u8fdf\u5c42\u7ea7\u3002\u6b64\u53c2\u6570\u4e0e\u8ba2\u9605\u4e86 scale tier \u670d\u52a1\u7684\u5ba2\u6237\u76f8\u5173\uff1a</li> <li>\u5982\u679c\u8bbe\u7f6e\u4e3a 'auto'\uff0c\u4e14\u9879\u76ee\u542f\u7528\u4e86 Scale tier\uff0c\u7cfb\u7edf\u5c06\u4f7f\u7528 scale tier \u4fe1\u7528\u76f4\u5230\u7528\u5b8c</li> <li>\u5982\u679c\u8bbe\u7f6e\u4e3a 'auto'\uff0c\u4e14\u9879\u76ee\u672a\u542f\u7528 Scale tier\uff0c\u8bf7\u6c42\u5c06\u4f7f\u7528\u9ed8\u8ba4\u670d\u52a1\u5c42\u7ea7\u5904\u7406\uff0c\u5177\u6709\u8f83\u4f4e\u7684\u6b63\u5e38\u8fd0\u884c\u65f6\u95f4 SLA \u4e14\u65e0\u5ef6\u8fdf\u4fdd\u8bc1</li> <li>\u5982\u679c\u8bbe\u7f6e\u4e3a 'default'\uff0c\u8bf7\u6c42\u5c06\u4f7f\u7528\u9ed8\u8ba4\u670d\u52a1\u5c42\u7ea7\u5904\u7406\uff0c\u5177\u6709\u8f83\u4f4e\u7684\u6b63\u5e38\u8fd0\u884c\u65f6\u95f4 SLA \u4e14\u65e0\u5ef6\u8fdf\u4fdd\u8bc1</li> <li>\u5982\u679c\u8bbe\u7f6e\u4e3a 'flex'\uff0c\u8bf7\u6c42\u5c06\u4f7f\u7528 Flex Processing \u670d\u52a1\u5c42\u7ea7\u5904\u7406</li> <li>\u672a\u8bbe\u7f6e\u65f6\uff0c\u9ed8\u8ba4\u884c\u4e3a\u4e3a 'auto'</li> <li>\u5f53\u8bbe\u7f6e\u6b64\u53c2\u6570\u65f6\uff0c\u54cd\u5e94\u4f53\u5c06\u5305\u542b\u4f7f\u7528\u7684 service_tier</li> </ul>"},{"location":"openai-chat/#_13","title":"\u804a\u5929\u8865\u5168\u5bf9\u8c61\u54cd\u5e94\u793a\u4f8b","text":"<pre><code>{\n  \"id\": \"chatcmpl-B9MHDbslfkBeAs8l4bebGdFOJ6PeG\",\n  \"object\": \"chat.completion\",\n  \"created\": 1741570283,\n  \"model\": \"gpt-4o-2024-08-06\",\n  \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\": \"assistant\",\n        \"content\": \"\u56fe\u7247\u5c55\u793a\u4e86\u4e00\u6761\u7a7f\u8fc7\u8302\u5bc6\u7eff\u8272\u8349\u5730\u6216\u8349\u7538\u7684\u6728\u5236\u6808\u9053\u3002\u5929\u7a7a\u6e5b\u84dd\uff0c\u70b9\u7f00\u7740\u51e0\u6735\u6563\u843d\u7684\u4e91\u5f69\uff0c\u7ed9\u6574\u4e2a\u573a\u666f\u8425\u9020\u51fa\u5b81\u9759\u7965\u548c\u7684\u6c1b\u56f4\u3002\u80cc\u666f\u4e2d\u53ef\u4ee5\u770b\u5230\u6811\u6728\u548c\u704c\u6728\u4e1b\u3002\",\n        \"refusal\": null,\n        \"annotations\": []\n      },\n      \"logprobs\": null,\n      \"finish_reason\": \"stop\"\n    }\n  ],\n  \"usage\": {\n    \"prompt_tokens\": 1117,\n    \"completion_tokens\": 46,\n    \"total_tokens\": 1163,\n    \"prompt_tokens_details\": {\n      \"cached_tokens\": 0,\n      \"audio_tokens\": 0\n    },\n    \"completion_tokens_details\": {\n      \"reasoning_tokens\": 0,\n      \"audio_tokens\": 0,\n      \"accepted_prediction_tokens\": 0,\n      \"rejected_prediction_tokens\": 0\n    }\n  },\n  \"service_tier\": \"default\",\n  \"system_fingerprint\": \"fp_fc9f1d7035\"\n}\n</code></pre>"},{"location":"openai-chat/#_14","title":"\u804a\u5929\u8865\u5168\u5217\u8868\u5bf9\u8c61","text":"<p>\u5f53\u8fd4\u56de\u591a\u4e2a\u804a\u5929\u8865\u5168\u65f6\uff0cAPI \u53ef\u80fd\u4f1a\u8fd4\u56de\u804a\u5929\u8865\u5168\u5217\u8868\u5bf9\u8c61\u3002</p>"},{"location":"openai-chat/#object_1","title":"<code>object</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u5bf9\u8c61\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a \"list\"</li> </ul>"},{"location":"openai-chat/#data","title":"<code>data</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u8bf4\u660e\uff1a\u804a\u5929\u8865\u5168\u5bf9\u8c61\u7684\u6570\u7ec4</li> </ul>"},{"location":"openai-chat/#first_id","title":"<code>first_id</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u6570\u636e\u6570\u7ec4\u4e2d\u7b2c\u4e00\u4e2a\u804a\u5929\u8865\u5168\u7684\u6807\u8bc6\u7b26</li> </ul>"},{"location":"openai-chat/#last_id","title":"<code>last_id</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u6570\u636e\u6570\u7ec4\u4e2d\u6700\u540e\u4e00\u4e2a\u804a\u5929\u8865\u5168\u7684\u6807\u8bc6\u7b26</li> </ul>"},{"location":"openai-chat/#has_more","title":"<code>has_more</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5e03\u5c14\u503c</li> <li>\u8bf4\u660e\uff1a\u8868\u793a\u662f\u5426\u6709\u66f4\u591a\u804a\u5929\u8865\u5168\u53ef\u7528</li> </ul>"},{"location":"openai-chat/#_15","title":"\u804a\u5929\u8865\u5168\u5217\u8868\u54cd\u5e94\u793a\u4f8b","text":"<pre><code>{\n  \"object\": \"list\",\n  \"data\": [\n    {\n      \"object\": \"chat.completion\",\n      \"id\": \"chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2\",\n      \"model\": \"gpt-4o-2024-08-06\",\n      \"created\": 1738960610,\n      \"request_id\": \"req_ded8ab984ec4bf840f37566c1011c417\",\n      \"tool_choice\": null,\n      \"usage\": {\n        \"total_tokens\": 31,\n        \"completion_tokens\": 18,\n        \"prompt_tokens\": 13\n      },\n      \"seed\": 4944116822809979520,\n      \"top_p\": 1.0,\n      \"temperature\": 1.0,\n      \"presence_penalty\": 0.0,\n      \"frequency_penalty\": 0.0,\n      \"system_fingerprint\": \"fp_50cad350e4\",\n      \"input_user\": null,\n      \"service_tier\": \"default\",\n      \"tools\": null,\n      \"metadata\": {},\n      \"choices\": [\n        {\n          \"index\": 0,\n          \"message\": {\n            \"content\": \"\u7535\u8def\u4e4b\u5fc3\u4f4e\u541f\uff0c\\n\u5728\u5bc2\u9759\u4e2d\u5b66\u4e60\u6a21\u5f0f\u2014\\n\u672a\u6765\u7684\u5b81\u9759\u706b\u82b1\u3002\",\n            \"role\": \"assistant\",\n            \"tool_calls\": null,\n            \"function_call\": null\n          },\n          \"finish_reason\": \"stop\",\n          \"logprobs\": null\n        }\n      ],\n      \"response_format\": null\n    }\n  ],\n  \"first_id\": \"chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2\",\n  \"last_id\": \"chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2\",\n  \"has_more\": false\n}\n</code></pre>"},{"location":"openai-chat/#_16","title":"\u804a\u5929\u8865\u5168\u6d88\u606f\u5217\u8868\u5bf9\u8c61","text":"<p>\u804a\u5929\u8865\u5168\u6d88\u606f\u5217\u8868\u5bf9\u8c61\u8868\u793a\u804a\u5929\u6d88\u606f\u7684\u5217\u8868\u3002</p>"},{"location":"openai-chat/#object_2","title":"<code>object</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u5bf9\u8c61\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a \"list\"</li> </ul>"},{"location":"openai-chat/#data_1","title":"<code>data</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u8bf4\u660e\uff1a\u804a\u5929\u8865\u5168\u6d88\u606f\u5bf9\u8c61\u7684\u6570\u7ec4\uff0c\u6bcf\u4e2a\u6d88\u606f\u5bf9\u8c61\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027\uff1a</li> <li><code>id</code>: \u804a\u5929\u6d88\u606f\u7684\u6807\u8bc6\u7b26</li> <li><code>role</code>: \u6d88\u606f\u4f5c\u8005\u7684\u89d2\u8272</li> <li><code>content</code>: \u6d88\u606f\u7684\u5185\u5bb9\uff0c\u53ef\u80fd\u4e3a null</li> <li><code>name</code>: \u6d88\u606f\u53d1\u9001\u8005\u7684\u540d\u79f0\uff0c\u53ef\u80fd\u4e3a null</li> <li><code>refusal</code>: \u6a21\u578b\u751f\u6210\u7684\u62d2\u7edd\u6d88\u606f\uff0c\u53ef\u80fd\u4e3a null</li> <li><code>annotations</code>: \u6d88\u606f\u7684\u6ce8\u91ca\uff0c\u5728\u9002\u7528\u65f6\u63d0\u4f9b\uff0c\u4f8b\u5982\u4f7f\u7528\u7f51\u7edc\u641c\u7d22\u5de5\u5177\u65f6<ul> <li><code>type</code>: \u6ce8\u91ca\u7c7b\u578b\uff0cURL\u5f15\u7528\u65f6\u59cb\u7ec8\u4e3a \"url_citation\"</li> <li><code>url_citation</code>: \u4f7f\u7528\u7f51\u7edc\u641c\u7d22\u65f6\u7684URL\u5f15\u7528</li> <li><code>start_index</code>: URL\u5f15\u7528\u5728\u6d88\u606f\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u7684\u7d22\u5f15</li> <li><code>end_index</code>: URL\u5f15\u7528\u5728\u6d88\u606f\u4e2d\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u7684\u7d22\u5f15</li> <li><code>url</code>: \u7f51\u7edc\u8d44\u6e90\u7684URL</li> <li><code>title</code>: \u7f51\u7edc\u8d44\u6e90\u7684\u6807\u9898</li> </ul> </li> <li><code>audio</code>: \u5982\u679c\u8bf7\u6c42\u4e86\u97f3\u9891\u8f93\u51fa\u6a21\u6001\uff0c\u6b64\u5bf9\u8c61\u5305\u542b\u6765\u81ea\u6a21\u578b\u7684\u97f3\u9891\u54cd\u5e94\u7684\u6570\u636e<ul> <li><code>data</code>: \u6a21\u578b\u751f\u6210\u7684Base64\u7f16\u7801\u97f3\u9891\u5b57\u8282\uff0c\u683c\u5f0f\u5728\u8bf7\u6c42\u4e2d\u6307\u5b9a</li> <li><code>id</code>: \u6b64\u97f3\u9891\u54cd\u5e94\u7684\u552f\u4e00\u6807\u8bc6\u7b26</li> <li><code>transcript</code>: \u6a21\u578b\u751f\u6210\u7684\u97f3\u9891\u7684\u8f6c\u5f55</li> <li><code>expires_at</code>: \u6b64\u97f3\u9891\u54cd\u5e94\u5728\u670d\u52a1\u5668\u4e0a\u53ef\u7528\u4e8e\u591a\u8f6e\u5bf9\u8bdd\u7684Unix\u65f6\u95f4\u6233\uff08\u79d2\uff09</li> </ul> </li> <li><code>function_call</code>: \uff08\u5df2\u5f03\u7528\uff09\u5e94\u8c03\u7528\u7684\u51fd\u6570\u7684\u540d\u79f0\u548c\u53c2\u6570\uff0c\u7531\u6a21\u578b\u751f\u6210\u3002\u5df2\u88ab <code>tool_calls</code> \u66ff\u4ee3<ul> <li><code>name</code>: \u8981\u8c03\u7528\u7684\u51fd\u6570\u7684\u540d\u79f0</li> <li><code>arguments</code>: \u7528\u4e8e\u8c03\u7528\u51fd\u6570\u7684\u53c2\u6570\uff0c\u7531\u6a21\u578b\u4ee5JSON\u683c\u5f0f\u751f\u6210</li> </ul> </li> <li><code>tool_calls</code>: \u6a21\u578b\u751f\u6210\u7684\u5de5\u5177\u8c03\u7528\uff0c\u5982\u51fd\u6570\u8c03\u7528<ul> <li><code>id</code>: \u5de5\u5177\u8c03\u7528\u7684ID</li> <li><code>type</code>: \u5de5\u5177\u7684\u7c7b\u578b\u3002\u76ee\u524d\uff0c\u4ec5\u652f\u6301 function</li> <li><code>function</code>: \u6a21\u578b\u8c03\u7528\u7684\u51fd\u6570</li> <li><code>name</code>: \u8981\u8c03\u7528\u7684\u51fd\u6570\u7684\u540d\u79f0</li> <li><code>arguments</code>: \u7528\u4e8e\u8c03\u7528\u51fd\u6570\u7684\u53c2\u6570\uff0c\u7531\u6a21\u578b\u4ee5JSON\u683c\u5f0f\u751f\u6210</li> </ul> </li> </ul>"},{"location":"openai-chat/#first_id_1","title":"<code>first_id</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u6570\u636e\u6570\u7ec4\u4e2d\u7b2c\u4e00\u4e2a\u804a\u5929\u6d88\u606f\u7684\u6807\u8bc6\u7b26</li> </ul>"},{"location":"openai-chat/#last_id_1","title":"<code>last_id</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u6570\u636e\u6570\u7ec4\u4e2d\u6700\u540e\u4e00\u4e2a\u804a\u5929\u6d88\u606f\u7684\u6807\u8bc6\u7b26</li> </ul>"},{"location":"openai-chat/#has_more_1","title":"<code>has_more</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5e03\u5c14\u503c</li> <li>\u8bf4\u660e\uff1a\u8868\u793a\u662f\u5426\u6709\u66f4\u591a\u804a\u5929\u6d88\u606f\u53ef\u7528</li> </ul>"},{"location":"openai-chat/#_17","title":"\u804a\u5929\u8865\u5168\u6d88\u606f\u5217\u8868\u54cd\u5e94\u793a\u4f8b","text":"<pre><code>{\n  \"object\": \"list\",\n  \"data\": [\n    {\n      \"id\": \"chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2-0\",\n      \"role\": \"user\",\n      \"content\": \"\u5199\u4e00\u9996\u5173\u4e8e\u4eba\u5de5\u667a\u80fd\u7684\u4ff3\u53e5\",\n      \"name\": null,\n      \"content_parts\": null\n    }\n  ],\n  \"first_id\": \"chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2-0\",\n  \"last_id\": \"chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2-0\",\n  \"has_more\": false\n}\n</code></pre>"},{"location":"openai-embedding/","title":"OpenAI \u5d4c\u5165\u683c\u5f0f\uff08Embeddings\uff09","text":"<p>\u5b98\u65b9\u6587\u6863</p> <p>OpenAI Embeddings</p>"},{"location":"openai-embedding/#_1","title":"\ud83d\udcdd \u7b80\u4ecb","text":"<p>\u83b7\u53d6\u7ed9\u5b9a\u8f93\u5165\u6587\u672c\u7684\u5411\u91cf\u8868\u793a\uff0c\u8fd9\u4e9b\u5411\u91cf\u53ef\u4ee5\u88ab\u673a\u5668\u5b66\u4e60\u6a21\u578b\u548c\u7b97\u6cd5\u8f7b\u677e\u4f7f\u7528\u3002\u76f8\u5173\u6307\u5357\u8bf7\u53c2\u9605 Embeddings Guide\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f:</p> <ul> <li> <p>\u67d0\u4e9b\u6a21\u578b\u53ef\u80fd\u5bf9\u8f93\u5165\u7684\u603b token \u6570\u6709\u9650\u5236</p> </li> <li> <p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u793a\u4f8b Python \u4ee3\u7801\u6765\u8ba1\u7b97 token \u6570\u91cf</p> </li> <li> <p>\u4f8b\u5982\uff1atext-embedding-ada-002 \u6a21\u578b\u7684\u8f93\u51fa\u5411\u91cf\u7ef4\u5ea6\u4e3a 1536</p> </li> </ul>"},{"location":"openai-embedding/#_2","title":"\ud83d\udca1 \u8bf7\u6c42\u793a\u4f8b","text":""},{"location":"openai-embedding/#_3","title":"\u521b\u5efa\u6587\u672c\u5d4c\u5165 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/embeddings \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"input\": \"The food was delicious and the waiter...\",\n    \"model\": \"text-embedding-ada-002\",\n    \"encoding_format\": \"float\"\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"object\": \"list\",\n  \"data\": [\n    {\n      \"object\": \"embedding\",\n      \"embedding\": [\n        0.0023064255,\n        -0.009327292,\n        // ... (1536 \u4e2a\u6d6e\u70b9\u6570,\u7528\u4e8e ada-002)\n        -0.0028842222\n      ],\n      \"index\": 0\n    }\n  ],\n  \"model\": \"text-embedding-ada-002\",\n  \"usage\": {\n    \"prompt_tokens\": 8,\n    \"total_tokens\": 8\n  }\n}\n</code></pre>"},{"location":"openai-embedding/#_4","title":"\u6279\u91cf\u521b\u5efa\u5d4c\u5165 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/embeddings \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"input\": [\"The food was delicious\", \"The waiter was friendly\"],\n    \"model\": \"text-embedding-ada-002\",\n    \"encoding_format\": \"float\"\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"object\": \"list\",\n  \"data\": [\n    {\n      \"object\": \"embedding\",\n      \"embedding\": [\n        0.0023064255,\n        // ... (1536 \u4e2a\u6d6e\u70b9\u6570)\n      ],\n      \"index\": 0\n    },\n    {\n      \"object\": \"embedding\",\n      \"embedding\": [\n        -0.008815289,\n        // ... (1536 \u4e2a\u6d6e\u70b9\u6570)  \n      ],\n      \"index\": 1\n    }\n  ],\n  \"model\": \"text-embedding-ada-002\",\n  \"usage\": {\n    \"prompt_tokens\": 12,\n    \"total_tokens\": 12\n  }\n}\n</code></pre>"},{"location":"openai-embedding/#_5","title":"\ud83d\udcee \u8bf7\u6c42","text":""},{"location":"openai-embedding/#_6","title":"\u7aef\u70b9","text":"<pre><code>POST /v1/embeddings\n</code></pre> <p>\u521b\u5efa\u8868\u793a\u8f93\u5165\u6587\u672c\u7684\u5d4c\u5165\u5411\u91cf\u3002</p>"},{"location":"openai-embedding/#_7","title":"\u9274\u6743\u65b9\u6cd5","text":"<p>\u5728\u8bf7\u6c42\u5934\u4e2d\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\u8fdb\u884c API \u5bc6\u94a5\u8ba4\u8bc1\uff1a</p> <pre><code>Authorization: Bearer $API_API_KEY\n</code></pre> <p>\u5176\u4e2d <code>$OPENAI_API_KEY</code> \u662f\u60a8\u7684 API \u5bc6\u94a5\u3002</p>"},{"location":"openai-embedding/#_8","title":"\u8bf7\u6c42\u4f53\u53c2\u6570","text":""},{"location":"openai-embedding/#input","title":"<code>input</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u8981\u5d4c\u5165\u7684\u8f93\u5165\u6587\u672c,\u7f16\u7801\u4e3a\u5b57\u7b26\u4e32\u6216 token \u6570\u7ec4\u3002\u8981\u5728\u5355\u4e2a\u8bf7\u6c42\u4e2d\u5d4c\u5165\u591a\u4e2a\u8f93\u5165,\u8bf7\u4f20\u9012\u5b57\u7b26\u4e32\u6570\u7ec4\u6216 token \u6570\u7ec4\u7684\u6570\u7ec4\u3002\u8f93\u5165\u4e0d\u5f97\u8d85\u8fc7\u6a21\u578b\u7684\u6700\u5927\u8f93\u5165 token \u6570(text-embedding-ada-002 \u4e3a 8192 \u4e2a token),\u4e0d\u80fd\u4e3a\u7a7a\u5b57\u7b26\u4e32,\u4efb\u4f55\u6570\u7ec4\u7684\u7ef4\u5ea6\u5fc5\u987b\u5c0f\u4e8e\u7b49\u4e8e 2048\u3002</p>"},{"location":"openai-embedding/#model","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> </ul> <p>\u8981\u4f7f\u7528\u7684\u6a21\u578b ID\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 List models API \u67e5\u770b\u6240\u6709\u53ef\u7528\u6a21\u578b,\u6216\u67e5\u770b\u6a21\u578b\u6982\u8ff0\u4e86\u89e3\u5b83\u4eec\u7684\u63cf\u8ff0\u3002</p>"},{"location":"openai-embedding/#encoding_format","title":"<code>encoding_format</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1afloat</li> </ul> <p>\u8fd4\u56de\u5d4c\u5165\u7684\u683c\u5f0f\u3002\u53ef\u4ee5\u662f float \u6216 base64\u3002</p>"},{"location":"openai-embedding/#dimensions","title":"<code>dimensions</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u751f\u6210\u7684\u8f93\u51fa\u5d4c\u5165\u5e94\u5177\u6709\u7684\u7ef4\u5ea6\u6570\u3002\u4ec5\u5728 text-embedding-3 \u53ca\u66f4\u9ad8\u7248\u672c\u7684\u6a21\u578b\u4e2d\u652f\u6301\u3002</p>"},{"location":"openai-embedding/#user","title":"<code>user</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> </ul> <p>\u4ee3\u8868\u60a8\u7684\u6700\u7ec8\u7528\u6237\u7684\u552f\u4e00\u6807\u8bc6\u7b26,\u53ef\u4ee5\u5e2e\u52a9 OpenAI \u76d1\u63a7\u548c\u68c0\u6d4b\u6ee5\u7528\u884c\u4e3a\u3002\u4e86\u89e3\u66f4\u591a\u3002</p>"},{"location":"openai-embedding/#_9","title":"\ud83d\udce5 \u54cd\u5e94","text":""},{"location":"openai-embedding/#_10","title":"\u6210\u529f\u54cd\u5e94","text":"<p>\u8fd4\u56de\u5d4c\u5165\u5bf9\u8c61\u5217\u8868\u3002</p>"},{"location":"openai-embedding/#object","title":"<code>object</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u5bf9\u8c61\u7c7b\u578b,\u503c\u4e3a \"list\"</li> </ul>"},{"location":"openai-embedding/#data","title":"<code>data</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u8bf4\u660e\uff1a\u5305\u542b\u5d4c\u5165\u5bf9\u8c61\u7684\u6570\u7ec4</li> <li>\u5c5e\u6027:</li> <li><code>object</code>: \u5bf9\u8c61\u7c7b\u578b,\u503c\u4e3a \"embedding\"</li> <li><code>embedding</code>: \u5d4c\u5165\u5411\u91cf,\u6d6e\u70b9\u6570\u5217\u8868\u3002\u5411\u91cf\u957f\u5ea6\u53d6\u51b3\u4e8e\u6a21\u578b</li> <li><code>index</code>: \u5d4c\u5165\u5728\u5217\u8868\u4e2d\u7684\u7d22\u5f15</li> </ul>"},{"location":"openai-embedding/#model_1","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u4f7f\u7528\u7684\u6a21\u578b\u540d\u79f0</li> </ul>"},{"location":"openai-embedding/#usage","title":"<code>usage</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u8bf4\u660e\uff1atoken \u4f7f\u7528\u7edf\u8ba1</li> <li>\u5c5e\u6027:</li> <li><code>prompt_tokens</code>: \u63d0\u793a\u4f7f\u7528\u7684 token \u6570</li> <li><code>total_tokens</code>: \u603b token \u6570</li> </ul>"},{"location":"openai-embedding/#_11","title":"\u5d4c\u5165\u5bf9\u8c61","text":"<p>\u8868\u793a\u7531\u5d4c\u5165\u7aef\u70b9\u8fd4\u56de\u7684\u5d4c\u5165\u5411\u91cf\u3002</p> <pre><code>{\n  \"object\": \"embedding\",\n  \"embedding\": [\n    0.0023064255,\n    -0.009327292,\n    // ... (ada-002 \u603b\u5171 1536 \u4e2a\u6d6e\u70b9\u6570)\n    -0.0028842222\n  ],\n  \"index\": 0\n}\n</code></pre>"},{"location":"openai-embedding/#index","title":"<code>index</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u8bf4\u660e\uff1a\u5d4c\u5165\u5728\u5217\u8868\u4e2d\u7684\u7d22\u5f15</li> </ul>"},{"location":"openai-embedding/#embedding","title":"<code>embedding</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u8bf4\u660e\uff1a\u5d4c\u5165\u5411\u91cf,\u6d6e\u70b9\u6570\u5217\u8868\u3002\u5411\u91cf\u957f\u5ea6\u53d6\u51b3\u4e8e\u6a21\u578b,\u5177\u4f53\u8bf7\u53c2\u9605\u5d4c\u5165\u6307\u5357</li> </ul>"},{"location":"openai-embedding/#object_1","title":"<code>object</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u5bf9\u8c61\u7c7b\u578b,\u59cb\u7ec8\u4e3a \"embedding\" </li> </ul>"},{"location":"openai-embedding/#_12","title":"\u9519\u8bef\u54cd\u5e94","text":"<p>\u5f53\u8bf7\u6c42\u51fa\u73b0\u95ee\u9898\u65f6\uff0cAPI \u5c06\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u54cd\u5e94\u5bf9\u8c61\uff0cHTTP \u72b6\u6001\u7801\u5728 4XX-5XX \u8303\u56f4\u5185\u3002</p>"},{"location":"openai-embedding/#_13","title":"\u5e38\u89c1\u9519\u8bef\u72b6\u6001\u7801","text":"<ul> <li><code>401 Unauthorized</code>: API \u5bc6\u94a5\u65e0\u6548\u6216\u672a\u63d0\u4f9b</li> <li><code>400 Bad Request</code>: \u8bf7\u6c42\u53c2\u6570\u65e0\u6548\uff0c\u4f8b\u5982\u8f93\u5165\u4e3a\u7a7a\u6216\u8d85\u51fa token \u9650\u5236</li> <li><code>429 Too Many Requests</code>: \u8d85\u51fa API \u8c03\u7528\u9650\u5236</li> <li><code>500 Internal Server Error</code>: \u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef</li> </ul> <p>\u9519\u8bef\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"error\": {\n    \"message\": \"The input exceeds the maximum length. Please reduce the length of your input.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"input\",\n    \"code\": \"context_length_exceeded\"\n  }\n}\n</code></pre>"},{"location":"openai-image/","title":"OpenAI \u56fe\u50cf\u683c\u5f0f\uff08Image\uff09","text":"<p>\u5b98\u65b9\u6587\u6863</p> <p>OpenAI Images</p>"},{"location":"openai-image/#_1","title":"\ud83d\udcdd \u7b80\u4ecb","text":"<p>\u7ed9\u5b9a\u6587\u672c\u63d0\u793a\u548c/\u6216\u8f93\u5165\u56fe\u7247\uff0c\u6a21\u578b\u5c06\u751f\u6210\u65b0\u7684\u56fe\u7247\u3002OpenAI \u63d0\u4f9b\u591a\u79cd\u5f3a\u5927\u7684\u56fe\u50cf\u751f\u6210\u6a21\u578b\uff0c\u53ef\u4ee5\u6839\u636e\u81ea\u7136\u8bed\u8a00\u63cf\u8ff0\u521b\u5efa\u3001\u7f16\u8f91\u548c\u4fee\u6539\u56fe\u50cf\u3002\u76ee\u524d\u652f\u6301\u7684\u6a21\u578b\u5305\u62ec\uff1a</p> \u6a21\u578b \u63cf\u8ff0 DALL\u00b7E \u7cfb\u5217 \u5305\u62ec DALL\u00b7E 2 \u548c DALL\u00b7E 3 \u4e24\u4e2a\u7248\u672c\uff0c\u5b83\u4eec\u5728\u56fe\u50cf\u8d28\u91cf\u3001\u521b\u610f\u8868\u73b0\u548c\u7cbe\u786e\u5ea6\u4e0a\u90fd\u6709\u663e\u8457\u5dee\u5f02 GPT-Image-1 OpenAI\u6700\u65b0\u56fe\u7247\u6a21\u578b\uff0c\u652f\u6301\u591a\u56fe\u7247\u7f16\u8f91\u529f\u80fd\uff0c\u80fd\u591f\u57fa\u4e8e\u591a\u4e2a\u8f93\u5165\u56fe\u50cf\u521b\u5efa\u65b0\u7684\u7ec4\u5408\u56fe\u50cf"},{"location":"openai-image/#_2","title":"\ud83d\udca1 \u8bf7\u6c42\u793a\u4f8b","text":""},{"location":"openai-image/#_3","title":"\u521b\u5efa\u56fe\u7247 \u2705","text":"<pre><code># \u57fa\u7840\u56fe\u7247\u751f\u6210\ncurl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/images/generations \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"dall-e-3\",\n    \"prompt\": \"\u4e00\u53ea\u53ef\u7231\u7684\u5c0f\u6d77\u736d\",\n    \"n\": 1,\n    \"size\": \"1024x1024\"\n  }'\n\n# \u9ad8\u8d28\u91cf\u56fe\u7247\u751f\u6210\ncurl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/images/generations \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"dall-e-3\",\n    \"prompt\": \"\u4e00\u53ea\u53ef\u7231\u7684\u5c0f\u6d77\u736d\",\n    \"quality\": \"hd\",\n    \"style\": \"vivid\",\n    \"size\": \"1024x1024\"\n  }'\n\n# \u4f7f\u7528 base64 \u8fd4\u56de\u683c\u5f0f\ncurl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/images/generations \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"dall-e-3\",\n    \"prompt\": \"\u4e00\u53ea\u53ef\u7231\u7684\u5c0f\u6d77\u736d\",\n    \"response_format\": \"b64_json\"\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"created\": 1589478378,\n  \"data\": [\n    {\n      \"url\": \"https://...\",\n      \"revised_prompt\": \"\u4e00\u53ea\u53ef\u7231\u7684\u5c0f\u6d77\u736d\u5728\u6c34\u4e2d\u5b09\u620f,\u5b83\u6709\u7740\u5706\u5706\u7684\u773c\u775b\u548c\u6bdb\u8338\u8338\u7684\u76ae\u6bdb\"\n    }\n  ]\n}\n</code></pre>"},{"location":"openai-image/#_4","title":"\u7f16\u8f91\u56fe\u7247 \u2705","text":"<pre><code># dall-e-2 \u56fe\u7247\u7f16\u8f91\ncurl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/images/edits \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -F image=\"@otter.png\" \\\n  -F mask=\"@mask.png\" \\\n  -F prompt=\"\u4e00\u53ea\u6234\u7740\u8d1d\u96f7\u5e3d\u7684\u53ef\u7231\u5c0f\u6d77\u736d\" \\\n  -F n=2 \\\n  -F size=\"1024x1024\"\n\n# gpt-image-1 \u591a\u56fe\u7247\u7f16\u8f91\u793a\u4f8b\ncurl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/images/edits \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -F \"model=gpt-image-1\" \\\n  -F \"image[]=@body-lotion.png\" \\\n  -F \"image[]=@bath-bomb.png\" \\\n  -F \"image[]=@incense-kit.png\" \\\n  -F \"image[]=@soap.png\" \\\n  -F \"prompt=\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u8fd9\u56db\u4e2a\u7269\u54c1\u7684\u7cbe\u7f8e\u793c\u54c1\u7bee\" \\\n  -F \"quality=high\"\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b (dall-e-2):</p> <pre><code>{\n  \"created\": 1589478378,\n  \"data\": [\n    {\n      \"url\": \"https://...\"\n    },\n    {\n      \"url\": \"https://...\"\n    }\n  ]\n}\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b (gpt-image-1):</p> <pre><code>{\n  \"created\": 1713833628,\n  \"data\": [\n    {\n      \"b64_json\": \"...\"\n    }\n  ],\n  \"usage\": {\n    \"total_tokens\": 100,\n    \"input_tokens\": 50,\n    \"output_tokens\": 50,\n    \"input_tokens_details\": {\n      \"text_tokens\": 10,\n      \"image_tokens\": 40\n    }\n  }\n}\n</code></pre>"},{"location":"openai-image/#_5","title":"\u751f\u6210\u56fe\u7247\u53d8\u4f53 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/images/variations \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -F image=\"@otter.png\" \\\n  -F n=2 \\\n  -F size=\"1024x1024\"\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"created\": 1589478378,\n  \"data\": [\n    {\n      \"url\": \"https://...\"\n    },\n    {\n      \"url\": \"https://...\"\n    }\n  ]\n}\n</code></pre>"},{"location":"openai-image/#_6","title":"\ud83d\udcee \u8bf7\u6c42","text":""},{"location":"openai-image/#_7","title":"\u7aef\u70b9","text":""},{"location":"openai-image/#_8","title":"\u521b\u5efa\u56fe\u7247","text":"<pre><code>POST /v1/images/generations\n</code></pre> <p>\u6839\u636e\u6587\u672c\u63d0\u793a\u521b\u5efa\u56fe\u7247\u3002</p>"},{"location":"openai-image/#_9","title":"\u7f16\u8f91\u56fe\u7247","text":"<pre><code>POST /v1/images/edits\n</code></pre> <p>\u6839\u636e\u4e00\u4e2a\u6216\u591a\u4e2a\u539f\u59cb\u56fe\u7247\u548c\u63d0\u793a\u521b\u5efa\u7f16\u8f91\u6216\u6269\u5c55\u7684\u56fe\u7247\u3002\u6b64\u7aef\u70b9\u652f\u6301 dall-e-2 \u548c gpt-image-1 \u6a21\u578b\u3002</p>"},{"location":"openai-image/#_10","title":"\u751f\u6210\u53d8\u4f53","text":"<pre><code>POST /v1/images/variations\n</code></pre> <p>\u521b\u5efa\u7ed9\u5b9a\u56fe\u7247\u7684\u53d8\u4f53\u3002</p>"},{"location":"openai-image/#_11","title":"\u9274\u6743\u65b9\u6cd5","text":"<p>\u5728\u8bf7\u6c42\u5934\u4e2d\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\u8fdb\u884c API \u5bc6\u94a5\u8ba4\u8bc1\uff1a</p> <pre><code>Authorization: Bearer $API_API_KEY\n</code></pre> <p>\u5176\u4e2d <code>$OPENAI_API_KEY</code> \u662f\u60a8\u7684 API \u5bc6\u94a5\u3002</p>"},{"location":"openai-image/#_12","title":"\u8bf7\u6c42\u4f53\u53c2\u6570","text":""},{"location":"openai-image/#_13","title":"\u521b\u5efa\u56fe\u7247","text":""},{"location":"openai-image/#prompt","title":"<code>prompt</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u671f\u671b\u751f\u6210\u56fe\u7247\u7684\u6587\u672c\u63cf\u8ff0\u3002</li> <li>dall-e-2 \u6700\u5927\u957f\u5ea6\u4e3a 1000 \u5b57\u7b26</li> <li>dall-e-3 \u6700\u5927\u957f\u5ea6\u4e3a 4000 \u5b57\u7b26</li> <li>\u63d0\u793a\uff1a</li> <li>\u4f7f\u7528\u5177\u4f53\u548c\u8be6\u7ec6\u7684\u63cf\u8ff0</li> <li>\u5305\u542b\u5173\u952e\u7684\u89c6\u89c9\u5143\u7d20</li> <li>\u6307\u5b9a\u671f\u671b\u7684\u827a\u672f\u98ce\u683c</li> <li>\u63cf\u8ff0\u6784\u56fe\u548c\u89c6\u89d2</li> </ul>"},{"location":"openai-image/#model","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1adall-e-2</li> <li>\u8bf4\u660e\uff1a\u7528\u4e8e\u56fe\u50cf\u751f\u6210\u7684\u6a21\u578b\u3002</li> </ul>"},{"location":"openai-image/#n","title":"<code>n</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1a1</li> <li>\u8bf4\u660e\uff1a\u8981\u751f\u6210\u7684\u56fe\u7247\u6570\u91cf\u3002\u5fc5\u987b\u5728 1-10 \u4e4b\u95f4\u3002dall-e-3 \u4ec5\u652f\u6301 n=1\u3002</li> </ul>"},{"location":"openai-image/#quality","title":"<code>quality</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1astandard</li> <li>\u8bf4\u660e\uff1a\u751f\u6210\u56fe\u7247\u7684\u8d28\u91cf\u3002hd \u9009\u9879\u4f1a\u751f\u6210\u66f4\u7ec6\u81f4\u548c\u4e00\u81f4\u7684\u56fe\u7247\u3002\u4ec5 dall-e-3 \u652f\u6301\u6b64\u53c2\u6570\u3002</li> </ul>"},{"location":"openai-image/#response_format","title":"<code>response_format</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1aurl</li> <li>\u8bf4\u660e\uff1a\u8fd4\u56de\u751f\u6210\u56fe\u7247\u7684\u683c\u5f0f\u3002\u5fc5\u987b\u662f url \u6216 b64_json \u4e4b\u4e00\u3002URL \u5728\u751f\u6210\u540e 60 \u5206\u949f\u5185\u6709\u6548\u3002</li> </ul>"},{"location":"openai-image/#size","title":"<code>size</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1a1024x1024</li> <li>\u8bf4\u660e\uff1a\u751f\u6210\u56fe\u7247\u7684\u5c3a\u5bf8\u3002dall-e-2 \u5fc5\u987b\u662f 256x256\u3001512x512 \u6216 1024x1024 \u4e4b\u4e00\u3002dall-e-3 \u5fc5\u987b\u662f 1024x1024\u30011792x1024 \u6216 1024x1792 \u4e4b\u4e00\u3002</li> </ul>"},{"location":"openai-image/#style","title":"<code>style</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1avivid</li> <li>\u8bf4\u660e\uff1a\u751f\u6210\u56fe\u7247\u7684\u98ce\u683c\u3002\u5fc5\u987b\u662f vivid \u6216 natural \u4e4b\u4e00\u3002vivid \u503e\u5411\u4e8e\u751f\u6210\u8d85\u73b0\u5b9e\u548c\u620f\u5267\u6027\u7684\u56fe\u7247\uff0cnatural \u503e\u5411\u4e8e\u751f\u6210\u66f4\u81ea\u7136\u3001\u4e0d\u90a3\u4e48\u8d85\u73b0\u5b9e\u7684\u56fe\u7247\u3002\u4ec5 dall-e-3 \u652f\u6301\u6b64\u53c2\u6570\u3002</li> </ul>"},{"location":"openai-image/#user","title":"<code>user</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u8bf4\u660e\uff1a\u4ee3\u8868\u6700\u7ec8\u7528\u6237\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u53ef\u5e2e\u52a9 OpenAI \u76d1\u63a7\u548c\u68c0\u6d4b\u6ee5\u7528\u884c\u4e3a\u3002</li> </ul>"},{"location":"openai-image/#_14","title":"\u7f16\u8f91\u56fe\u7247","text":""},{"location":"openai-image/#image","title":"<code>image</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6587\u4ef6\u6216\u6587\u4ef6\u6570\u7ec4</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u8981\u7f16\u8f91\u7684\u56fe\u7247\u3002</li> <li>\u5bf9\u4e8e dall-e-2\uff1a\u5fc5\u987b\u662f\u6709\u6548\u7684 PNG \u6587\u4ef6\uff0c\u5c0f\u4e8e 4MB\uff0c\u4e14\u4e3a\u6b63\u65b9\u5f62\u3002\u5982\u679c\u672a\u63d0\u4f9b mask\uff0c\u56fe\u7247\u5fc5\u987b\u5177\u6709\u900f\u660e\u5ea6\uff0c\u8fd9\u5c06\u7528\u4f5c\u8499\u7248\u3002</li> <li>\u5bf9\u4e8e gpt-image-1\uff1a\u53ef\u4ee5\u63d0\u4f9b\u591a\u4e2a\u56fe\u7247\u4f5c\u4e3a\u6570\u7ec4\uff0c\u6bcf\u4e2a\u56fe\u7247\u5e94\u4e3a PNG\u3001WEBP \u6216 JPG \u6587\u4ef6\uff0c\u5c0f\u4e8e 25MB\u3002</li> </ul>"},{"location":"openai-image/#prompt_1","title":"<code>prompt</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u671f\u671b\u751f\u6210\u56fe\u7247\u7684\u6587\u672c\u63cf\u8ff0\u3002</li> <li>dall-e-2 \u6700\u5927\u957f\u5ea6\u4e3a 1000 \u5b57\u7b26</li> <li>gpt-image-1 \u6700\u5927\u957f\u5ea6\u4e3a 32000 \u5b57\u7b26</li> </ul>"},{"location":"openai-image/#mask","title":"<code>mask</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6587\u4ef6</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u8bf4\u660e\uff1a\u989d\u5916\u7684\u56fe\u7247\uff0c\u5176\u5b8c\u5168\u900f\u660e\u533a\u57df\uff08\u5982 alpha \u4e3a\u96f6\u7684\u533a\u57df\uff09\u6307\u793a\u5e94\u8be5\u7f16\u8f91\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u591a\u4e2a\u56fe\u7247\uff0cmask \u5c06\u5e94\u7528\u4e8e\u7b2c\u4e00\u5f20\u56fe\u7247\u3002\u5fc5\u987b\u662f\u6709\u6548\u7684 PNG \u6587\u4ef6\uff0c\u5c0f\u4e8e 4MB\uff0c\u4e14\u4e0e image \u5177\u6709\u76f8\u540c\u5c3a\u5bf8\u3002</li> </ul>"},{"location":"openai-image/#model_1","title":"<code>model</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1adall-e-2</li> <li>\u8bf4\u660e\uff1a\u7528\u4e8e\u56fe\u50cf\u751f\u6210\u7684\u6a21\u578b\u3002\u652f\u6301 dall-e-2 \u548c gpt-image-1\u3002\u9664\u975e\u4f7f\u7528\u4e86 gpt-image-1 \u7279\u6709\u7684\u53c2\u6570\uff0c\u5426\u5219\u9ed8\u8ba4\u4e3a dall-e-2\u3002</li> </ul>"},{"location":"openai-image/#quality_1","title":"<code>quality</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1aauto</li> <li>\u8bf4\u660e\uff1a\u751f\u6210\u56fe\u7247\u7684\u8d28\u91cf\u3002</li> <li>gpt-image-1 \u652f\u6301 high\u3001medium \u548c low</li> <li>dall-e-2 \u4ec5\u652f\u6301 standard</li> <li>\u9ed8\u8ba4\u4e3a auto</li> </ul>"},{"location":"openai-image/#size_1","title":"<code>size</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216 null</li> <li>\u5fc5\u9700\uff1a\u5426</li> <li>\u9ed8\u8ba4\u503c\uff1a1024x1024</li> <li>\u8bf4\u660e\uff1a\u751f\u6210\u56fe\u7247\u7684\u5c3a\u5bf8\u3002</li> <li>gpt-image-1 \u5fc5\u987b\u662f 1024x1024\u30011536x1024\uff08\u6a2a\u7248\uff09\u30011024x1536\uff08\u7ad6\u7248\uff09\u6216 auto\uff08\u9ed8\u8ba4\uff09\u4e4b\u4e00</li> <li>dall-e-2 \u5fc5\u987b\u662f 256x256\u3001512x512 \u6216 1024x1024 \u4e4b\u4e00</li> </ul> <p>\u5176\u4ed6\u53c2\u6570\u4e0e\u521b\u5efa\u56fe\u7247\u63a5\u53e3\u76f8\u540c\u3002</p>"},{"location":"openai-image/#_15","title":"\u751f\u6210\u53d8\u4f53","text":""},{"location":"openai-image/#image_1","title":"<code>image</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6587\u4ef6</li> <li>\u5fc5\u9700\uff1a\u662f</li> <li>\u8bf4\u660e\uff1a\u4f5c\u4e3a\u53d8\u4f53\u57fa\u7840\u7684\u56fe\u7247\u3002\u5fc5\u987b\u662f\u6709\u6548\u7684 PNG \u6587\u4ef6\uff0c\u5c0f\u4e8e 4MB\uff0c\u4e14\u4e3a\u6b63\u65b9\u5f62\u3002</li> </ul> <p>\u5176\u4ed6\u53c2\u6570\u4e0e\u521b\u5efa\u56fe\u7247\u63a5\u53e3\u76f8\u540c\u3002</p>"},{"location":"openai-image/#_16","title":"\ud83d\udce5 \u54cd\u5e94","text":""},{"location":"openai-image/#_17","title":"\u6210\u529f\u54cd\u5e94","text":"<p>\u6240\u6709\u4e09\u4e2a\u7aef\u70b9\u90fd\u8fd4\u56de\u5305\u542b\u56fe\u7247\u5bf9\u8c61\u5217\u8868\u7684\u54cd\u5e94\u3002</p>"},{"location":"openai-image/#created","title":"<code>created</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u8bf4\u660e\uff1a\u54cd\u5e94\u521b\u5efa\u7684\u65f6\u95f4\u6233</li> </ul>"},{"location":"openai-image/#data","title":"<code>data</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u8bf4\u660e\uff1a\u751f\u6210\u7684\u56fe\u7247\u5bf9\u8c61\u5217\u8868</li> </ul>"},{"location":"openai-image/#usage-gpt-image-1","title":"<code>usage</code>\uff08\u4ec5\u9002\u7528\u4e8e gpt-image-1\uff09","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u8bf4\u660e\uff1aAPI \u8c03\u7528\u7684\u4ee4\u724c\u4f7f\u7528\u60c5\u51b5</li> <li><code>total_tokens</code>\uff1a\u4f7f\u7528\u7684\u603b\u4ee4\u724c\u6570</li> <li><code>input_tokens</code>\uff1a\u8f93\u5165\u4f7f\u7528\u7684\u4ee4\u724c\u6570</li> <li><code>output_tokens</code>\uff1a\u8f93\u51fa\u4f7f\u7528\u7684\u4ee4\u724c\u6570</li> <li><code>input_tokens_details</code>\uff1a\u8f93\u5165\u4ee4\u724c\u7684\u8be6\u7ec6\u4fe1\u606f\uff08\u6587\u672c\u4ee4\u724c\u548c\u56fe\u50cf\u4ee4\u724c\uff09</li> </ul>"},{"location":"openai-image/#_18","title":"\u56fe\u7247\u5bf9\u8c61","text":""},{"location":"openai-image/#b64_json","title":"<code>b64_json</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u5982\u679c response_format \u4e3a b64_json\uff0c\u5219\u5305\u542b\u751f\u6210\u56fe\u7247\u7684 base64 \u7f16\u7801 JSON</li> </ul>"},{"location":"openai-image/#url","title":"<code>url</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u5982\u679c response_format \u4e3a url\uff08\u9ed8\u8ba4\uff09\uff0c\u5219\u5305\u542b\u751f\u6210\u56fe\u7247\u7684 URL</li> </ul>"},{"location":"openai-image/#revised_prompt","title":"<code>revised_prompt</code>","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u5982\u679c\u63d0\u793a\u6709\u4efb\u4f55\u4fee\u6539\uff0c\u5219\u5305\u542b\u7528\u4e8e\u751f\u6210\u56fe\u7247\u7684\u4fee\u6539\u540e\u7684\u63d0\u793a</li> </ul> <p>\u793a\u4f8b\u56fe\u7247\u5bf9\u8c61: <pre><code>{\n  \"url\": \"https://...\",\n  \"revised_prompt\": \"\u4e00\u53ea\u53ef\u7231\u7684\u5c0f\u6d77\u736d\u5728\u6c34\u4e2d\u5b09\u620f,\u5b83\u6709\u7740\u5706\u5706\u7684\u773c\u775b\u548c\u6bdb\u8338\u8338\u7684\u76ae\u6bdb\"\n}\n</code></pre></p>"},{"location":"openai-image/#_19","title":"\ud83c\udf1f \u6700\u4f73\u5b9e\u8df5","text":""},{"location":"openai-image/#prompt_2","title":"Prompt \u7f16\u5199\u5efa\u8bae","text":"<ol> <li>\u4f7f\u7528\u6e05\u6670\u5177\u4f53\u7684\u63cf\u8ff0</li> <li>\u6307\u5b9a\u91cd\u8981\u7684\u89c6\u89c9\u7ec6\u8282</li> <li>\u63cf\u8ff0\u671f\u671b\u7684\u827a\u672f\u98ce\u683c\u548c\u6c1b\u56f4</li> <li>\u6ce8\u610f\u6784\u56fe\u548c\u89c6\u89d2\u7684\u8bf4\u660e</li> </ol>"},{"location":"openai-image/#_20","title":"\u53c2\u6570\u9009\u62e9\u5efa\u8bae","text":"<ol> <li>\u6a21\u578b\u9009\u62e9</li> <li>dall-e-3\uff1a\u9002\u5408\u9700\u8981\u9ad8\u8d28\u91cf\u3001\u7cbe\u786e\u7ec6\u8282\u7684\u573a\u666f</li> <li> <p>dall-e-2\uff1a\u9002\u5408\u5feb\u901f\u539f\u578b\u6216\u7b80\u5355\u56fe\u50cf\u751f\u6210</p> </li> <li> <p>\u5c3a\u5bf8\u9009\u62e9</p> </li> <li>1024x1024\uff1a\u901a\u7528\u573a\u666f\u7684\u6700\u4f73\u9009\u62e9</li> <li>1792x1024/1024x1792\uff1a\u9002\u5408\u6a2a\u7248/\u7ad6\u7248\u573a\u666f</li> <li> <p>\u8f83\u5c0f\u5c3a\u5bf8\uff1a\u9002\u5408\u7f29\u7565\u56fe\u6216\u5feb\u901f\u9884\u89c8</p> </li> <li> <p>\u8d28\u91cf\u548c\u98ce\u683c</p> </li> <li>quality=hd\uff1a\u7528\u4e8e\u9700\u8981\u7cbe\u7ec6\u7ec6\u8282\u7684\u56fe\u50cf</li> <li>style=vivid\uff1a\u9002\u5408\u521b\u610f\u548c\u827a\u672f\u6548\u679c</li> <li>style=natural\uff1a\u9002\u5408\u771f\u5b9e\u573a\u666f\u518d\u73b0</li> </ol>"},{"location":"openai-image/#_21","title":"\u5e38\u89c1\u95ee\u9898","text":"<ol> <li>\u56fe\u7247\u751f\u6210\u5931\u8d25</li> <li>\u68c0\u67e5 prompt \u662f\u5426\u7b26\u5408\u5185\u5bb9\u653f\u7b56</li> <li>\u786e\u8ba4\u6587\u4ef6\u683c\u5f0f\u548c\u5927\u5c0f\u9650\u5236</li> <li> <p>\u9a8c\u8bc1 API \u5bc6\u94a5\u6743\u9650</p> </li> <li> <p>\u7ed3\u679c\u4e0e\u9884\u671f\u4e0d\u7b26</p> </li> <li>\u4f18\u5316 prompt \u63cf\u8ff0</li> <li>\u8c03\u6574\u8d28\u91cf\u548c\u98ce\u683c\u53c2\u6570</li> <li>\u8003\u8651\u4f7f\u7528\u56fe\u7247\u7f16\u8f91\u6216\u53d8\u4f53\u529f\u80fd </li> </ol>"},{"location":"openai-realtime/","title":"OpenAI \u5b9e\u65f6\u5bf9\u8bdd\u63a5\u53e3","text":"<p>\u5b98\u65b9\u6587\u6863</p> <ul> <li>OpenAI Realtime WebRTC</li> <li>OpenAI Realtime WebSocket</li> </ul>"},{"location":"openai-realtime/#_1","title":"\ud83d\udcdd \u6982\u8ff0","text":""},{"location":"openai-realtime/#_2","title":"\u7b80\u4ecb","text":"<p>OpenAI Realtime API \u63d0\u4f9b\u4e24\u79cd\u8fde\u63a5\u65b9\u5f0f\uff1a</p> <ol> <li> <p>WebRTC - \u9002\u7528\u4e8e\u6d4f\u89c8\u5668\u548c\u79fb\u52a8\u5ba2\u6237\u7aef\u7684\u5b9e\u65f6\u97f3\u89c6\u9891\u4ea4\u4e92</p> </li> <li> <p>WebSocket - \u9002\u7528\u4e8e\u670d\u52a1\u5668\u5230\u670d\u52a1\u5668\u7684\u5e94\u7528\u7a0b\u5e8f\u96c6\u6210</p> </li> </ol>"},{"location":"openai-realtime/#_3","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u5b9e\u65f6\u8bed\u97f3\u5bf9\u8bdd</li> <li>\u97f3\u89c6\u9891\u4f1a\u8bae</li> <li>\u5b9e\u65f6\u7ffb\u8bd1</li> <li>\u8bed\u97f3\u8f6c\u5199</li> <li>\u5b9e\u65f6\u4ee3\u7801\u751f\u6210</li> <li>\u670d\u52a1\u5668\u7aef\u5b9e\u65f6\u96c6\u6210</li> </ul>"},{"location":"openai-realtime/#_4","title":"\u4e3b\u8981\u7279\u6027","text":"<ul> <li>\u53cc\u5411\u97f3\u9891\u6d41\u4f20\u8f93</li> <li>\u6587\u672c\u548c\u97f3\u9891\u6df7\u5408\u5bf9\u8bdd</li> <li>\u51fd\u6570\u8c03\u7528\u652f\u6301</li> <li>\u81ea\u52a8\u8bed\u97f3\u68c0\u6d4b(VAD)</li> <li>\u97f3\u9891\u8f6c\u5199\u529f\u80fd</li> <li>WebSocket \u670d\u52a1\u5668\u7aef\u96c6\u6210</li> </ul>"},{"location":"openai-realtime/#_5","title":"\ud83d\udd10 \u8ba4\u8bc1\u4e0e\u5b89\u5168","text":""},{"location":"openai-realtime/#_6","title":"\u8ba4\u8bc1\u65b9\u5f0f","text":"<ol> <li>\u6807\u51c6 API \u5bc6\u94a5 (\u4ec5\u670d\u52a1\u5668\u7aef\u4f7f\u7528)</li> <li>\u4e34\u65f6\u4ee4\u724c (\u5ba2\u6237\u7aef\u4f7f\u7528)</li> </ol>"},{"location":"openai-realtime/#_7","title":"\u4e34\u65f6\u4ee4\u724c","text":"<ul> <li>\u6709\u6548\u671f: 1\u5206\u949f</li> <li>\u4f7f\u7528\u9650\u5236: \u5355\u4e2a\u8fde\u63a5</li> <li>\u83b7\u53d6\u65b9\u5f0f: \u901a\u8fc7\u670d\u52a1\u5668\u7aef API \u521b\u5efa</li> </ul> <pre><code>POST https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/realtime/sessions\nContent-Type: application/json\nAuthorization: Bearer $API_KEY\n\n{\n  \"model\": \"gpt-4o-realtime-preview-2024-12-17\",\n  \"voice\": \"verse\"\n}\n</code></pre>"},{"location":"openai-realtime/#_8","title":"\u5b89\u5168\u5efa\u8bae","text":"<ul> <li>\u6c38\u8fdc\u4e0d\u8981\u5728\u5ba2\u6237\u7aef\u66b4\u9732\u6807\u51c6 API \u5bc6\u94a5</li> <li>\u4f7f\u7528 HTTPS/WSS \u8fdb\u884c\u901a\u4fe1</li> <li>\u5b9e\u73b0\u9002\u5f53\u7684\u8bbf\u95ee\u63a7\u5236</li> <li>\u76d1\u63a7\u5f02\u5e38\u6d3b\u52a8</li> </ul>"},{"location":"openai-realtime/#_9","title":"\ud83d\udd0c \u8fde\u63a5\u5efa\u7acb","text":""},{"location":"openai-realtime/#webrtc","title":"WebRTC \u8fde\u63a5","text":"<ul> <li>URL: <code>https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/realtime</code></li> <li>\u67e5\u8be2\u53c2\u6570: <code>model</code></li> <li>\u8bf7\u6c42\u5934: </li> <li><code>Authorization: Bearer EPHEMERAL_KEY</code></li> <li><code>Content-Type: application/sdp</code></li> </ul>"},{"location":"openai-realtime/#websocket","title":"WebSocket \u8fde\u63a5","text":"<ul> <li>URL: <code>wss://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/realtime</code></li> <li>\u67e5\u8be2\u53c2\u6570: <code>model</code></li> <li>\u8bf7\u6c42\u5934:</li> <li><code>Authorization: Bearer YOUR_API_KEY</code></li> <li><code>OpenAI-Beta: realtime=v1</code></li> </ul>"},{"location":"openai-realtime/#_10","title":"\u8fde\u63a5\u6d41\u7a0b","text":"<pre><code>sequenceDiagram\n    participant Client\n    participant Server\n    participant OpenAI\n\n    alt WebRTC \u8fde\u63a5\n        Client-&gt;&gt;Server: \u8bf7\u6c42\u4e34\u65f6\u4ee4\u724c\n        Server-&gt;&gt;OpenAI: \u521b\u5efa\u4f1a\u8bdd\n        OpenAI--&gt;&gt;Server: \u8fd4\u56de\u4e34\u65f6\u4ee4\u724c\n        Server--&gt;&gt;Client: \u8fd4\u56de\u4e34\u65f6\u4ee4\u724c\n\n        Client-&gt;&gt;OpenAI: \u521b\u5efa WebRTC offer\n        OpenAI--&gt;&gt;Client: \u8fd4\u56de answer\n\n        Note over Client,OpenAI: \u5efa\u7acb WebRTC \u8fde\u63a5\n\n        Client-&gt;&gt;OpenAI: \u521b\u5efa\u6570\u636e\u901a\u9053\n        OpenAI--&gt;&gt;Client: \u786e\u8ba4\u6570\u636e\u901a\u9053\n    else WebSocket \u8fde\u63a5\n        Server-&gt;&gt;OpenAI: \u5efa\u7acb WebSocket \u8fde\u63a5\n        OpenAI--&gt;&gt;Server: \u786e\u8ba4\u8fde\u63a5\n\n        Note over Server,OpenAI: \u5f00\u59cb\u5b9e\u65f6\u5bf9\u8bdd\n    end\n</code></pre>"},{"location":"openai-realtime/#_11","title":"\u6570\u636e\u901a\u9053","text":"<ul> <li>\u540d\u79f0: <code>oai-events</code></li> <li>\u7528\u9014: \u4e8b\u4ef6\u4f20\u8f93</li> <li>\u683c\u5f0f: JSON</li> </ul>"},{"location":"openai-realtime/#_12","title":"\u97f3\u9891\u6d41","text":"<ul> <li>\u8f93\u5165: <code>addTrack()</code></li> <li>\u8f93\u51fa: <code>ontrack</code> \u4e8b\u4ef6</li> </ul>"},{"location":"openai-realtime/#_13","title":"\ud83d\udcac \u5bf9\u8bdd\u4ea4\u4e92","text":""},{"location":"openai-realtime/#_14","title":"\u5bf9\u8bdd\u6a21\u5f0f","text":"<ol> <li>\u7eaf\u6587\u672c\u5bf9\u8bdd</li> <li>\u8bed\u97f3\u5bf9\u8bdd</li> <li>\u6df7\u5408\u5bf9\u8bdd</li> </ol>"},{"location":"openai-realtime/#_15","title":"\u4f1a\u8bdd\u7ba1\u7406","text":"<ul> <li>\u521b\u5efa\u4f1a\u8bdd</li> <li>\u66f4\u65b0\u4f1a\u8bdd</li> <li>\u7ed3\u675f\u4f1a\u8bdd</li> <li>\u4f1a\u8bdd\u914d\u7f6e</li> </ul>"},{"location":"openai-realtime/#_16","title":"\u4e8b\u4ef6\u7c7b\u578b","text":"<ul> <li>\u6587\u672c\u4e8b\u4ef6</li> <li>\u97f3\u9891\u4e8b\u4ef6</li> <li>\u51fd\u6570\u8c03\u7528</li> <li>\u72b6\u6001\u66f4\u65b0</li> <li>\u9519\u8bef\u4e8b\u4ef6</li> </ul>"},{"location":"openai-realtime/#_17","title":"\u2699\ufe0f \u914d\u7f6e\u9009\u9879","text":""},{"location":"openai-realtime/#_18","title":"\u97f3\u9891\u914d\u7f6e","text":"<ul> <li>\u8f93\u5165\u683c\u5f0f</li> <li><code>pcm16</code></li> <li><code>g711_ulaw</code></li> <li><code>g711_alaw</code></li> <li>\u8f93\u51fa\u683c\u5f0f</li> <li><code>pcm16</code></li> <li><code>g711_ulaw</code></li> <li><code>g711_alaw</code></li> <li>\u8bed\u97f3\u7c7b\u578b</li> <li><code>alloy</code></li> <li><code>echo</code></li> <li><code>shimmer</code></li> </ul>"},{"location":"openai-realtime/#_19","title":"\u6a21\u578b\u914d\u7f6e","text":"<ul> <li>\u6e29\u5ea6</li> <li>\u6700\u5927\u8f93\u51fa\u957f\u5ea6</li> <li>\u7cfb\u7edf\u63d0\u793a\u8bcd</li> <li>\u5de5\u5177\u914d\u7f6e</li> </ul>"},{"location":"openai-realtime/#vad","title":"VAD \u914d\u7f6e","text":"<ul> <li>\u9608\u503c</li> <li>\u9759\u97f3\u65f6\u957f</li> <li>\u524d\u7f00\u586b\u5145</li> </ul>"},{"location":"openai-realtime/#_20","title":"\ud83d\udca1 \u8bf7\u6c42\u793a\u4f8b","text":""},{"location":"openai-realtime/#webrtc_1","title":"WebRTC \u8fde\u63a5 \u274c","text":""},{"location":"openai-realtime/#_21","title":"\u5ba2\u6237\u7aef\u5b9e\u73b0 (\u6d4f\u89c8\u5668)","text":"<pre><code>async function init() {\n  // \u4ece\u670d\u52a1\u5668\u83b7\u53d6\u4e34\u65f6\u5bc6\u94a5 - \u53c2\u89c1\u4e0b\u65b9\u670d\u52a1\u5668\u4ee3\u7801\n  const tokenResponse = await fetch(\"/session\");\n  const data = await tokenResponse.json();\n  const EPHEMERAL_KEY = data.client_secret.value;\n\n  // \u521b\u5efa\u5bf9\u7b49\u8fde\u63a5\n  const pc = new RTCPeerConnection();\n\n  // \u8bbe\u7f6e\u64ad\u653e\u6a21\u578b\u8fd4\u56de\u7684\u8fdc\u7a0b\u97f3\u9891\n  const audioEl = document.createElement(\"audio\");\n  audioEl.autoplay = true;\n  pc.ontrack = e =&gt; audioEl.srcObject = e.streams[0];\n\n  // \u6dfb\u52a0\u6d4f\u89c8\u5668\u9ea6\u514b\u98ce\u8f93\u5165\u7684\u672c\u5730\u97f3\u9891\u8f68\u9053\n  const ms = await navigator.mediaDevices.getUserMedia({\n    audio: true\n  });\n  pc.addTrack(ms.getTracks()[0]);\n\n  // \u8bbe\u7f6e\u7528\u4e8e\u53d1\u9001\u548c\u63a5\u6536\u4e8b\u4ef6\u7684\u6570\u636e\u901a\u9053\n  const dc = pc.createDataChannel(\"oai-events\");\n  dc.addEventListener(\"message\", (e) =&gt; {\n    // \u8fd9\u91cc\u63a5\u6536\u5b9e\u65f6\u670d\u52a1\u5668\u4e8b\u4ef6\uff01\n    console.log(e);\n  });\n\n  // \u4f7f\u7528\u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae(SDP)\u542f\u52a8\u4f1a\u8bdd\n  const offer = await pc.createOffer();\n  await pc.setLocalDescription(offer);\n\n  const baseUrl = \"https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/realtime\";\n  const model = \"gpt-4o-realtime-preview-2024-12-17\";\n  const sdpResponse = await fetch(`${baseUrl}?model=${model}`, {\n    method: \"POST\",\n    body: offer.sdp,\n    headers: {\n      Authorization: `Bearer ${EPHEMERAL_KEY}`,\n      \"Content-Type\": \"application/sdp\"\n    },\n  });\n\n  const answer = {\n    type: \"answer\",\n    sdp: await sdpResponse.text(),\n  };\n  await pc.setRemoteDescription(answer);\n}\n\ninit();\n</code></pre>"},{"location":"openai-realtime/#nodejs","title":"\u670d\u52a1\u5668\u7aef\u5b9e\u73b0 (Node.js)","text":"<pre><code>import express from \"express\";\n\nconst app = express();\n\n// \u521b\u5efa\u4e00\u4e2a\u7aef\u70b9\u7528\u4e8e\u751f\u6210\u4e34\u65f6\u4ee4\u724c\n// \u8be5\u7aef\u70b9\u4e0e\u4e0a\u9762\u7684\u5ba2\u6237\u7aef\u4ee3\u7801\u914d\u5408\u4f7f\u7528\napp.get(\"/session\", async (req, res) =&gt; {\n  const r = await fetch(\"https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/realtime/sessions\", {\n    method: \"POST\",\n    headers: {\n      \"Authorization\": `Bearer ${process.env.API_KEY}`,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      model: \"gpt-4o-realtime-preview-2024-12-17\",\n      voice: \"verse\",\n    }),\n  });\n  const data = await r.json();\n\n  // \u5c06\u4eceOpenAI REST API\u6536\u5230\u7684JSON\u53d1\u9001\u56de\u5ba2\u6237\u7aef\n  res.send(data);\n});\n\napp.listen(3000);\n</code></pre>"},{"location":"openai-realtime/#webrtc_2","title":"WebRTC \u4e8b\u4ef6\u6536\u53d1\u793a\u4f8b","text":"<pre><code>// \u4ece\u5bf9\u7b49\u8fde\u63a5\u521b\u5efa\u6570\u636e\u901a\u9053\nconst dc = pc.createDataChannel(\"oai-events\");\n\n// \u76d1\u542c\u6570\u636e\u901a\u9053\u4e0a\u7684\u670d\u52a1\u5668\u4e8b\u4ef6\n// \u4e8b\u4ef6\u6570\u636e\u9700\u8981\u4eceJSON\u5b57\u7b26\u4e32\u89e3\u6790\ndc.addEventListener(\"message\", (e) =&gt; {\n  const realtimeEvent = JSON.parse(e.data);\n  console.log(realtimeEvent);\n});\n\n// \u53d1\u9001\u5ba2\u6237\u7aef\u4e8b\u4ef6\uff1a\u5c06\u6709\u6548\u7684\u5ba2\u6237\u7aef\u4e8b\u4ef6\u5e8f\u5217\u5316\u4e3a\n// JSON\uff0c\u5e76\u901a\u8fc7\u6570\u636e\u901a\u9053\u53d1\u9001\nconst responseCreate = {\n  type: \"response.create\",\n  response: {\n    modalities: [\"text\"],\n    instructions: \"Write a haiku about code\",\n  },\n};\ndc.send(JSON.stringify(responseCreate));\n</code></pre>"},{"location":"openai-realtime/#websocket_1","title":"WebSocket \u8fde\u63a5 \u2705","text":""},{"location":"openai-realtime/#nodejs-ws","title":"Node.js (ws\u6a21\u5757)","text":"<pre><code>import WebSocket from \"ws\";\n\nconst url = \"wss://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/realtime?model=gpt-4o-realtime-preview-2024-12-17\";\nconst ws = new WebSocket(url, {\n  headers: {\n    \"Authorization\": \"Bearer \" + process.env.API_KEY,\n    \"OpenAI-Beta\": \"realtime=v1\",\n  },\n});\n\nws.on(\"open\", function open() {\n  console.log(\"Connected to server.\");\n});\n\nws.on(\"message\", function incoming(message) {\n  console.log(JSON.parse(message.toString()));\n});\n</code></pre>"},{"location":"openai-realtime/#python-websocket-client","title":"Python (websocket-client)","text":"<pre><code># \u9700\u8981\u5b89\u88c5 websocket-client \u5e93:\n# pip install websocket-client\n\nimport os\nimport json\nimport websocket\n\nAPI_KEY = os.environ.get(\"API_KEY\")\n\nurl = \"wss://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/realtime?model=gpt-4o-realtime-preview-2024-12-17\"\nheaders = [\n    \"Authorization: Bearer \" + API_KEY,\n    \"OpenAI-Beta: realtime=v1\"\n]\n\ndef on_open(ws):\n    print(\"Connected to server.\")\n\ndef on_message(ws, message):\n    data = json.loads(message)\n    print(\"Received event:\", json.dumps(data, indent=2))\n\nws = websocket.WebSocketApp(\n    url,\n    header=headers,\n    on_open=on_open,\n    on_message=on_message,\n)\n\nws.run_forever()\n</code></pre>"},{"location":"openai-realtime/#websocket_2","title":"\u6d4f\u89c8\u5668 (\u6807\u51c6WebSocket)","text":"<pre><code>/*\n\u6ce8\u610f\uff1a\u5728\u6d4f\u89c8\u5668\u7b49\u5ba2\u6237\u7aef\u73af\u5883\u4e2d\uff0c\u6211\u4eec\u5efa\u8bae\u4f7f\u7528WebRTC\u3002\n\u4f46\u5728Deno\u548cCloudflare Workers\u7b49\u7c7b\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\uff0c\n\u4e5f\u53ef\u4ee5\u4f7f\u7528\u6807\u51c6WebSocket\u63a5\u53e3\u3002\n*/\n\nconst ws = new WebSocket(\n  \"wss://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/realtime?model=gpt-4o-realtime-preview-2024-12-17\",\n  [\n    \"realtime\",\n    // \u8ba4\u8bc1\n    \"openai-insecure-api-key.\" + API_KEY, \n    // \u53ef\u9009\n    \"openai-organization.\" + OPENAI_ORG_ID,\n    \"openai-project.\" + OPENAI_PROJECT_ID,\n    // Beta\u534f\u8bae\uff0c\u5fc5\u9700\n    \"openai-beta.realtime-v1\"\n  ]\n);\n\nws.on(\"open\", function open() {\n  console.log(\"Connected to server.\");\n});\n\nws.on(\"message\", function incoming(message) {\n  console.log(message.data);\n});\n</code></pre>"},{"location":"openai-realtime/#_22","title":"\u6d88\u606f\u6536\u53d1\u793a\u4f8b","text":""},{"location":"openai-realtime/#nodejs_1","title":"Node.js/\u6d4f\u89c8\u5668","text":"<pre><code>// \u63a5\u6536\u670d\u52a1\u5668\u4e8b\u4ef6\nws.on(\"message\", function incoming(message) {\n  // \u9700\u8981\u4eceJSON\u89e3\u6790\u6d88\u606f\u6570\u636e\n  const serverEvent = JSON.parse(message.data)\n  console.log(serverEvent);\n});\n\n// \u53d1\u9001\u4e8b\u4ef6\uff0c\u521b\u5efa\u7b26\u5408\u5ba2\u6237\u7aef\u4e8b\u4ef6\u683c\u5f0f\u7684JSON\u6570\u636e\u7ed3\u6784\nconst event = {\n  type: \"response.create\",\n  response: {\n    modalities: [\"audio\", \"text\"],\n    instructions: \"Give me a haiku about code.\",\n  }\n};\nws.send(JSON.stringify(event));\n</code></pre>"},{"location":"openai-realtime/#python","title":"Python","text":"<pre><code># \u53d1\u9001\u5ba2\u6237\u7aef\u4e8b\u4ef6\uff0c\u5c06\u5b57\u5178\u5e8f\u5217\u5316\u4e3aJSON\ndef on_open(ws):\n    print(\"Connected to server.\")\n\n    event = {\n        \"type\": \"response.create\",\n        \"response\": {\n            \"modalities\": [\"text\"],\n            \"instructions\": \"Please assist the user.\"\n        }\n    }\n    ws.send(json.dumps(event))\n\n# \u63a5\u6536\u6d88\u606f\u9700\u8981\u4eceJSON\u89e3\u6790\u6d88\u606f\u8d1f\u8f7d\ndef on_message(ws, message):\n    data = json.loads(message)\n    print(\"Received event:\", json.dumps(data, indent=2))\n</code></pre>"},{"location":"openai-realtime/#_23","title":"\u26a0\ufe0f \u9519\u8bef\u5904\u7406","text":""},{"location":"openai-realtime/#_24","title":"\u5e38\u89c1\u9519\u8bef","text":"<ol> <li>\u8fde\u63a5\u9519\u8bef</li> <li>\u7f51\u7edc\u95ee\u9898</li> <li>\u8ba4\u8bc1\u5931\u8d25</li> <li>\u914d\u7f6e\u9519\u8bef</li> <li>\u97f3\u9891\u9519\u8bef</li> <li>\u8bbe\u5907\u6743\u9650</li> <li>\u683c\u5f0f\u4e0d\u652f\u6301</li> <li>\u7f16\u89e3\u7801\u95ee\u9898</li> <li>\u4f1a\u8bdd\u9519\u8bef</li> <li>\u4ee4\u724c\u8fc7\u671f</li> <li>\u4f1a\u8bdd\u8d85\u65f6</li> <li>\u5e76\u53d1\u9650\u5236</li> </ol>"},{"location":"openai-realtime/#_25","title":"\u9519\u8bef\u6062\u590d","text":"<ol> <li>\u81ea\u52a8\u91cd\u8fde</li> <li>\u4f1a\u8bdd\u6062\u590d</li> <li>\u9519\u8bef\u91cd\u8bd5</li> <li>\u964d\u7ea7\u5904\u7406</li> </ol>"},{"location":"openai-realtime/#_26","title":"\ud83d\udcdd \u4e8b\u4ef6\u53c2\u8003","text":""},{"location":"openai-realtime/#_27","title":"\u901a\u7528\u8bf7\u6c42\u5934","text":"<p>\u6240\u6709\u4e8b\u4ef6\u90fd\u9700\u8981\u5305\u542b\u4ee5\u4e0b\u8bf7\u6c42\u5934:</p> \u8bf7\u6c42\u5934 \u7c7b\u578b \u8bf4\u660e \u793a\u4f8b\u503c Authorization \u5b57\u7b26\u4e32 \u8ba4\u8bc1\u4ee4\u724c Bearer $API_KEY OpenAI-Beta \u5b57\u7b26\u4e32 API \u7248\u672c realtime=v1"},{"location":"openai-realtime/#_28","title":"\u5ba2\u6237\u7aef\u4e8b\u4ef6","text":""},{"location":"openai-realtime/#sessionupdate","title":"session.update","text":"<p>\u66f4\u65b0\u4f1a\u8bdd\u7684\u9ed8\u8ba4\u914d\u7f6e\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c/\u53ef\u9009\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u5ba2\u6237\u7aef\u751f\u6210\u7684\u4e8b\u4ef6\u6807\u8bc6\u7b26 event_123 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b session.update modalities \u5b57\u7b26\u4e32\u6570\u7ec4 \u5426 \u6a21\u578b\u53ef\u4ee5\u54cd\u5e94\u7684\u6a21\u6001\u7c7b\u578b [\"text\", \"audio\"] instructions \u5b57\u7b26\u4e32 \u5426 \u9884\u7f6e\u5230\u6a21\u578b\u8c03\u7528\u524d\u7684\u7cfb\u7edf\u6307\u4ee4 \"Your knowledge cutoff is 2023-10...\" voice \u5b57\u7b26\u4e32 \u5426 \u6a21\u578b\u4f7f\u7528\u7684\u8bed\u97f3\u7c7b\u578b alloy\u3001echo\u3001shimmer input_audio_format \u5b57\u7b26\u4e32 \u5426 \u8f93\u5165\u97f3\u9891\u683c\u5f0f pcm16\u3001g711_ulaw\u3001g711_alaw output_audio_format \u5b57\u7b26\u4e32 \u5426 \u8f93\u51fa\u97f3\u9891\u683c\u5f0f pcm16\u3001g711_ulaw\u3001g711_alaw input_audio_transcription.model \u5b57\u7b26\u4e32 \u5426 \u7528\u4e8e\u8f6c\u5199\u7684\u6a21\u578b whisper-1 turn_detection.type \u5b57\u7b26\u4e32 \u5426 \u8bed\u97f3\u68c0\u6d4b\u7c7b\u578b server_vad turn_detection.threshold \u6570\u5b57 \u5426 VAD \u6fc0\u6d3b\u9608\u503c(0.0-1.0) 0.8 turn_detection.prefix_padding_ms \u6574\u6570 \u5426 \u8bed\u97f3\u5f00\u59cb\u524d\u5305\u542b\u7684\u97f3\u9891\u65f6\u957f 500 turn_detection.silence_duration_ms \u6574\u6570 \u5426 \u68c0\u6d4b\u8bed\u97f3\u505c\u6b62\u7684\u9759\u97f3\u6301\u7eed\u65f6\u95f4 1000 tools \u6570\u7ec4 \u5426 \u6a21\u578b\u53ef\u7528\u7684\u5de5\u5177\u5217\u8868 [] tool_choice \u5b57\u7b26\u4e32 \u5426 \u6a21\u578b\u9009\u62e9\u5de5\u5177\u7684\u65b9\u5f0f auto/none/required temperature \u6570\u5b57 \u5426 \u6a21\u578b\u91c7\u6837\u6e29\u5ea6 0.8 max_output_tokens \u5b57\u7b26\u4e32/\u6574\u6570 \u5426 \u5355\u6b21\u54cd\u5e94\u6700\u5927token\u6570 \"inf\"/4096"},{"location":"openai-realtime/#input_audio_bufferappend","title":"input_audio_buffer.append","text":"<p>\u5411\u8f93\u5165\u97f3\u9891\u7f13\u51b2\u533a\u8ffd\u52a0\u97f3\u9891\u6570\u636e\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u5ba2\u6237\u7aef\u751f\u6210\u7684\u4e8b\u4ef6\u6807\u8bc6\u7b26 event_456 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b input_audio_buffer.append audio \u5b57\u7b26\u4e32 \u5426 Base64\u7f16\u7801\u7684\u97f3\u9891\u6570\u636e Base64EncodedAudioData"},{"location":"openai-realtime/#input_audio_buffercommit","title":"input_audio_buffer.commit","text":"<p>\u5c06\u7f13\u51b2\u533a\u4e2d\u7684\u97f3\u9891\u6570\u636e\u63d0\u4ea4\u4e3a\u7528\u6237\u6d88\u606f\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u5ba2\u6237\u7aef\u751f\u6210\u7684\u4e8b\u4ef6\u6807\u8bc6\u7b26 event_789 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b input_audio_buffer.commit"},{"location":"openai-realtime/#input_audio_bufferclear","title":"input_audio_buffer.clear","text":"<p>\u6e05\u7a7a\u8f93\u5165\u97f3\u9891\u7f13\u51b2\u533a\u4e2d\u7684\u6240\u6709\u97f3\u9891\u6570\u636e\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u5ba2\u6237\u7aef\u751f\u6210\u7684\u4e8b\u4ef6\u6807\u8bc6\u7b26 event_012 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b input_audio_buffer.clear"},{"location":"openai-realtime/#conversationitemcreate","title":"conversation.item.create","text":"<p>\u5411\u5bf9\u8bdd\u4e2d\u6dfb\u52a0\u65b0\u7684\u5bf9\u8bdd\u9879\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u5ba2\u6237\u7aef\u751f\u6210\u7684\u4e8b\u4ef6\u6807\u8bc6\u7b26 event_345 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b conversation.item.create previous_item_id \u5b57\u7b26\u4e32 \u5426 \u65b0\u5bf9\u8bdd\u9879\u5c06\u63d2\u5165\u5728\u6b64ID\u4e4b\u540e null item.id \u5b57\u7b26\u4e32 \u5426 \u5bf9\u8bdd\u9879\u7684\u552f\u4e00\u6807\u8bc6\u7b26 msg_001 item.type \u5b57\u7b26\u4e32 \u5426 \u5bf9\u8bdd\u9879\u7c7b\u578b message/function_call/function_call_output item.status \u5b57\u7b26\u4e32 \u5426 \u5bf9\u8bdd\u9879\u72b6\u6001 completed/in_progress/incomplete item.role \u5b57\u7b26\u4e32 \u5426 \u6d88\u606f\u53d1\u9001\u8005\u7684\u89d2\u8272 user/assistant/system item.content \u6570\u7ec4 \u5426 \u6d88\u606f\u5185\u5bb9 [text/audio/transcript] item.call_id \u5b57\u7b26\u4e32 \u5426 \u51fd\u6570\u8c03\u7528\u7684ID call_001 item.name \u5b57\u7b26\u4e32 \u5426 \u88ab\u8c03\u7528\u7684\u51fd\u6570\u540d\u79f0 function_name item.arguments \u5b57\u7b26\u4e32 \u5426 \u51fd\u6570\u8c03\u7528\u7684\u53c2\u6570 {\"param\": \"value\"} item.output \u5b57\u7b26\u4e32 \u5426 \u51fd\u6570\u8c03\u7528\u7684\u8f93\u51fa\u7ed3\u679c {\"result\": \"value\"}"},{"location":"openai-realtime/#conversationitemtruncate","title":"conversation.item.truncate","text":"<p>\u622a\u65ad\u52a9\u624b\u6d88\u606f\u4e2d\u7684\u97f3\u9891\u5185\u5bb9\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u5ba2\u6237\u7aef\u751f\u6210\u7684\u4e8b\u4ef6\u6807\u8bc6\u7b26 event_678 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b conversation.item.truncate item_id \u5b57\u7b26\u4e32 \u5426 \u8981\u622a\u65ad\u7684\u52a9\u624b\u6d88\u606f\u9879\u7684ID msg_002 content_index \u6574\u6570 \u5426 \u8981\u622a\u65ad\u7684\u5185\u5bb9\u90e8\u5206\u7684\u7d22\u5f15 0 audio_end_ms \u6574\u6570 \u5426 \u97f3\u9891\u622a\u65ad\u7684\u7ed3\u675f\u65f6\u95f4\u70b9 1500"},{"location":"openai-realtime/#conversationitemdelete","title":"conversation.item.delete","text":"<p>\u4ece\u5bf9\u8bdd\u5386\u53f2\u4e2d\u5220\u9664\u6307\u5b9a\u7684\u5bf9\u8bdd\u9879\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u5ba2\u6237\u7aef\u751f\u6210\u7684\u4e8b\u4ef6\u6807\u8bc6\u7b26 event_901 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b conversation.item.delete item_id \u5b57\u7b26\u4e32 \u5426 \u8981\u5220\u9664\u7684\u5bf9\u8bdd\u9879\u7684ID msg_003"},{"location":"openai-realtime/#responsecreate","title":"response.create","text":"<p>\u89e6\u53d1\u54cd\u5e94\u751f\u6210\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u5ba2\u6237\u7aef\u751f\u6210\u7684\u4e8b\u4ef6\u6807\u8bc6\u7b26 event_234 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.create response.modalities \u5b57\u7b26\u4e32\u6570\u7ec4 \u5426 \u54cd\u5e94\u7684\u6a21\u6001\u7c7b\u578b [\"text\", \"audio\"] response.instructions \u5b57\u7b26\u4e32 \u5426 \u7ed9\u6a21\u578b\u7684\u6307\u4ee4 \"Please assist the user.\" response.voice \u5b57\u7b26\u4e32 \u5426 \u6a21\u578b\u4f7f\u7528\u7684\u8bed\u97f3\u7c7b\u578b alloy/echo/shimmer response.output_audio_format \u5b57\u7b26\u4e32 \u5426 \u8f93\u51fa\u97f3\u9891\u683c\u5f0f pcm16 response.tools \u6570\u7ec4 \u5426 \u6a21\u578b\u53ef\u7528\u7684\u5de5\u5177\u5217\u8868 [\"type\", \"name\", \"description\"] response.tool_choice \u5b57\u7b26\u4e32 \u5426 \u6a21\u578b\u9009\u62e9\u5de5\u5177\u7684\u65b9\u5f0f auto response.temperature \u6570\u5b57 \u5426 \u91c7\u6837\u6e29\u5ea6 0.7 response.max_output_tokens \u6574\u6570/\u5b57\u7b26\u4e32 \u5426 \u6700\u5927\u8f93\u51fatoken\u6570 150/\"inf\""},{"location":"openai-realtime/#responsecancel","title":"response.cancel","text":"<p>\u53d6\u6d88\u6b63\u5728\u8fdb\u884c\u4e2d\u7684\u54cd\u5e94\u751f\u6210\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u5ba2\u6237\u7aef\u751f\u6210\u7684\u4e8b\u4ef6\u6807\u8bc6\u7b26 event_567 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.cancel"},{"location":"openai-realtime/#_29","title":"\u670d\u52a1\u7aef\u4e8b\u4ef6","text":""},{"location":"openai-realtime/#error","title":"error","text":"<p>\u5f53\u53d1\u751f\u9519\u8bef\u65f6\u8fd4\u56de\u7684\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32\u6570\u7ec4 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 [\"event_890\"] type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b error error.type \u5b57\u7b26\u4e32 \u5426 \u9519\u8bef\u7c7b\u578b invalid_request_error/server_error error.code \u5b57\u7b26\u4e32 \u5426 \u9519\u8bef\u4ee3\u7801 invalid_event error.message \u5b57\u7b26\u4e32 \u5426 \u4eba\u7c7b\u53ef\u8bfb\u7684\u9519\u8bef\u6d88\u606f \"The 'type' field is missing.\" error.param \u5b57\u7b26\u4e32 \u5426 \u4e0e\u9519\u8bef\u76f8\u5173\u7684\u53c2\u6570 null error.event_id \u5b57\u7b26\u4e32 \u5426 \u76f8\u5173\u4e8b\u4ef6\u7684ID event_567"},{"location":"openai-realtime/#conversationiteminput_audio_transcriptioncompleted","title":"conversation.item.input_audio_transcription.completed","text":"<p>\u5f53\u542f\u7528\u8f93\u5165\u97f3\u9891\u8f6c\u5199\u529f\u80fd\u5e76\u4e14\u8f6c\u5199\u6210\u529f\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_2122 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b conversation.item.input_audio_transcription.completed item_id \u5b57\u7b26\u4e32 \u5426 \u7528\u6237\u6d88\u606f\u9879\u7684ID msg_003 content_index \u6574\u6570 \u5426 \u5305\u542b\u97f3\u9891\u7684\u5185\u5bb9\u90e8\u5206\u7684\u7d22\u5f15 0 transcript \u5b57\u7b26\u4e32 \u5426 \u8f6c\u5199\u7684\u6587\u672c\u5185\u5bb9 \"Hello, how are you?\""},{"location":"openai-realtime/#conversationiteminput_audio_transcriptionfailed","title":"conversation.item.input_audio_transcription.failed","text":"<p>\u5f53\u914d\u7f6e\u4e86\u8f93\u5165\u97f3\u9891\u8f6c\u5199\u529f\u80fd,\u4f46\u7528\u6237\u6d88\u606f\u7684\u8f6c\u5199\u8bf7\u6c42\u5931\u8d25\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_2324 type \u5b57\u7b26\u4e32\u6570\u7ec4 \u5426 \u4e8b\u4ef6\u7c7b\u578b [\"conversation.item.input_audio_transcription.failed\"] item_id \u5b57\u7b26\u4e32 \u5426 \u7528\u6237\u6d88\u606f\u9879\u7684ID msg_003 content_index \u6574\u6570 \u5426 \u5305\u542b\u97f3\u9891\u7684\u5185\u5bb9\u90e8\u5206\u7684\u7d22\u5f15 0 error.type \u5b57\u7b26\u4e32 \u5426 \u9519\u8bef\u7c7b\u578b transcription_error error.code \u5b57\u7b26\u4e32 \u5426 \u9519\u8bef\u4ee3\u7801 audio_unintelligible error.message \u5b57\u7b26\u4e32 \u5426 \u4eba\u7c7b\u53ef\u8bfb\u7684\u9519\u8bef\u6d88\u606f \"The audio could not be transcribed.\" error.param \u5b57\u7b26\u4e32 \u5426 \u4e0e\u9519\u8bef\u76f8\u5173\u7684\u53c2\u6570 null"},{"location":"openai-realtime/#conversationitemtruncated","title":"conversation.item.truncated","text":"<p>\u5f53\u5ba2\u6237\u7aef\u622a\u65ad\u4e86\u4e4b\u524d\u7684\u52a9\u624b\u97f3\u9891\u6d88\u606f\u9879\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_2526 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b conversation.item.truncated item_id \u5b57\u7b26\u4e32 \u5426 \u88ab\u622a\u65ad\u7684\u52a9\u624b\u6d88\u606f\u9879\u7684ID msg_004 content_index \u6574\u6570 \u5426 \u88ab\u622a\u65ad\u7684\u5185\u5bb9\u90e8\u5206\u7684\u7d22\u5f15 0 audio_end_ms \u6574\u6570 \u5426 \u97f3\u9891\u88ab\u622a\u65ad\u7684\u65f6\u95f4\u70b9(\u6beb\u79d2) 1500"},{"location":"openai-realtime/#conversationitemdeleted","title":"conversation.item.deleted","text":"<p>\u5f53\u5bf9\u8bdd\u4e2d\u7684\u67d0\u4e2a\u9879\u76ee\u88ab\u5220\u9664\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_2728 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b conversation.item.deleted item_id \u5b57\u7b26\u4e32 \u5426 \u88ab\u5220\u9664\u7684\u5bf9\u8bdd\u9879\u7684ID msg_005"},{"location":"openai-realtime/#input_audio_buffercommitted","title":"input_audio_buffer.committed","text":"<p>\u5f53\u97f3\u9891\u7f13\u51b2\u533a\u4e2d\u7684\u6570\u636e\u88ab\u63d0\u4ea4\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_1121 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b input_audio_buffer.committed previous_item_id \u5b57\u7b26\u4e32 \u5426 \u65b0\u5bf9\u8bdd\u9879\u5c06\u63d2\u5165\u5728\u6b64ID\u5bf9\u5e94\u7684\u5bf9\u8bdd\u9879\u4e4b\u540e msg_001 item_id \u5b57\u7b26\u4e32 \u5426 \u5c06\u8981\u521b\u5efa\u7684\u7528\u6237\u6d88\u606f\u9879\u7684ID msg_002"},{"location":"openai-realtime/#input_audio_buffercleared","title":"input_audio_buffer.cleared","text":"<p>\u5f53\u5ba2\u6237\u7aef\u6e05\u7a7a\u8f93\u5165\u97f3\u9891\u7f13\u51b2\u533a\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_1314 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b input_audio_buffer.cleared"},{"location":"openai-realtime/#input_audio_bufferspeech_started","title":"input_audio_buffer.speech_started","text":"<p>\u5728\u670d\u52a1\u5668\u8bed\u97f3\u68c0\u6d4b\u6a21\u5f0f\u4e0b\uff0c\u5f53\u68c0\u6d4b\u5230\u8bed\u97f3\u8f93\u5165\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_1516 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b input_audio_buffer.speech_started audio_start_ms \u6574\u6570 \u5426 \u4ece\u4f1a\u8bdd\u5f00\u59cb\u5230\u68c0\u6d4b\u5230\u8bed\u97f3\u7684\u6beb\u79d2\u6570 1000 item_id \u5b57\u7b26\u4e32 \u5426 \u8bed\u97f3\u505c\u6b62\u65f6\u5c06\u521b\u5efa\u7684\u7528\u6237\u6d88\u606f\u9879\u7684ID msg_003"},{"location":"openai-realtime/#input_audio_bufferspeech_stopped","title":"input_audio_buffer.speech_stopped","text":"<p>\u5728\u670d\u52a1\u5668\u8bed\u97f3\u68c0\u6d4b\u6a21\u5f0f\u4e0b\uff0c\u5f53\u68c0\u6d4b\u5230\u8bed\u97f3\u8f93\u5165\u505c\u6b62\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_1718 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b input_audio_buffer.speech_stopped audio_start_ms \u6574\u6570 \u5426 \u4ece\u4f1a\u8bdd\u5f00\u59cb\u5230\u68c0\u6d4b\u5230\u8bed\u97f3\u505c\u6b62\u7684\u6beb\u79d2\u6570 2000 item_id \u5b57\u7b26\u4e32 \u5426 \u5c06\u8981\u521b\u5efa\u7684\u7528\u6237\u6d88\u606f\u9879\u7684ID msg_003"},{"location":"openai-realtime/#responsecreated","title":"response.created","text":"<p>\u5f53\u521b\u5efa\u65b0\u7684\u54cd\u5e94\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_2930 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.created response.id \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u7684\u552f\u4e00\u6807\u8bc6\u7b26 resp_001 response.object \u5b57\u7b26\u4e32 \u5426 \u5bf9\u8c61\u7c7b\u578b realtime.response response.status \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u7684\u72b6\u6001 in_progress response.status_details \u5bf9\u8c61 \u5426 \u72b6\u6001\u7684\u9644\u52a0\u8be6\u7ec6\u4fe1\u606f null response.output \u5b57\u7b26\u4e32\u6570\u7ec4 \u5426 \u54cd\u5e94\u751f\u6210\u7684\u8f93\u51fa\u9879\u5217\u8868 [\"[]\"] response.usage \u5bf9\u8c61 \u5426 \u54cd\u5e94\u7684\u4f7f\u7528\u7edf\u8ba1\u4fe1\u606f null"},{"location":"openai-realtime/#responsedone","title":"response.done","text":"<p>\u5f53\u54cd\u5e94\u5b8c\u6210\u6d41\u5f0f\u4f20\u8f93\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_3132 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.done response.id \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u7684\u552f\u4e00\u6807\u8bc6\u7b26 resp_001 response.object \u5b57\u7b26\u4e32 \u5426 \u5bf9\u8c61\u7c7b\u578b realtime.response response.status \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u7684\u6700\u7ec8\u72b6\u6001 completed/cancelled/failed/incomplete response.status_details \u5bf9\u8c61 \u5426 \u72b6\u6001\u7684\u9644\u52a0\u8be6\u7ec6\u4fe1\u606f null response.output \u5b57\u7b26\u4e32\u6570\u7ec4 \u5426 \u54cd\u5e94\u751f\u6210\u7684\u8f93\u51fa\u9879\u5217\u8868 [\"[...]\"] response.usage.total_tokens \u6574\u6570 \u5426 \u603btoken\u6570 50 response.usage.input_tokens \u6574\u6570 \u5426 \u8f93\u5165token\u6570 20 response.usage.output_tokens \u6574\u6570 \u5426 \u8f93\u51fatoken\u6570 30"},{"location":"openai-realtime/#responseoutput_itemadded","title":"response.output_item.added","text":"<p>\u5f53\u54cd\u5e94\u751f\u6210\u8fc7\u7a0b\u4e2d\u521b\u5efa\u65b0\u7684\u8f93\u51fa\u9879\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_3334 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.output_item.added response_id \u5b57\u7b26\u4e32 \u5426 \u8f93\u51fa\u9879\u6240\u5c5e\u7684\u54cd\u5e94ID resp_001 output_index \u5b57\u7b26\u4e32 \u5426 \u8f93\u51fa\u9879\u5728\u54cd\u5e94\u4e2d\u7684\u7d22\u5f15 0 item.id \u5b57\u7b26\u4e32 \u5426 \u8f93\u51fa\u9879\u7684\u552f\u4e00\u6807\u8bc6\u7b26 msg_007 item.object \u5b57\u7b26\u4e32 \u5426 \u5bf9\u8c61\u7c7b\u578b realtime.item item.type \u5b57\u7b26\u4e32 \u5426 \u8f93\u51fa\u9879\u7c7b\u578b message/function_call/function_call_output item.status \u5b57\u7b26\u4e32 \u5426 \u8f93\u51fa\u9879\u72b6\u6001 in_progress/completed item.role \u5b57\u7b26\u4e32 \u5426 \u4e0e\u8f93\u51fa\u9879\u5173\u8054\u7684\u89d2\u8272 assistant item.content \u6570\u7ec4 \u5426 \u8f93\u51fa\u9879\u7684\u5185\u5bb9 [\"type\", \"text\", \"audio\", \"transcript\"]"},{"location":"openai-realtime/#responseoutput_itemdone","title":"response.output_item.done","text":"<p>\u5f53\u8f93\u51fa\u9879\u5b8c\u6210\u6d41\u5f0f\u4f20\u8f93\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_3536 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.output_item.done response_id \u5b57\u7b26\u4e32 \u5426 \u8f93\u51fa\u9879\u6240\u5c5e\u7684\u54cd\u5e94ID resp_001 output_index \u5b57\u7b26\u4e32 \u5426 \u8f93\u51fa\u9879\u5728\u54cd\u5e94\u4e2d\u7684\u7d22\u5f15 0 item.id \u5b57\u7b26\u4e32 \u5426 \u8f93\u51fa\u9879\u7684\u552f\u4e00\u6807\u8bc6\u7b26 msg_007 item.object \u5b57\u7b26\u4e32 \u5426 \u5bf9\u8c61\u7c7b\u578b realtime.item item.type \u5b57\u7b26\u4e32 \u5426 \u8f93\u51fa\u9879\u7c7b\u578b message/function_call/function_call_output item.status \u5b57\u7b26\u4e32 \u5426 \u8f93\u51fa\u9879\u7684\u6700\u7ec8\u72b6\u6001 completed/incomplete item.role \u5b57\u7b26\u4e32 \u5426 \u4e0e\u8f93\u51fa\u9879\u5173\u8054\u7684\u89d2\u8272 assistant item.content \u6570\u7ec4 \u5426 \u8f93\u51fa\u9879\u7684\u5185\u5bb9 [\"type\", \"text\", \"audio\", \"transcript\"]"},{"location":"openai-realtime/#responsecontent_partadded","title":"response.content_part.added","text":"<p>\u5f53\u54cd\u5e94\u751f\u6210\u8fc7\u7a0b\u4e2d\u5411\u52a9\u624b\u6d88\u606f\u9879\u6dfb\u52a0\u65b0\u7684\u5185\u5bb9\u90e8\u5206\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_3738 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.content_part.added response_id \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u7684ID resp_001 item_id \u5b57\u7b26\u4e32 \u5426 \u6dfb\u52a0\u5185\u5bb9\u90e8\u5206\u7684\u6d88\u606f\u9879ID msg_007 output_index \u6574\u6570 \u5426 \u8f93\u51fa\u9879\u5728\u54cd\u5e94\u4e2d\u7684\u7d22\u5f15 0 content_index \u6574\u6570 \u5426 \u5185\u5bb9\u90e8\u5206\u5728\u6d88\u606f\u9879\u5185\u5bb9\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15 0 part.type \u5b57\u7b26\u4e32 \u5426 \u5185\u5bb9\u7c7b\u578b text/audio part.text \u5b57\u7b26\u4e32 \u5426 \u6587\u672c\u5185\u5bb9 \"Hello\" part.audio \u5b57\u7b26\u4e32 \u5426 Base64\u7f16\u7801\u7684\u97f3\u9891\u6570\u636e \"base64_encoded_audio_data\" part.transcript \u5b57\u7b26\u4e32 \u5426 \u97f3\u9891\u7684\u8f6c\u5199\u6587\u672c \"Hello\""},{"location":"openai-realtime/#responsecontent_partdone","title":"response.content_part.done","text":"<p>\u5f53\u52a9\u624b\u6d88\u606f\u9879\u4e2d\u7684\u5185\u5bb9\u90e8\u5206\u5b8c\u6210\u6d41\u5f0f\u4f20\u8f93\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_3940 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.content_part.done response_id \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u7684ID resp_001 item_id \u5b57\u7b26\u4e32 \u5426 \u6dfb\u52a0\u5185\u5bb9\u90e8\u5206\u7684\u6d88\u606f\u9879ID msg_007 output_index \u6574\u6570 \u5426 \u8f93\u51fa\u9879\u5728\u54cd\u5e94\u4e2d\u7684\u7d22\u5f15 0 content_index \u6574\u6570 \u5426 \u5185\u5bb9\u90e8\u5206\u5728\u6d88\u606f\u9879\u5185\u5bb9\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15 0 part.type \u5b57\u7b26\u4e32 \u5426 \u5185\u5bb9\u7c7b\u578b text/audio part.text \u5b57\u7b26\u4e32 \u5426 \u6587\u672c\u5185\u5bb9 \"Hello\" part.audio \u5b57\u7b26\u4e32 \u5426 Base64\u7f16\u7801\u7684\u97f3\u9891\u6570\u636e \"base64_encoded_audio_data\" part.transcript \u5b57\u7b26\u4e32 \u5426 \u97f3\u9891\u7684\u8f6c\u5199\u6587\u672c \"Hello\""},{"location":"openai-realtime/#responsetextdelta","title":"response.text.delta","text":"<p>\u5f53\"text\"\u7c7b\u578b\u5185\u5bb9\u90e8\u5206\u7684\u6587\u672c\u503c\u66f4\u65b0\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_4142 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.text.delta response_id \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u7684ID resp_001 item_id \u5b57\u7b26\u4e32 \u5426 \u6d88\u606f\u9879\u7684ID msg_007 output_index \u6574\u6570 \u5426 \u8f93\u51fa\u9879\u5728\u54cd\u5e94\u4e2d\u7684\u7d22\u5f15 0 content_index \u6574\u6570 \u5426 \u5185\u5bb9\u90e8\u5206\u5728\u6d88\u606f\u9879\u5185\u5bb9\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15 0 delta \u5b57\u7b26\u4e32 \u5426 \u6587\u672c\u589e\u91cf\u66f4\u65b0\u5185\u5bb9 \"Sure, I can h\""},{"location":"openai-realtime/#responsetextdone","title":"response.text.done","text":"<p>\u5f53\"text\"\u7c7b\u578b\u5185\u5bb9\u90e8\u5206\u7684\u6587\u672c\u6d41\u5f0f\u4f20\u8f93\u5b8c\u6210\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_4344 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.text.done response_id \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u7684ID resp_001 item_id \u5b57\u7b26\u4e32 \u5426 \u6d88\u606f\u9879\u7684ID msg_007 output_index \u6574\u6570 \u5426 \u8f93\u51fa\u9879\u5728\u54cd\u5e94\u4e2d\u7684\u7d22\u5f15 0 content_index \u6574\u6570 \u5426 \u5185\u5bb9\u90e8\u5206\u5728\u6d88\u606f\u9879\u5185\u5bb9\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15 0 delta \u5b57\u7b26\u4e32 \u5426 \u6700\u7ec8\u7684\u5b8c\u6574\u6587\u672c\u5185\u5bb9 \"Sure, I can help with that.\""},{"location":"openai-realtime/#responseaudio_transcriptdelta","title":"response.audio_transcript.delta","text":"<p>\u5f53\u6a21\u578b\u751f\u6210\u7684\u97f3\u9891\u8f93\u51fa\u8f6c\u5199\u5185\u5bb9\u66f4\u65b0\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_4546 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.audio_transcript.delta response_id \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u7684ID resp_001 item_id \u5b57\u7b26\u4e32 \u5426 \u6d88\u606f\u9879\u7684ID msg_008 output_index \u6574\u6570 \u5426 \u8f93\u51fa\u9879\u5728\u54cd\u5e94\u4e2d\u7684\u7d22\u5f15 0 content_index \u6574\u6570 \u5426 \u5185\u5bb9\u90e8\u5206\u5728\u6d88\u606f\u9879\u5185\u5bb9\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15 0 delta \u5b57\u7b26\u4e32 \u5426 \u8f6c\u5199\u6587\u672c\u7684\u589e\u91cf\u66f4\u65b0\u5185\u5bb9 \"Hello, how can I a\""},{"location":"openai-realtime/#responseaudio_transcriptdone","title":"response.audio_transcript.done","text":"<p>\u5f53\u6a21\u578b\u751f\u6210\u7684\u97f3\u9891\u8f93\u51fa\u8f6c\u5199\u5b8c\u6210\u6d41\u5f0f\u4f20\u8f93\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_4748 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.audio_transcript.done response_id \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u7684ID resp_001 item_id \u5b57\u7b26\u4e32 \u5426 \u6d88\u606f\u9879\u7684ID msg_008 output_index \u6574\u6570 \u5426 \u8f93\u51fa\u9879\u5728\u54cd\u5e94\u4e2d\u7684\u7d22\u5f15 0 content_index \u6574\u6570 \u5426 \u5185\u5bb9\u90e8\u5206\u5728\u6d88\u606f\u9879\u5185\u5bb9\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15 0 transcript \u5b57\u7b26\u4e32 \u5426 \u97f3\u9891\u7684\u6700\u7ec8\u5b8c\u6574\u8f6c\u5199\u6587\u672c \"Hello, how can I assist you today?\""},{"location":"openai-realtime/#responseaudiodelta","title":"response.audio.delta","text":"<p>\u5f53\u6a21\u578b\u751f\u6210\u7684\u97f3\u9891\u5185\u5bb9\u66f4\u65b0\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_4950 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.audio.delta response_id \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u7684ID resp_001 item_id \u5b57\u7b26\u4e32 \u5426 \u6d88\u606f\u9879\u7684ID msg_008 output_index \u6574\u6570 \u5426 \u8f93\u51fa\u9879\u5728\u54cd\u5e94\u4e2d\u7684\u7d22\u5f15 0 content_index \u6574\u6570 \u5426 \u5185\u5bb9\u90e8\u5206\u5728\u6d88\u606f\u9879\u5185\u5bb9\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15 0 delta \u5b57\u7b26\u4e32 \u5426 Base64\u7f16\u7801\u7684\u97f3\u9891\u6570\u636e\u589e\u91cf \"Base64EncodedAudioDelta\""},{"location":"openai-realtime/#responseaudiodone","title":"response.audio.done","text":"<p>\u5f53\u6a21\u578b\u751f\u6210\u7684\u97f3\u9891\u5b8c\u6210\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_5152 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.audio.done response_id \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u7684ID resp_001 item_id \u5b57\u7b26\u4e32 \u5426 \u6d88\u606f\u9879\u7684ID msg_008 output_index \u6574\u6570 \u5426 \u8f93\u51fa\u9879\u5728\u54cd\u5e94\u4e2d\u7684\u7d22\u5f15 0 content_index \u6574\u6570 \u5426 \u5185\u5bb9\u90e8\u5206\u5728\u6d88\u606f\u9879\u5185\u5bb9\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15 0"},{"location":"openai-realtime/#_30","title":"\u51fd\u6570\u8c03\u7528","text":""},{"location":"openai-realtime/#responsefunction_call_argumentsdelta","title":"response.function_call_arguments.delta","text":"<p>\u5f53\u6a21\u578b\u751f\u6210\u7684\u51fd\u6570\u8c03\u7528\u53c2\u6570\u66f4\u65b0\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_5354 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.function_call_arguments.delta response_id \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u7684ID resp_002 item_id \u5b57\u7b26\u4e32 \u5426 \u6d88\u606f\u9879\u7684ID fc_001 output_index \u6574\u6570 \u5426 \u8f93\u51fa\u9879\u5728\u54cd\u5e94\u4e2d\u7684\u7d22\u5f15 0 call_id \u5b57\u7b26\u4e32 \u5426 \u51fd\u6570\u8c03\u7528\u7684ID call_001 delta \u5b57\u7b26\u4e32 \u5426 JSON\u683c\u5f0f\u7684\u51fd\u6570\u8c03\u7528\u53c2\u6570\u589e\u91cf \"{\\\"location\\\": \\\"San\\\"\""},{"location":"openai-realtime/#responsefunction_call_argumentsdone","title":"response.function_call_arguments.done","text":"<p>\u5f53\u6a21\u578b\u751f\u6210\u7684\u51fd\u6570\u8c03\u7528\u53c2\u6570\u5b8c\u6210\u6d41\u5f0f\u4f20\u8f93\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_5556 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b response.function_call_arguments.done response_id \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u7684ID resp_002 item_id \u5b57\u7b26\u4e32 \u5426 \u6d88\u606f\u9879\u7684ID fc_001 output_index \u6574\u6570 \u5426 \u8f93\u51fa\u9879\u5728\u54cd\u5e94\u4e2d\u7684\u7d22\u5f15 0 call_id \u5b57\u7b26\u4e32 \u5426 \u51fd\u6570\u8c03\u7528\u7684ID call_001 arguments \u5b57\u7b26\u4e32 \u5426 \u6700\u7ec8\u7684\u5b8c\u6574\u51fd\u6570\u8c03\u7528\u53c2\u6570(JSON\u683c\u5f0f) \"{\\\"location\\\": \\\"San Francisco\\\"}\""},{"location":"openai-realtime/#_31","title":"\u5176\u4ed6\u72b6\u6001\u66f4\u65b0","text":""},{"location":"openai-realtime/#rate_limitsupdated","title":"rate_limits.updated","text":"<p>\u5728\u6bcf\u4e2a \"response.done\" \u4e8b\u4ef6\u4e4b\u540e\u89e6\u53d1,\u7528\u4e8e\u6307\u793a\u66f4\u65b0\u540e\u7684\u901f\u7387\u9650\u5236\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_5758 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b rate_limits.updated rate_limits \u5bf9\u8c61\u6570\u7ec4 \u5426 \u901f\u7387\u9650\u5236\u4fe1\u606f\u5217\u8868 [{\"name\": \"requests_per_min\", \"limit\": 60, \"remaining\": 45, \"reset_seconds\": 35}]"},{"location":"openai-realtime/#conversationcreated","title":"conversation.created","text":"<p>\u5f53\u5bf9\u8bdd\u521b\u5efa\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_9101 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b conversation.created conversation \u5bf9\u8c61 \u5426 \u5bf9\u8bdd\u8d44\u6e90\u5bf9\u8c61 {\"id\": \"conv_001\", \"object\": \"realtime.conversation\"}"},{"location":"openai-realtime/#conversationitemcreated","title":"conversation.item.created","text":"<p>\u5f53\u5bf9\u8bdd\u9879\u521b\u5efa\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_1920 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b conversation.item.created previous_item_id \u5b57\u7b26\u4e32 \u5426 \u524d\u4e00\u4e2a\u5bf9\u8bdd\u9879\u7684ID msg_002 item \u5bf9\u8c61 \u5426 \u5bf9\u8bdd\u9879\u5bf9\u8c61 {\"id\": \"msg_003\", \"object\": \"realtime.item\", \"type\": \"message\", \"status\": \"completed\", \"role\": \"user\", \"content\": [{\"type\": \"text\", \"text\": \"Hello\"}]}"},{"location":"openai-realtime/#sessioncreated","title":"session.created","text":"<p>\u5f53\u4f1a\u8bdd\u521b\u5efa\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_1234 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b session.created session \u5bf9\u8c61 \u5426 \u4f1a\u8bdd\u5bf9\u8c61 {\"id\": \"sess_001\", \"object\": \"realtime.session\", \"model\": \"gpt-4\", \"modalities\": [\"text\", \"audio\"]}"},{"location":"openai-realtime/#sessionupdated","title":"session.updated","text":"<p>\u5f53\u4f1a\u8bdd\u66f4\u65b0\u65f6\u8fd4\u56de\u6b64\u4e8b\u4ef6\u3002</p> \u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u5426 \u670d\u52a1\u7aef\u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_5678 type \u5b57\u7b26\u4e32 \u5426 \u4e8b\u4ef6\u7c7b\u578b session.updated session \u5bf9\u8c61 \u5426 \u66f4\u65b0\u540e\u7684\u4f1a\u8bdd\u5bf9\u8c61 {\"id\": \"sess_001\", \"object\": \"realtime.session\", \"model\": \"gpt-4\", \"modalities\": [\"text\", \"audio\"]}"},{"location":"openai-realtime/#_32","title":"\u901f\u7387\u9650\u5236\u4e8b\u4ef6\u53c2\u6570\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c name \u5b57\u7b26\u4e32 \u662f \u9650\u5236\u540d\u79f0 requests_per_min limit \u6574\u6570 \u662f \u9650\u5236\u503c 60 remaining \u6574\u6570 \u662f \u5269\u4f59\u53ef\u7528\u91cf 45 reset_seconds \u6574\u6570 \u662f \u91cd\u7f6e\u65f6\u95f4(\u79d2) 35"},{"location":"openai-realtime/#_33","title":"\u51fd\u6570\u8c03\u7528\u53c2\u6570\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c type \u5b57\u7b26\u4e32 \u662f \u51fd\u6570\u7c7b\u578b function name \u5b57\u7b26\u4e32 \u662f \u51fd\u6570\u540d\u79f0 get_weather description \u5b57\u7b26\u4e32 \u5426 \u51fd\u6570\u63cf\u8ff0 Get the current weather parameters \u5bf9\u8c61 \u662f \u51fd\u6570\u53c2\u6570\u5b9a\u4e49 {\"type\": \"object\", \"properties\": {...}}"},{"location":"openai-realtime/#_34","title":"\u97f3\u9891\u683c\u5f0f\u53c2\u6570\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u8bf4\u660e \u53ef\u9009\u503c sample_rate \u6574\u6570 \u91c7\u6837\u7387 8000, 16000, 24000, 44100, 48000 channels \u6574\u6570 \u58f0\u9053\u6570 1 (\u5355\u58f0\u9053), 2 (\u7acb\u4f53\u58f0) bits_per_sample \u6574\u6570 \u91c7\u6837\u4f4d\u6570 16 (pcm16), 8 (g711) encoding \u5b57\u7b26\u4e32 \u7f16\u7801\u65b9\u5f0f pcm16, g711_ulaw, g711_alaw"},{"location":"openai-realtime/#_35","title":"\u8bed\u97f3\u68c0\u6d4b\u53c2\u6570\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c \u8303\u56f4 threshold \u6d6e\u70b9\u6570 VAD \u6fc0\u6d3b\u9608\u503c 0.5 0.0-1.0 prefix_padding_ms \u6574\u6570 \u8bed\u97f3\u524d\u7f00\u586b\u5145(\u6beb\u79d2) 500 0-5000 silence_duration_ms \u6574\u6570 \u9759\u97f3\u68c0\u6d4b\u65f6\u957f(\u6beb\u79d2) 1000 100-10000"},{"location":"openai-realtime/#_36","title":"\u5de5\u5177\u9009\u62e9\u53c2\u6570\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u8bf4\u660e \u53ef\u9009\u503c tool_choice \u5b57\u7b26\u4e32 \u5de5\u5177\u9009\u62e9\u65b9\u5f0f auto, none, required tools \u6570\u7ec4 \u53ef\u7528\u5de5\u5177\u5217\u8868 [{type, name, description, parameters}]"},{"location":"openai-realtime/#_37","title":"\u6a21\u578b\u914d\u7f6e\u53c2\u6570\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u8bf4\u660e \u8303\u56f4/\u53ef\u9009\u503c \u9ed8\u8ba4\u503c temperature \u6d6e\u70b9\u6570 \u91c7\u6837\u6e29\u5ea6 0.0-2.0 1.0 max_output_tokens \u6574\u6570/\u5b57\u7b26\u4e32 \u6700\u5927\u8f93\u51fa\u957f\u5ea6 1-4096/\"inf\" \"inf\" modalities \u5b57\u7b26\u4e32\u6570\u7ec4 \u54cd\u5e94\u6a21\u6001 [\"text\", \"audio\"] [\"text\"] voice \u5b57\u7b26\u4e32 \u8bed\u97f3\u7c7b\u578b alloy, echo, shimmer alloy"},{"location":"openai-realtime/#_38","title":"\u4e8b\u4ef6\u901a\u7528\u53c2\u6570\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u5fc5\u9700 \u8bf4\u660e \u793a\u4f8b\u503c event_id \u5b57\u7b26\u4e32 \u662f \u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26 event_123 type \u5b57\u7b26\u4e32 \u662f \u4e8b\u4ef6\u7c7b\u578b session.update timestamp \u6574\u6570 \u5426 \u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4\u6233(\u6beb\u79d2) 1677649363000"},{"location":"openai-realtime/#_39","title":"\u4f1a\u8bdd\u72b6\u6001\u53c2\u6570\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u8bf4\u660e \u53ef\u9009\u503c status \u5b57\u7b26\u4e32 \u4f1a\u8bdd\u72b6\u6001 active, ended, error error \u5bf9\u8c61 \u9519\u8bef\u4fe1\u606f {\"type\": \"error_type\", \"message\": \"error message\"} metadata \u5bf9\u8c61 \u4f1a\u8bdd\u5143\u6570\u636e {\"client_id\": \"web\", \"session_type\": \"chat\"}"},{"location":"openai-realtime/#_40","title":"\u5bf9\u8bdd\u9879\u72b6\u6001\u53c2\u6570\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u8bf4\u660e \u53ef\u9009\u503c status \u5b57\u7b26\u4e32 \u5bf9\u8bdd\u9879\u72b6\u6001 completed, in_progress, incomplete role \u5b57\u7b26\u4e32 \u53d1\u9001\u8005\u89d2\u8272 user, assistant, system type \u5b57\u7b26\u4e32 \u5bf9\u8bdd\u9879\u7c7b\u578b message, function_call, function_call_output"},{"location":"openai-realtime/#_41","title":"\u5185\u5bb9\u7c7b\u578b\u53c2\u6570\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u8bf4\u660e \u53ef\u9009\u503c type \u5b57\u7b26\u4e32 \u5185\u5bb9\u7c7b\u578b text, audio, transcript format \u5b57\u7b26\u4e32 \u5185\u5bb9\u683c\u5f0f plain, markdown, html encoding \u5b57\u7b26\u4e32 \u7f16\u7801\u65b9\u5f0f utf-8, base64"},{"location":"openai-realtime/#_42","title":"\u54cd\u5e94\u72b6\u6001\u53c2\u6570\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u8bf4\u660e \u53ef\u9009\u503c status \u5b57\u7b26\u4e32 \u54cd\u5e94\u72b6\u6001 completed, cancelled, failed, incomplete status_details \u5bf9\u8c61 \u72b6\u6001\u8be6\u60c5 {\"reason\": \"user_cancelled\"} usage \u5bf9\u8c61 \u4f7f\u7528\u7edf\u8ba1 {\"total_tokens\": 50, \"input_tokens\": 20, \"output_tokens\": 30}"},{"location":"openai-realtime/#_43","title":"\u97f3\u9891\u8f6c\u5199\u53c2\u6570\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u8bf4\u660e \u793a\u4f8b\u503c enabled \u5e03\u5c14\u503c \u662f\u5426\u542f\u7528\u8f6c\u5199 true model \u5b57\u7b26\u4e32 \u8f6c\u5199\u6a21\u578b whisper-1 language \u5b57\u7b26\u4e32 \u8f6c\u5199\u8bed\u8a00 en, zh, auto prompt \u5b57\u7b26\u4e32 \u8f6c\u5199\u63d0\u793a\u8bcd \"Transcript of a conversation\""},{"location":"openai-realtime/#_44","title":"\u97f3\u9891\u6d41\u53c2\u6570\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u8bf4\u660e \u53ef\u9009\u503c chunk_size \u6574\u6570 \u97f3\u9891\u5757\u5927\u5c0f(\u5b57\u8282) 1024, 2048, 4096 latency \u5b57\u7b26\u4e32 \u5ef6\u8fdf\u6a21\u5f0f low, balanced, high compression \u5b57\u7b26\u4e32 \u538b\u7f29\u65b9\u5f0f none, opus, mp3"},{"location":"openai-realtime/#webrtc_3","title":"WebRTC \u914d\u7f6e\u53c2\u6570\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c ice_servers \u6570\u7ec4 ICE \u670d\u52a1\u5668\u5217\u8868 [{\"urls\": \"stun:stun.l.google.com:19302\"}] audio_constraints \u5bf9\u8c61 \u97f3\u9891\u7ea6\u675f {\"echoCancellation\": true} connection_timeout \u6574\u6570 \u8fde\u63a5\u8d85\u65f6(\u6beb\u79d2) 30000"},{"location":"openai-responses/","title":"OpenAI \u54cd\u5e94\u683c\u5f0f\uff08Responses\uff09","text":"<p>\u5b98\u65b9\u6587\u6863</p> <p>OpenAI Responses</p>"},{"location":"openai-responses/#_1","title":"\ud83d\udcdd \u7b80\u4ecb","text":"<p>OpenAI \u6700\u5148\u8fdb\u7684\u6a21\u578b\u54cd\u5e94\u63a5\u53e3\u3002\u652f\u6301\u6587\u672c\u548c\u56fe\u50cf\u8f93\u5165\uff0c\u4ee5\u53ca\u6587\u672c\u8f93\u51fa\u3002\u521b\u5efa\u4e0e\u6a21\u578b\u7684\u6709\u72b6\u6001\u4ea4\u4e92\uff0c\u5c06\u5148\u524d\u54cd\u5e94\u7684\u8f93\u51fa\u7528\u4f5c\u8f93\u5165\u3002\u901a\u8fc7\u6587\u4ef6\u641c\u7d22\u3001\u7f51\u7edc\u641c\u7d22\u3001\u8ba1\u7b97\u673a\u4f7f\u7528\u7b49\u5185\u7f6e\u5de5\u5177\u6269\u5c55\u6a21\u578b\u7684\u80fd\u529b\u3002\u4f7f\u7528\u51fd\u6570\u8c03\u7528\u5141\u8bb8\u6a21\u578b\u8bbf\u95ee\u5916\u90e8\u7cfb\u7edf\u548c\u6570\u636e\u3002</p> <p>\u76f8\u5173\u6307\u5357\u53ef\u53c2\u9605OpenAI\u5b98\u7f51\uff1aResponses</p>"},{"location":"openai-responses/#_2","title":"\ud83d\udca1 \u8bf7\u6c42\u793a\u4f8b","text":""},{"location":"openai-responses/#_3","title":"\u57fa\u7840\u6587\u672c\u54cd\u5e94 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/responses \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"gpt-4.1\",\n    \"input\": \"\u8bb2\u4e00\u4e2a\u4e09\u53e5\u8bdd\u7684\u5173\u4e8e\u72ec\u89d2\u517d\u7684\u7761\u524d\u6545\u4e8b\u3002\"\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"id\": \"resp_67ccd2bed1ec8190b14f964abc0542670bb6a6b452d3795b\",\n  \"object\": \"response\",\n  \"created_at\": 1741476542,\n  \"status\": \"completed\",\n  \"error\": null,\n  \"incomplete_details\": null,\n  \"instructions\": null,\n  \"max_output_tokens\": null,\n  \"model\": \"gpt-4.1\",\n  \"output\": [\n    {\n      \"type\": \"message\",\n      \"id\": \"msg_67ccd2bf17f0819081ff3bb2cf6508e60bb6a6b452d3795b\",\n      \"status\": \"completed\",\n      \"role\": \"assistant\",\n      \"content\": [\n        {\n          \"type\": \"output_text\",\n          \"text\": \"\u5728\u4e00\u4e2a\u5b81\u9759\u7684\u6708\u591c\u4e0b\uff0c\u4e00\u53ea\u540d\u53eb\u7490\u7c73\u5a1c\u7684\u72ec\u89d2\u517d\u53d1\u73b0\u4e86\u4e00\u4e2a\u5012\u6620\u7740\u661f\u661f\u7684\u9690\u85cf\u6c34\u6c60\u3002\u5f53\u5979\u5c06\u72ec\u89d2\u6d78\u5165\u6c34\u4e2d\u65f6\uff0c\u6c34\u6c60\u5f00\u59cb\u95ea\u70c1\uff0c\u663e\u73b0\u51fa\u901a\u5f80\u4e00\u4e2a\u6709\u7740\u65e0\u5c3d\u591c\u7a7a\u7684\u9b54\u6cd5\u4e16\u754c\u7684\u8def\u5f84\u3002\u5145\u6ee1\u597d\u5947\uff0c\u7490\u7c73\u5a1c\u4e3a\u6240\u6709\u505a\u68a6\u7684\u4eba\u8bb8\u4e0b\u613f\u671b\uff0c\u5e0c\u671b\u4ed6\u4eec\u80fd\u627e\u5230\u81ea\u5df1\u7684\u9690\u85cf\u9b54\u6cd5\uff0c\u5f53\u5979\u56de\u5934\u671b\u53bb\uff0c\u5979\u7684\u8e44\u5370\u50cf\u661f\u5c18\u4e00\u6837\u95ea\u70c1\u3002\",\n          \"annotations\": []\n        }\n      ]\n    }\n  ],\n  \"parallel_tool_calls\": true,\n  \"previous_response_id\": null,\n  \"reasoning\": {\n    \"effort\": null,\n    \"summary\": null\n  },\n  \"store\": true,\n  \"temperature\": 1.0,\n  \"text\": {\n    \"format\": {\n      \"type\": \"text\"\n    }\n  },\n  \"tool_choice\": \"auto\",\n  \"tools\": [],\n  \"top_p\": 1.0,\n  \"truncation\": \"disabled\",\n  \"usage\": {\n    \"input_tokens\": 36,\n    \"input_tokens_details\": {\n      \"cached_tokens\": 0\n    },\n    \"output_tokens\": 87,\n    \"output_tokens_details\": {\n      \"reasoning_tokens\": 0\n    },\n    \"total_tokens\": 123\n  },\n  \"user\": null,\n  \"metadata\": {}\n}\n</code></pre>"},{"location":"openai-responses/#_4","title":"\u56fe\u50cf\u5206\u6790\u54cd\u5e94 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/responses \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"gpt-4.1\",\n    \"input\": [\n      {\n        \"role\": \"user\",\n        \"content\": [\n          {\"type\": \"input_text\", \"text\": \"\u63cf\u8ff0\u8fd9\u5f20\u56fe\u7247\u4e2d\u7684\u5185\u5bb9\"},\n          {\n            \"type\": \"input_image\",\n            \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg/2560px-Gfp-wisconsin-madison-the-nature-boardwalk.jpg\"\n          }\n        ]\n      }\n    ]\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"id\": \"resp_67ccd3a9da748190baa7f1570fe91ac604becb25c45c1d41\",\n  \"object\": \"response\",\n  \"created_at\": 1741476777,\n  \"status\": \"completed\",\n  \"error\": null,\n  \"incomplete_details\": null,\n  \"instructions\": null,\n  \"max_output_tokens\": null,\n  \"model\": \"gpt-4.1\",\n  \"output\": [\n    {\n      \"type\": \"message\",\n      \"id\": \"msg_67ccd3acc8d48190a77525dc6de64b4104becb25c45c1d41\",\n      \"status\": \"completed\",\n      \"role\": \"assistant\",\n      \"content\": [\n        {\n          \"type\": \"output_text\",\n          \"text\": \"\u8fd9\u5f20\u56fe\u7247\u5c55\u793a\u4e86\u4e00\u6761\u6728\u5236\u6808\u9053\u6216\u5c0f\u5f84\u7a7f\u8fc7\u8302\u5bc6\u7684\u7eff\u8272\u8349\u5730\uff0c\u4e0a\u65b9\u662f\u70b9\u7f00\u7740\u51e0\u6735\u4e91\u7684\u84dd\u5929\u3002\u573a\u666f\u5448\u73b0\u51fa\u4e00\u4e2a\u5b81\u9759\u7684\u81ea\u7136\u533a\u57df\uff0c\u53ef\u80fd\u662f\u516c\u56ed\u6216\u81ea\u7136\u4fdd\u62a4\u533a\u3002\u80cc\u666f\u4e2d\u6709\u6811\u6728\u548c\u704c\u6728\u4e1b\u3002\u6574\u4e2a\u666f\u89c2\u5c55\u73b0\u51fa\u548c\u8c10\u7684\u81ea\u7136\u73af\u5883\uff0c\u6808\u9053\u4e3a\u6e38\u5ba2\u63d0\u4f9b\u4e86\u4e00\u6761\u7a7f\u8fc7\u6e7f\u5730\u6216\u8349\u539f\u800c\u4e0d\u5f71\u54cd\u5468\u56f4\u751f\u6001\u7cfb\u7edf\u7684\u8def\u5f84\u3002\",\n          \"annotations\": []\n        }\n      ]\n    }\n  ],\n  \"parallel_tool_calls\": true,\n  \"previous_response_id\": null,\n  \"reasoning\": {\n    \"effort\": null,\n    \"summary\": null\n  },\n  \"store\": true,\n  \"temperature\": 1.0,\n  \"text\": {\n    \"format\": {\n      \"type\": \"text\"\n    }\n  },\n  \"tool_choice\": \"auto\",\n  \"tools\": [],\n  \"top_p\": 1.0,\n  \"truncation\": \"disabled\",\n  \"usage\": {\n    \"input_tokens\": 328,\n    \"input_tokens_details\": {\n      \"cached_tokens\": 0\n    },\n    \"output_tokens\": 52,\n    \"output_tokens_details\": {\n      \"reasoning_tokens\": 0\n    },\n    \"total_tokens\": 380\n  },\n  \"user\": null,\n  \"metadata\": {}\n}\n</code></pre>"},{"location":"openai-responses/#_5","title":"\u7f51\u7edc\u641c\u7d22\u5de5\u5177 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/responses \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"gpt-4.1\",\n    \"tools\": [{ \"type\": \"web_search_preview\" }],\n    \"input\": \"\u4eca\u5929\u6709\u4ec0\u4e48\u79ef\u6781\u6b63\u9762\u7684\u65b0\u95fb?\"\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"id\": \"resp_67ccf18ef5fc8190b16dbee19bc54e5f087bb177ab789d5c\",\n  \"object\": \"response\",\n  \"created_at\": 1741484430,\n  \"status\": \"completed\",\n  \"error\": null,\n  \"incomplete_details\": null,\n  \"instructions\": null,\n  \"max_output_tokens\": null,\n  \"model\": \"gpt-4.1\",\n  \"output\": [\n    {\n      \"type\": \"web_search_call\",\n      \"id\": \"ws_67ccf18f64008190a39b619f4c8455ef087bb177ab789d5c\",\n      \"status\": \"completed\"\n    },\n    {\n      \"type\": \"message\",\n      \"id\": \"msg_67ccf190ca3881909d433c50b1f6357e087bb177ab789d5c\",\n      \"status\": \"completed\",\n      \"role\": \"assistant\",\n      \"content\": [\n        {\n          \"type\": \"output_text\",\n          \"text\": \"\u622a\u81f3\u4eca\u5929\uff0c2025\u5e743\u67089\u65e5\uff0c\u4e00\u5219\u503c\u5f97\u5173\u6ce8\u7684\u79ef\u6781\u65b0\u95fb\u662f\u4e2d\u56fd\u79d1\u5b66\u5bb6\u5728\u53ef\u518d\u751f\u80fd\u6e90\u9886\u57df\u53d6\u5f97\u91cd\u5927\u7a81\u7834\uff0c\u6210\u529f\u7814\u53d1\u51fa\u4e00\u79cd\u65b0\u578b\u9ad8\u6548\u592a\u9633\u80fd\u7535\u6c60\uff0c\u8f6c\u5316\u7387\u8fbe\u5230\u4e86\u521b\u7eaa\u5f55\u768435%\uff0c\u8fd9\u53ef\u80fd\u4f1a\u6781\u5927\u63a8\u52a8\u6e05\u6d01\u80fd\u6e90\u7684\u666e\u53ca\u548c\u5e94\u7528\u3002\u8fd9\u9879\u6280\u672f\u9884\u8ba1\u5c06\u4f7f\u592a\u9633\u80fd\u53d1\u7535\u6210\u672c\u964d\u4f4e\u7ea640%\uff0c\u4e3a\u5168\u7403\u51cf\u5c11\u78b3\u6392\u653e\u63d0\u4f9b\u4e86\u65b0\u7684\u89e3\u51b3\u65b9\u6848\u3002\",\n          \"annotations\": [\n            {\n              \"type\": \"url_citation\",\n              \"start_index\": 42,\n              \"end_index\": 100,\n              \"url\": \"https://example.com/renewable-energy-breakthrough/?utm_source=chatgpt.com\",\n              \"title\": \"\u4e2d\u56fd\u79d1\u5b66\u5bb6\u5728\u53ef\u518d\u751f\u80fd\u6e90\u9886\u57df\u53d6\u5f97\u91cd\u5927\u7a81\u7834\"\n            },\n            {\n              \"type\": \"url_citation\",\n              \"start_index\": 101,\n              \"end_index\": 150,\n              \"url\": \"https://example.com/solar-cell-efficiency-record/?utm_source=chatgpt.com\",\n              \"title\": \"\u65b0\u578b\u9ad8\u6548\u592a\u9633\u80fd\u7535\u6c60\u8f6c\u5316\u7387\u521b\u7eaa\u5f55\"\n            },\n            {\n              \"type\": \"url_citation\",\n              \"start_index\": 151,\n              \"end_index\": 200,\n              \"url\": \"https://example.com/clean-energy-cost-reduction/?utm_source=chatgpt.com\",\n              \"title\": \"\u592a\u9633\u80fd\u53d1\u7535\u6210\u672c\u6709\u671b\u964d\u4f4e40%\"\n            }\n          ]\n        }\n      ]\n    }\n  ],\n  \"parallel_tool_calls\": true,\n  \"previous_response_id\": null,\n  \"reasoning\": {\n    \"effort\": null,\n    \"summary\": null\n  },\n  \"store\": true,\n  \"temperature\": 1.0,\n  \"text\": {\n    \"format\": {\n      \"type\": \"text\"\n    }\n  },\n  \"tool_choice\": \"auto\",\n  \"tools\": [\n    {\n      \"type\": \"web_search_preview\",\n      \"domains\": [],\n      \"search_context_size\": \"medium\",\n      \"user_location\": {\n        \"type\": \"approximate\",\n        \"city\": null,\n        \"country\": \"US\",\n        \"region\": null,\n        \"timezone\": null\n      }\n    }\n  ],\n  \"top_p\": 1.0,\n  \"truncation\": \"disabled\",\n  \"usage\": {\n    \"input_tokens\": 328,\n    \"input_tokens_details\": {\n      \"cached_tokens\": 0\n    },\n    \"output_tokens\": 356,\n    \"output_tokens_details\": {\n      \"reasoning_tokens\": 0\n    },\n    \"total_tokens\": 684\n  },\n  \"user\": null,\n  \"metadata\": {}\n}\n</code></pre>"},{"location":"openai-responses/#_6","title":"\u6587\u4ef6\u641c\u7d22\u5de5\u5177 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/responses \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"gpt-4.1\",\n    \"tools\": [{\n      \"type\": \"file_search\",\n      \"vector_store_ids\": [\"vs_1234567890\"],\n      \"max_num_results\": 20\n    }],\n    \"input\": \"\u53e4\u4ee3\u68d5\u9f99\u6709\u54ea\u4e9b\u7279\u6027\u548c\u5c5e\u6027?\"\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"id\": \"resp_67ccf4c55fc48190b71bd0463ad3306d09504fb6872380d7\",\n  \"object\": \"response\",\n  \"created_at\": 1741485253,\n  \"status\": \"completed\",\n  \"error\": null,\n  \"incomplete_details\": null,\n  \"instructions\": null,\n  \"max_output_tokens\": null,\n  \"model\": \"gpt-4.1\",\n  \"output\": [\n    {\n      \"type\": \"file_search_call\",\n      \"id\": \"fs_67ccf4c63cd08190887ef6464ba5681609504fb6872380d7\",\n      \"status\": \"completed\",\n      \"queries\": [\n        \"\u53e4\u4ee3\u68d5\u9f99\u7684\u7279\u6027\u548c\u5c5e\u6027\"\n      ],\n      \"results\": null\n    },\n    {\n      \"type\": \"message\",\n      \"id\": \"msg_67ccf4c93e5c81909d595b369351a9d309504fb6872380d7\",\n      \"status\": \"completed\",\n      \"role\": \"assistant\",\n      \"content\": [\n        {\n          \"type\": \"output_text\",\n          \"text\": \"\u6839\u636e\u8d44\u6599\uff0c\u53e4\u4ee3\u68d5\u9f99\u5177\u6709\u4ee5\u4e0b\u7279\u6027\u548c\u5c5e\u6027\uff1a\\n\\n1. \u7269\u7406\u7279\u5f81\uff1a\u53e4\u4ee3\u68d5\u9f99\u4f53\u578b\u5e9e\u5927\uff0c\u4f53\u957f\u53ef\u8fbe25-30\u7c73\uff0c\u7ffc\u5c55\u7ea635\u7c73\u3002\u5b83\u4eec\u7684\u9cde\u7247\u5448\u6df1\u68d5\u8272\u81f3\u94dc\u8272\uff0c\u968f\u7740\u5e74\u9f84\u589e\u957f\u4f1a\u53d8\u5f97\u66f4\u52a0\u6697\u6c89\u3002\u5934\u90e8\u6709\u7279\u5f81\u6027\u7684\u53cc\u89d2\u548c\u810a\u523a\uff0c\u4e0b\u989a\u5f3a\u58ee\uff0c\u9002\u5408\u6495\u88c2\u730e\u7269\u3002\\n\\n2. \u80fd\u529b\uff1a\u5b83\u4eec\u80fd\u55b7\u5410\u5f3a\u529b\u7684\u9178\u6db2\uff0c\u5bf9\u76ee\u6807\u9020\u6210\u4e25\u91cd\u8150\u8680\u4f24\u5bb3\u3002\u53e4\u4ee3\u68d5\u9f99\u8fd8\u62e5\u6709\u51fa\u8272\u7684\u6398\u5730\u80fd\u529b\uff0c\u5e38\u5728\u6c99\u6f20\u6216\u5c71\u5730\u6316\u6398\u590d\u6742\u7684\u5de2\u7a74\u7cfb\u7edf\u3002\\n\\n3. \u667a\u529b\uff1a\u88ab\u8ba4\u4e3a\u662f\u9f99\u65cf\u4e2d\u6700\u4e3a\u72e1\u733e\u548c\u6709\u8010\u5fc3\u7684\u54c1\u79cd\uff0c\u667a\u529b\u6781\u9ad8\uff0c\u7cbe\u901a\u591a\u79cd\u8bed\u8a00\uff0c\u5e76\u5177\u6709\u590d\u6742\u7684\u6218\u672f\u601d\u7ef4\u3002\\n\\n4. \u6816\u606f\u5730\uff1a\u4e3b\u8981\u6816\u606f\u5728\u5e72\u65f1\u7684\u5c71\u5730\u548c\u6c99\u6f20\u5730\u533a\uff0c\u559c\u6b22\u708e\u70ed\u5e72\u71e5\u7684\u73af\u5883\u3002\\n\\n5. \u5b9d\u85cf\uff1a\u53e4\u4ee3\u68d5\u9f99\u4ee5\u5176\u5e9e\u5927\u7684\u5b9d\u85cf\u95fb\u540d\uff0c\u7279\u522b\u559c\u7231\u6536\u96c6\u94dc\u5e01\u3001\u7ea2\u5b9d\u77f3\u548c\u706b\u7130\u9b54\u6cd5\u7269\u54c1\u3002\\n\\n6. \u5bff\u547d\uff1a\u662f\u6240\u6709\u9f99\u79cd\u4e2d\u5bff\u547d\u6700\u957f\u7684\u4e4b\u4e00\uff0c\u53ef\u6d3b2000-2500\u5e74\uff0c\u968f\u7740\u5e74\u9f84\u589e\u957f\u5176\u529b\u91cf\u548c\u9b54\u6cd5\u80fd\u529b\u4e5f\u4f1a\u589e\u5f3a\u3002\\n\\n7. \u6027\u683c\uff1a\u6781\u5ea6\u9886\u5730\u610f\u8bc6\u5f3a\uff0c\u6027\u683c\u66b4\u8e81\u6613\u6012\uff0c\u5bf9\u4fb5\u5165\u8005\u6beb\u4e0d\u7559\u60c5\uff0c\u4f46\u4e5f\u4ee5\u5176\u7f55\u89c1\u7684\u8010\u5fc3\u8457\u79f0\uff0c\u80fd\u4e3a\u590d\u4ec7\u7b49\u5f85\u51e0\u4e2a\u4e16\u7eaa\u3002\",\n          \"annotations\": [\n            {\n              \"type\": \"file_citation\",\n              \"index\": 80,\n              \"file_id\": \"file-4wDz5b167pAf72nx1h9eiN\",\n              \"filename\": \"dragons.pdf\"\n            },\n            {\n              \"type\": \"file_citation\",\n              \"index\": 233,\n              \"file_id\": \"file-4wDz5b167pAf72nx1h9eiN\",\n              \"filename\": \"dragons.pdf\"\n            },\n            {\n              \"type\": \"file_citation\",\n              \"index\": 345,\n              \"file_id\": \"file-4wDz5b167pAf72nx1h9eiN\",\n              \"filename\": \"dragons.pdf\"\n            },\n            {\n              \"type\": \"file_citation\",\n              \"index\": 420,\n              \"file_id\": \"file-4wDz5b167pAf72nx1h9eiN\",\n              \"filename\": \"dragons.pdf\"\n            },\n            {\n              \"type\": \"file_citation\",\n              \"index\": 520,\n              \"file_id\": \"file-4wDz5b167pAf72nx1h9eiN\",\n              \"filename\": \"dragons.pdf\"\n            },\n            {\n              \"type\": \"file_citation\",\n              \"index\": 580,\n              \"file_id\": \"file-4wDz5b167pAf72nx1h9eiN\",\n              \"filename\": \"dragons.pdf\"\n            },\n            {\n              \"type\": \"file_citation\",\n              \"index\": 655,\n              \"file_id\": \"file-4wDz5b167pAf72nx1h9eiN\",\n              \"filename\": \"dragons.pdf\"\n            },\n            {\n              \"type\": \"file_citation\",\n              \"index\": 781,\n              \"file_id\": \"file-4wDz5b167pAf72nx1h9eiN\",\n              \"filename\": \"dragons.pdf\"\n            }\n          ]\n        }\n      ]\n    }\n  ],\n  \"parallel_tool_calls\": true,\n  \"previous_response_id\": null,\n  \"reasoning\": {\n    \"effort\": null,\n    \"summary\": null\n  },\n  \"store\": true,\n  \"temperature\": 1.0,\n  \"text\": {\n    \"format\": {\n      \"type\": \"text\"\n    }\n  },\n  \"tool_choice\": \"auto\",\n  \"tools\": [\n    {\n      \"type\": \"file_search\",\n      \"filters\": null,\n      \"max_num_results\": 20,\n      \"ranking_options\": {\n        \"ranker\": \"auto\",\n        \"score_threshold\": 0.0\n      },\n      \"vector_store_ids\": [\n        \"vs_1234567890\"\n      ]\n    }\n  ],\n  \"top_p\": 1.0,\n  \"truncation\": \"disabled\",\n  \"usage\": {\n    \"input_tokens\": 18307,\n    \"input_tokens_details\": {\n      \"cached_tokens\": 0\n    },\n    \"output_tokens\": 348,\n    \"output_tokens_details\": {\n      \"reasoning_tokens\": 0\n    },\n    \"total_tokens\": 18655\n  },\n  \"user\": null,\n  \"metadata\": {}\n}\n</code></pre>"},{"location":"openai-responses/#_7","title":"\u6d41\u5f0f\u54cd\u5e94 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/responses \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"gpt-4.1\",\n    \"instructions\": \"\u4f60\u662f\u4e00\u4e2a\u6709\u5e2e\u52a9\u7684\u52a9\u624b\u3002\",\n    \"input\": \"\u4f60\u597d\uff01\",\n    \"stream\": true\n  }'\n</code></pre> <p>\u6d41\u5f0f\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>event: response.created\ndata: {\"type\":\"response.created\",\"response\":{\"id\":\"resp_67c9fdcecf488190bdd9a0409de3a1ec07b8b0ad4e5eb654\",\"object\":\"response\",\"created_at\":1741290958,\"status\":\"in_progress\",\"error\":null,\"incomplete_details\":null,\"instructions\":\"\u4f60\u662f\u4e00\u4e2a\u6709\u5e2e\u52a9\u7684\u52a9\u624b\u3002\",\"max_output_tokens\":null,\"model\":\"gpt-4.1-2025-04-14\",\"output\":[],\"parallel_tool_calls\":true,\"previous_response_id\":null,\"reasoning\":{\"effort\":null,\"summary\":null},\"store\":true,\"temperature\":1.0,\"text\":{\"format\":{\"type\":\"text\"}},\"tool_choice\":\"auto\",\"tools\":[],\"top_p\":1.0,\"truncation\":\"disabled\",\"usage\":null,\"user\":null,\"metadata\":{}}}\n\nevent: response.in_progress\ndata: {\"type\":\"response.in_progress\",\"response\":{\"id\":\"resp_67c9fdcecf488190bdd9a0409de3a1ec07b8b0ad4e5eb654\",\"object\":\"response\",\"created_at\":1741290958,\"status\":\"in_progress\",\"error\":null,\"incomplete_details\":null,\"instructions\":\"\u4f60\u662f\u4e00\u4e2a\u6709\u5e2e\u52a9\u7684\u52a9\u624b\u3002\",\"max_output_tokens\":null,\"model\":\"gpt-4.1-2025-04-14\",\"output\":[],\"parallel_tool_calls\":true,\"previous_response_id\":null,\"reasoning\":{\"effort\":null,\"summary\":null},\"store\":true,\"temperature\":1.0,\"text\":{\"format\":{\"type\":\"text\"}},\"tool_choice\":\"auto\",\"tools\":[],\"top_p\":1.0,\"truncation\":\"disabled\",\"usage\":null,\"user\":null,\"metadata\":{}}}\n\nevent: response.output_item.added\ndata: {\"type\":\"response.output_item.added\",\"output_index\":0,\"item\":{\"id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"type\":\"message\",\"status\":\"in_progress\",\"role\":\"assistant\",\"content\":[]}}\n\nevent: response.content_part.added\ndata: {\"type\":\"response.content_part.added\",\"item_id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"output_index\":0,\"content_index\":0,\"part\":{\"type\":\"output_text\",\"text\":\"\",\"annotations\":[]}}\n\nevent: response.output_text.delta\ndata: {\"type\":\"response.output_text.delta\",\"item_id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"output_index\":0,\"content_index\":0,\"delta\":\"\u4f60\u597d\"}\n\nevent: response.output_text.delta\ndata: {\"type\":\"response.output_text.delta\",\"item_id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"output_index\":0,\"content_index\":0,\"delta\":\"\uff01\"}\n\nevent: response.output_text.delta\ndata: {\"type\":\"response.output_text.delta\",\"item_id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"output_index\":0,\"content_index\":0,\"delta\":\" \u6211\"}\n\nevent: response.output_text.delta\ndata: {\"type\":\"response.output_text.delta\",\"item_id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"output_index\":0,\"content_index\":0,\"delta\":\"\u80fd\"}\n\nevent: response.output_text.delta\ndata: {\"type\":\"response.output_text.delta\",\"item_id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"output_index\":0,\"content_index\":0,\"delta\":\"\u4e3a\"}\n\nevent: response.output_text.delta\ndata: {\"type\":\"response.output_text.delta\",\"item_id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"output_index\":0,\"content_index\":0,\"delta\":\"\u60a8\"}\n\nevent: response.output_text.delta\ndata: {\"type\":\"response.output_text.delta\",\"item_id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"output_index\":0,\"content_index\":0,\"delta\":\"\u63d0\u4f9b\"}\n\nevent: response.output_text.delta\ndata: {\"type\":\"response.output_text.delta\",\"item_id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"output_index\":0,\"content_index\":0,\"delta\":\"\u4ec0\u4e48\"}\n\nevent: response.output_text.delta\ndata: {\"type\":\"response.output_text.delta\",\"item_id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"output_index\":0,\"content_index\":0,\"delta\":\"\u5e2e\u52a9\"}\n\nevent: response.output_text.delta\ndata: {\"type\":\"response.output_text.delta\",\"item_id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"output_index\":0,\"content_index\":0,\"delta\":\"\u5417\"}\n\nevent: response.output_text.delta\ndata: {\"type\":\"response.output_text.delta\",\"item_id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"output_index\":0,\"content_index\":0,\"delta\":\"\uff1f\"}\n\nevent: response.output_text.done\ndata: {\"type\":\"response.output_text.done\",\"item_id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"output_index\":0,\"content_index\":0,\"text\":\"\u4f60\u597d\uff01 \u6211\u80fd\u4e3a\u60a8\u63d0\u4f9b\u4ec0\u4e48\u5e2e\u52a9\u5417\uff1f\"}\n\nevent: response.content_part.done\ndata: {\"type\":\"response.content_part.done\",\"item_id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"output_index\":0,\"content_index\":0,\"part\":{\"type\":\"output_text\",\"text\":\"\u4f60\u597d\uff01 \u6211\u80fd\u4e3a\u60a8\u63d0\u4f9b\u4ec0\u4e48\u5e2e\u52a9\u5417\uff1f\",\"annotations\":[]}}\n\nevent: response.output_item.done\ndata: {\"type\":\"response.output_item.done\",\"output_index\":0,\"item\":{\"id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"type\":\"message\",\"status\":\"completed\",\"role\":\"assistant\",\"content\":[{\"type\":\"output_text\",\"text\":\"\u4f60\u597d\uff01 \u6211\u80fd\u4e3a\u60a8\u63d0\u4f9b\u4ec0\u4e48\u5e2e\u52a9\u5417\uff1f\",\"annotations\":[]}]}}\n\nevent: response.completed\ndata: {\"type\":\"response.completed\",\"response\":{\"id\":\"resp_67c9fdcecf488190bdd9a0409de3a1ec07b8b0ad4e5eb654\",\"object\":\"response\",\"created_at\":1741290958,\"status\":\"completed\",\"error\":null,\"incomplete_details\":null,\"instructions\":\"\u4f60\u662f\u4e00\u4e2a\u6709\u5e2e\u52a9\u7684\u52a9\u624b\u3002\",\"max_output_tokens\":null,\"model\":\"gpt-4.1-2025-04-14\",\"output\":[{\"id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"type\":\"message\",\"status\":\"completed\",\"role\":\"assistant\",\"content\":[{\"type\":\"output_text\",\"text\":\"\u4f60\u597d\uff01 \u6211\u80fd\u4e3a\u60a8\u63d0\u4f9b\u4ec0\u4e48\u5e2e\u52a9\u5417\uff1f\",\"annotations\":[]}]}],\"parallel_tool_calls\":true,\"previous_response_id\":null,\"reasoning\":{\"effort\":null,\"summary\":null},\"store\":true,\"temperature\":1.0,\"text\":{\"format\":{\"type\":\"text\"}},\"tool_choice\":\"auto\",\"tools\":[],\"top_p\":1.0,\"truncation\":\"disabled\",\"usage\":{\"input_tokens\":37,\"output_tokens\":11,\"output_tokens_details\":{\"reasoning_tokens\":0},\"total_tokens\":48},\"user\":null,\"metadata\":{}}}\n</code></pre>"},{"location":"openai-responses/#_8","title":"\u51fd\u6570\u8c03\u7528 \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/responses \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"gpt-4.1\",\n    \"input\": \"\u6ce2\u58eb\u987f\u4eca\u5929\u7684\u5929\u6c14\u5982\u4f55\uff1f\",\n    \"tools\": [\n      {\n        \"type\": \"function\",\n        \"name\": \"get_current_weather\",\n        \"description\": \"\u83b7\u53d6\u6307\u5b9a\u4f4d\u7f6e\u7684\u5f53\u524d\u5929\u6c14\",\n        \"parameters\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"location\": {\n              \"type\": \"string\",\n              \"description\": \"\u57ce\u5e02\u548c\u5dde\uff0c\u4f8b\u5982 San Francisco, CA\"\n            },\n            \"unit\": {\n              \"type\": \"string\",\n              \"enum\": [\"celsius\", \"fahrenheit\"]\n            }\n          },\n          \"required\": [\"location\", \"unit\"]\n        }\n      }\n    ],\n    \"tool_choice\": \"auto\"\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"id\": \"resp_67ca09c5efe0819096d0511c92b8c890096610f474011cc0\",\n  \"object\": \"response\",\n  \"created_at\": 1741294021,\n  \"status\": \"completed\",\n  \"error\": null,\n  \"incomplete_details\": null,\n  \"instructions\": null,\n  \"max_output_tokens\": null,\n  \"model\": \"gpt-4.1-2025-04-14\",\n  \"output\": [\n    {\n      \"type\": \"function_call\",\n      \"id\": \"fc_67ca09c6bedc8190a7abfec07b1a1332096610f474011cc0\",\n      \"call_id\": \"call_unLAR8MvFNptuiZK6K6HCy5k\",\n      \"name\": \"get_current_weather\",\n      \"arguments\": \"{\\\"location\\\":\\\"\u6ce2\u58eb\u987f, MA\\\",\\\"unit\\\":\\\"celsius\\\"}\",\n      \"status\": \"completed\"\n    }\n  ],\n  \"parallel_tool_calls\": true,\n  \"previous_response_id\": null,\n  \"reasoning\": {\n    \"effort\": null,\n    \"summary\": null\n  },\n  \"store\": true,\n  \"temperature\": 1.0,\n  \"text\": {\n    \"format\": {\n      \"type\": \"text\"\n    }\n  },\n  \"tool_choice\": \"auto\",\n  \"tools\": [\n    {\n      \"type\": \"function\",\n      \"description\": \"\u83b7\u53d6\u6307\u5b9a\u4f4d\u7f6e\u7684\u5f53\u524d\u5929\u6c14\",\n      \"name\": \"get_current_weather\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"location\": {\n            \"type\": \"string\",\n            \"description\": \"\u57ce\u5e02\u548c\u5dde\uff0c\u4f8b\u5982 San Francisco, CA\"\n          },\n          \"unit\": {\n            \"type\": \"string\",\n            \"enum\": [\n              \"celsius\",\n              \"fahrenheit\"\n            ]\n          }\n        },\n        \"required\": [\n          \"location\",\n          \"unit\"\n        ]\n      },\n      \"strict\": true\n    }\n  ],\n  \"top_p\": 1.0,\n  \"truncation\": \"disabled\",\n  \"usage\": {\n    \"input_tokens\": 291,\n    \"output_tokens\": 23,\n    \"output_tokens_details\": {\n      \"reasoning_tokens\": 0\n    },\n    \"total_tokens\": 314\n  },\n  \"user\": null,\n  \"metadata\": {}\n}\n</code></pre>"},{"location":"openai-responses/#_9","title":"\u63a8\u7406\u80fd\u529b \u2705","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/responses \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -d '{\n    \"model\": \"o3-mini\",\n    \"input\": \"\u4e00\u53ea\u5544\u6728\u9e1f\u80fd\u5544\u591a\u5c11\u6728\u5934?\",\n    \"reasoning\": {\n      \"effort\": \"high\"\n    }\n  }'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"id\": \"resp_67ccd7eca01881908ff0b5146584e408072912b2993db808\",\n  \"object\": \"response\",\n  \"created_at\": 1741477868,\n  \"status\": \"completed\",\n  \"error\": null,\n  \"incomplete_details\": null,\n  \"instructions\": null,\n  \"max_output_tokens\": null,\n  \"model\": \"o1-2024-12-17\",\n  \"output\": [\n    {\n      \"type\": \"message\",\n      \"id\": \"msg_67ccd7f7b5848190a6f3e95d809f6b44072912b2993db808\",\n      \"status\": \"completed\",\n      \"role\": \"assistant\",\n      \"content\": [\n        {\n          \"type\": \"output_text\",\n          \"text\": \"\u8fd9\u662f\u4e00\u4e2a\u6e90\u81ea\u82f1\u6587\u7ed5\u53e3\u4ee4\"How much wood would a woodchuck chuck if a woodchuck could chuck wood\"\u7684\u95ee\u9898\u3002\u5728\u73b0\u5b9e\u4e2d\uff0c\u5544\u6728\u9e1f(woodpecker)\u548c\u571f\u62e8\u9f20(woodchuck)\u662f\u4e0d\u540c\u7684\u52a8\u7269\uff0c\u800c\u4e14\u571f\u62e8\u9f20\u5b9e\u9645\u4e0a\u5e76\u4e0d\"\u5544(chuck)\"\u6728\u5934\u3002\\n\\n\u4ece\u79d1\u5b66\u89d2\u5ea6\u770b\uff0c\u5544\u6728\u9e1f\u6bcf\u5929\u786e\u5b9e\u4f1a\u5544\u6811\u6728\u4ee5\u5bfb\u627e\u98df\u7269\u3001\u5efa\u9020\u5de2\u7a74\u6216\u8fdb\u884c\u901a\u8baf\u3002\u4e00\u53ea\u5544\u6728\u9e1f\u5e73\u5747\u6bcf\u5929\u53ef\u80fd\u5544\u6811\u7ea68000-12000\u6b21\uff0c\u89c6\u7269\u79cd\u548c\u5177\u4f53\u76ee\u7684\u800c\u5b9a\u3002\u5982\u679c\u6211\u4eec\u5c06\u8fd9\u8f6c\u6362\u4e3a\u6728\u6750\u91cf\uff0c\u5047\u8bbe\u6bcf\u6b21\u5544\u51fb\u79fb\u9664\u7ea60.1-0.2\u7acb\u65b9\u5398\u7c73\u7684\u6728\u6750\uff0c\u90a3\u4e48\u4e00\u53ea\u5544\u6728\u9e1f\u7406\u8bba\u4e0a\u6bcf\u5929\u53ef\u80fd\u79fb\u9664\u7ea6800-2400\u7acb\u65b9\u5398\u7c73\u7684\u6728\u6750\u3002\\n\\n\u7136\u800c\uff0c\u5544\u6728\u9e1f\u4e3b\u8981\u662f\u4e3a\u4e86\u89c5\u98df\u548c\u7b51\u5de2\u800c\u5544\u6728\uff0c\u800c\u4e0d\u662f\u5355\u7eaf\u5730\u79fb\u9664\u6728\u6750\uff0c\u6240\u4ee5\u8fd9\u4e2a\u8ba1\u7b97\u53ea\u662f\u4e00\u4e2a\u6709\u8da3\u7684\u7406\u8bba\u4f30\u7b97\u3002\",\n          \"annotations\": []\n        }\n      ]\n    }\n  ],\n  \"parallel_tool_calls\": true,\n  \"previous_response_id\": null,\n  \"reasoning\": {\n    \"effort\": \"high\",\n    \"summary\": null\n  },\n  \"store\": true,\n  \"temperature\": 1.0,\n  \"text\": {\n    \"format\": {\n      \"type\": \"text\"\n    }\n  },\n  \"tool_choice\": \"auto\",\n  \"tools\": [],\n  \"top_p\": 1.0,\n  \"truncation\": \"disabled\",\n  \"usage\": {\n    \"input_tokens\": 81,\n    \"input_tokens_details\": {\n      \"cached_tokens\": 0\n    },\n    \"output_tokens\": 1035,\n    \"output_tokens_details\": {\n      \"reasoning_tokens\": 832\n    },\n    \"total_tokens\": 1116\n  },\n  \"user\": null,\n  \"metadata\": {}\n}\n</code></pre>"},{"location":"openai-responses/#_10","title":"\ud83d\udcee \u8bf7\u6c42","text":""},{"location":"openai-responses/#_11","title":"\u7aef\u70b9","text":"<pre><code>POST /v1/responses\n</code></pre> <p>\u521b\u5efa\u6a21\u578b\u54cd\u5e94\u3002\u63d0\u4f9b\u6587\u672c\u6216\u56fe\u50cf\u8f93\u5165\u4ee5\u751f\u6210\u6587\u672c\u6216JSON\u8f93\u51fa\u3002\u8ba9\u6a21\u578b\u8c03\u7528\u60a8\u81ea\u5df1\u7684\u81ea\u5b9a\u4e49\u4ee3\u7801\u6216\u4f7f\u7528\u5185\u7f6e\u5de5\u5177\uff08\u5982\u7f51\u7edc\u641c\u7d22\u6216\u6587\u4ef6\u641c\u7d22\uff09\u5c06\u60a8\u81ea\u5df1\u7684\u6570\u636e\u7528\u4f5c\u6a21\u578b\u54cd\u5e94\u7684\u8f93\u5165\u3002</p>"},{"location":"openai-responses/#_12","title":"\u9274\u6743\u65b9\u6cd5","text":"<p>\u5728\u8bf7\u6c42\u5934\u4e2d\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\u8fdb\u884c API \u5bc6\u94a5\u8ba4\u8bc1\uff1a</p> <pre><code>Authorization: Bearer $API_API_KEY\n</code></pre> <p>\u5176\u4e2d <code>$API_API_KEY</code> \u662f\u60a8\u7684 API \u5bc6\u94a5\u3002</p>"},{"location":"openai-responses/#_13","title":"\u8bf7\u6c42\u4f53\u53c2\u6570","text":""},{"location":"openai-responses/#input","title":"input","text":"<p>\u7c7b\u578b: \u5b57\u7b26\u4e32\u6216\u6570\u7ec4 \u5fc5\u9700: \u662f</p> <p>\u63d0\u4f9b\u7ed9\u6a21\u578b\u7684\u6587\u672c\u3001\u56fe\u50cf\u6216\u6587\u4ef6\u8f93\u5165\uff0c\u7528\u4e8e\u751f\u6210\u54cd\u5e94\u3002</p>"},{"location":"openai-responses/#_14","title":"\u53ef\u80fd\u7684\u7c7b\u578b","text":"\u7c7b\u578b \u63cf\u8ff0 \u5b57\u7b26\u4e32 \u6587\u672c\u8f93\u5165\uff0c\u76f8\u5f53\u4e8e\u5177\u6709\u7528\u6237\u89d2\u8272\u7684\u6587\u672c\u8f93\u5165 \u8f93\u5165\u9879\u6570\u7ec4 \u5305\u542b\u4e0d\u540c\u5185\u5bb9\u7c7b\u578b\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u8f93\u5165\u9879\u5217\u8868"},{"location":"openai-responses/#_15","title":"\u8f93\u5165\u6d88\u606f\u5bf9\u8c61","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 content \u5b57\u7b26\u4e32\u6216\u6570\u7ec4 \u662f \u63d0\u4f9b\u7ed9\u6a21\u578b\u7684\u6587\u672c\u3001\u56fe\u50cf\u6216\u97f3\u9891\u8f93\u5165\uff0c\u7528\u4e8e\u751f\u6210\u54cd\u5e94\u3002\u4e5f\u53ef\u4ee5\u5305\u542b\u4e4b\u524d\u7684\u52a9\u624b\u54cd\u5e94 role \u5b57\u7b26\u4e32 \u662f \u8f93\u5165\u6d88\u606f\u7684\u89d2\u8272\u3002\u53ef\u9009\u503c\uff1a<code>user</code>\u3001<code>assistant</code>\u3001<code>system</code> \u6216 <code>developer</code> type \u5b57\u7b26\u4e32 \u5426 \u8f93\u5165\u6d88\u606f\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>message</code>"},{"location":"openai-responses/#_16","title":"\u5185\u5bb9\u9879\u7c7b\u578b","text":""},{"location":"openai-responses/#_17","title":"\u6587\u672c\u8f93\u5165","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 text \u5b57\u7b26\u4e32 \u662f \u63d0\u4f9b\u7ed9\u6a21\u578b\u7684\u6587\u672c\u8f93\u5165 type \u5b57\u7b26\u4e32 \u662f \u8f93\u5165\u9879\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>input_text</code>"},{"location":"openai-responses/#_18","title":"\u56fe\u50cf\u8f93\u5165","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 detail \u5b57\u7b26\u4e32 \u662f \u8981\u53d1\u9001\u7ed9\u6a21\u578b\u7684\u56fe\u50cf\u7684\u8be6\u7ec6\u7ea7\u522b\u3002\u53ef\u9009\u503c\uff1a<code>high</code>\u3001<code>low</code> \u6216 <code>auto</code>\u3002\u9ed8\u8ba4\u4e3a <code>auto</code> type \u5b57\u7b26\u4e32 \u662f \u8f93\u5165\u9879\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>input_image</code> file_id \u5b57\u7b26\u4e32 \u5426 \u8981\u53d1\u9001\u7ed9\u6a21\u578b\u7684\u6587\u4ef6ID image_url \u5b57\u7b26\u4e32 \u5426 \u8981\u53d1\u9001\u7ed9\u6a21\u578b\u7684\u56fe\u50cfURL\u3002\u53ef\u4ee5\u662f\u5b8c\u6574\u7684URL\u6216\u6570\u636eURL\u4e2d\u7684base64\u7f16\u7801\u56fe\u50cf"},{"location":"openai-responses/#_19","title":"\u6587\u4ef6\u8f93\u5165","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 type \u5b57\u7b26\u4e32 \u662f \u8f93\u5165\u9879\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>input_file</code> file_data \u5b57\u7b26\u4e32 \u5426 \u8981\u53d1\u9001\u7ed9\u6a21\u578b\u7684\u6587\u4ef6\u5185\u5bb9 file_id \u5b57\u7b26\u4e32 \u5426 \u8981\u53d1\u9001\u7ed9\u6a21\u578b\u7684\u6587\u4ef6ID filename \u5b57\u7b26\u4e32 \u5426 \u8981\u53d1\u9001\u7ed9\u6a21\u578b\u7684\u6587\u4ef6\u540d"},{"location":"openai-responses/#_20","title":"\u8f93\u51fa\u9879\u7c7b\u578b","text":""},{"location":"openai-responses/#_21","title":"\u8f93\u51fa\u6587\u672c","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 text \u5b57\u7b26\u4e32 \u662f \u6a21\u578b\u751f\u6210\u7684\u6587\u672c\u8f93\u51fa type \u5b57\u7b26\u4e32 \u662f \u8f93\u51fa\u9879\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>output_text</code> annotations \u6570\u7ec4 \u662f \u6587\u672c\u8f93\u51fa\u7684\u6ce8\u91ca"},{"location":"openai-responses/#_22","title":"\u6ce8\u91ca\u7c7b\u578b","text":"<p>\u6587\u4ef6\u5f15\u7528:</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 file_id \u5b57\u7b26\u4e32 \u662f \u6587\u4ef6\u7684ID index \u6574\u6570 \u662f \u6587\u4ef6\u5728\u6587\u4ef6\u5217\u8868\u4e2d\u7684\u7d22\u5f15 type \u5b57\u7b26\u4e32 \u662f \u6587\u4ef6\u5f15\u7528\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>file_citation</code> <p>URL\u5f15\u7528:</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 end_index \u6574\u6570 \u662f URL\u5f15\u7528\u5728\u6d88\u606f\u4e2d\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u7684\u7d22\u5f15 start_index \u6574\u6570 \u662f URL\u5f15\u7528\u5728\u6d88\u606f\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u7684\u7d22\u5f15 title \u5b57\u7b26\u4e32 \u662f \u7f51\u7edc\u8d44\u6e90\u7684\u6807\u9898 type \u5b57\u7b26\u4e32 \u662f URL\u5f15\u7528\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>url_citation</code> url \u5b57\u7b26\u4e32 \u662f \u7f51\u7edc\u8d44\u6e90\u7684URL <p>\u6587\u4ef6\u8def\u5f84:</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 file_id \u5b57\u7b26\u4e32 \u662f \u6587\u4ef6\u7684ID index \u6574\u6570 \u662f \u6587\u4ef6\u5728\u6587\u4ef6\u5217\u8868\u4e2d\u7684\u7d22\u5f15 type \u5b57\u7b26\u4e32 \u662f \u6587\u4ef6\u8def\u5f84\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>file_path</code>"},{"location":"openai-responses/#_23","title":"\u62d2\u7edd\u54cd\u5e94","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 refusal \u5b57\u7b26\u4e32 \u662f \u6a21\u578b\u7684\u62d2\u7edd\u89e3\u91ca type \u5b57\u7b26\u4e32 \u662f \u62d2\u7edd\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>refusal</code>"},{"location":"openai-responses/#_24","title":"\u5de5\u5177\u8c03\u7528\u7c7b\u578b","text":""},{"location":"openai-responses/#_25","title":"\u6587\u4ef6\u641c\u7d22\u5de5\u5177\u8c03\u7528","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 id \u5b57\u7b26\u4e32 \u662f \u6587\u4ef6\u641c\u7d22\u5de5\u5177\u8c03\u7528\u7684\u552f\u4e00ID queries \u6570\u7ec4 \u662f \u7528\u4e8e\u641c\u7d22\u6587\u4ef6\u7684\u67e5\u8be2 status \u5b57\u7b26\u4e32 \u662f \u6587\u4ef6\u641c\u7d22\u5de5\u5177\u8c03\u7528\u7684\u72b6\u6001\u3002\u53ef\u80fd\u503c\u5305\u62ec\uff1a<code>in_progress</code>\u3001<code>searching</code>\u3001<code>incomplete</code> \u6216 <code>failed</code> type \u5b57\u7b26\u4e32 \u662f \u6587\u4ef6\u641c\u7d22\u5de5\u5177\u8c03\u7528\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>file_search_call</code> results \u6570\u7ec4\u6216null \u5426 \u6587\u4ef6\u641c\u7d22\u5de5\u5177\u8c03\u7528\u7684\u7ed3\u679c"},{"location":"openai-responses/#_26","title":"\u7f51\u7edc\u641c\u7d22\u5de5\u5177\u8c03\u7528","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 id \u5b57\u7b26\u4e32 \u662f \u7f51\u7edc\u641c\u7d22\u5de5\u5177\u8c03\u7528\u7684\u552f\u4e00ID status \u5b57\u7b26\u4e32 \u662f \u7f51\u7edc\u641c\u7d22\u5de5\u5177\u8c03\u7528\u7684\u72b6\u6001 type \u5b57\u7b26\u4e32 \u662f \u7f51\u7edc\u641c\u7d22\u5de5\u5177\u8c03\u7528\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>web_search_call</code>"},{"location":"openai-responses/#_27","title":"\u51fd\u6570\u5de5\u5177\u8c03\u7528","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 arguments \u5b57\u7b26\u4e32 \u662f \u4f20\u9012\u7ed9\u51fd\u6570\u7684\u53c2\u6570\u7684JSON\u5b57\u7b26\u4e32 call_id \u5b57\u7b26\u4e32 \u662f \u6a21\u578b\u751f\u6210\u7684\u51fd\u6570\u5de5\u5177\u8c03\u7528\u7684\u552f\u4e00ID name \u5b57\u7b26\u4e32 \u662f \u8981\u8fd0\u884c\u7684\u51fd\u6570\u7684\u540d\u79f0 type \u5b57\u7b26\u4e32 \u662f \u51fd\u6570\u5de5\u5177\u8c03\u7528\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>function_call</code> id \u5b57\u7b26\u4e32 \u5426 \u51fd\u6570\u5de5\u5177\u8c03\u7528\u7684\u552f\u4e00ID status \u5b57\u7b26\u4e32 \u5426 \u9879\u76ee\u7684\u72b6\u6001\u3002\u53ef\u80fd\u503c\uff1a<code>in_progress</code>\u3001<code>completed</code>\u6216<code>incomplete</code>"},{"location":"openai-responses/#_28","title":"\u8ba1\u7b97\u673a\u5de5\u5177\u8c03\u7528","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 action \u5bf9\u8c61 \u662f \u8ba1\u7b97\u673a\u4ea4\u4e92\u7684\u64cd\u4f5c\uff0c\u5982\u70b9\u51fb\u3001\u62d6\u62fd\u7b49 call_id \u5b57\u7b26\u4e32 \u662f \u54cd\u5e94\u5de5\u5177\u8c03\u7528\u8f93\u51fa\u65f6\u4f7f\u7528\u7684\u6807\u8bc6\u7b26 id \u5b57\u7b26\u4e32 \u662f \u8ba1\u7b97\u673a\u8c03\u7528\u7684\u552f\u4e00ID pending_safety_checks \u6570\u7ec4 \u662f \u8ba1\u7b97\u673a\u8c03\u7528\u7684\u5f85\u5904\u7406\u5b89\u5168\u68c0\u67e5 status \u5b57\u7b26\u4e32 \u662f \u9879\u76ee\u7684\u72b6\u6001\u3002\u53ef\u80fd\u503c\uff1a<code>in_progress</code>\u3001<code>completed</code>\u6216<code>incomplete</code> type \u5b57\u7b26\u4e32 \u662f \u8ba1\u7b97\u673a\u8c03\u7528\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>computer_call</code> <p>\u8ba1\u7b97\u673a\u64cd\u4f5c\u7c7b\u578b:</p> \u64cd\u4f5c\u7c7b\u578b \u63cf\u8ff0 click \u9f20\u6807\u70b9\u51fb\u64cd\u4f5c double_click \u9f20\u6807\u53cc\u51fb\u64cd\u4f5c drag \u62d6\u62fd\u64cd\u4f5c keypress \u6309\u952e\u64cd\u4f5c move \u9f20\u6807\u79fb\u52a8\u64cd\u4f5c screenshot \u5c4f\u5e55\u622a\u56fe\u64cd\u4f5c scroll \u6eda\u52a8\u64cd\u4f5c type \u6587\u672c\u8f93\u5165\u64cd\u4f5c wait \u7b49\u5f85\u64cd\u4f5c"},{"location":"openai-responses/#_29","title":"\u8ba1\u7b97\u673a\u5de5\u5177\u8c03\u7528\u8f93\u51fa","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 call_id \u5b57\u7b26\u4e32 \u662f \u4ea7\u751f\u8f93\u51fa\u7684\u8ba1\u7b97\u673a\u5de5\u5177\u8c03\u7528\u7684ID output \u5bf9\u8c61 \u662f \u7528\u4e8e\u8ba1\u7b97\u673a\u4f7f\u7528\u5de5\u5177\u7684\u8ba1\u7b97\u673a\u5c4f\u5e55\u622a\u56fe\u56fe\u50cf type \u5b57\u7b26\u4e32 \u662f \u8ba1\u7b97\u673a\u5de5\u5177\u8c03\u7528\u8f93\u51fa\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>computer_call_output</code> acknowledged_safety_checks \u6570\u7ec4 \u5426 API\u62a5\u544a\u7684\u5df2\u88ab\u5f00\u53d1\u8005\u786e\u8ba4\u7684\u5b89\u5168\u68c0\u67e5 id \u5b57\u7b26\u4e32 \u5426 \u8ba1\u7b97\u673a\u5de5\u5177\u8c03\u7528\u8f93\u51fa\u7684ID status \u5b57\u7b26\u4e32 \u5426 \u8f93\u5165\u6d88\u606f\u7684\u72b6\u6001\u3002\u53ef\u80fd\u503c\uff1a<code>in_progress</code>\u3001<code>completed</code>\u6216<code>incomplete</code>"},{"location":"openai-responses/#_30","title":"\u51fd\u6570\u5de5\u5177\u8c03\u7528\u8f93\u51fa","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 call_id \u5b57\u7b26\u4e32 \u662f \u6a21\u578b\u751f\u6210\u7684\u51fd\u6570\u5de5\u5177\u8c03\u7528\u7684\u552f\u4e00ID output \u5b57\u7b26\u4e32 \u662f \u51fd\u6570\u5de5\u5177\u8c03\u7528\u8f93\u51fa\u7684JSON\u5b57\u7b26\u4e32 type \u5b57\u7b26\u4e32 \u662f \u51fd\u6570\u5de5\u5177\u8c03\u7528\u8f93\u51fa\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>function_call_output</code> id \u5b57\u7b26\u4e32 \u5426 \u51fd\u6570\u5de5\u5177\u8c03\u7528\u8f93\u51fa\u7684\u552f\u4e00ID status \u5b57\u7b26\u4e32 \u5426 \u9879\u76ee\u7684\u72b6\u6001\u3002\u53ef\u80fd\u503c\uff1a<code>in_progress</code>\u3001<code>completed</code>\u6216<code>incomplete</code>"},{"location":"openai-responses/#_31","title":"\u63a8\u7406\u76f8\u5173\u9879","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 id \u5b57\u7b26\u4e32 \u662f \u63a8\u7406\u5185\u5bb9\u7684\u552f\u4e00\u6807\u8bc6\u7b26 summary \u6570\u7ec4 \u662f \u63a8\u7406\u6587\u672c\u5185\u5bb9 type \u5b57\u7b26\u4e32 \u662f \u5bf9\u8c61\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>reasoning</code> encrypted_content \u5b57\u7b26\u4e32\u6216null \u5426 \u63a8\u7406\u9879\u7684\u52a0\u5bc6\u5185\u5bb9 - \u5f53\u4f7f\u7528 <code>reasoning.encrypted_content</code> \u5305\u542b\u53c2\u6570\u751f\u6210\u54cd\u5e94\u65f6\u586b\u5145 status \u5b57\u7b26\u4e32 \u5426 \u9879\u76ee\u7684\u72b6\u6001\u3002\u53ef\u80fd\u503c\uff1a<code>in_progress</code>\u3001<code>completed</code>\u6216<code>incomplete</code> <p>\u63a8\u7406\u6458\u8981:</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 text \u5b57\u7b26\u4e32 \u662f \u6a21\u578b\u751f\u6210\u54cd\u5e94\u65f6\u4f7f\u7528\u7684\u63a8\u7406\u7684\u7b80\u77ed\u6458\u8981 type \u5b57\u7b26\u4e32 \u662f \u5bf9\u8c61\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>summary_text</code>"},{"location":"openai-responses/#_32","title":"\u9879\u76ee\u5f15\u7528","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 id \u5b57\u7b26\u4e32 \u662f \u8981\u5f15\u7528\u7684\u9879\u76ee\u7684ID type \u5b57\u7b26\u4e32 \u5426 \u8981\u5f15\u7528\u7684\u9879\u76ee\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>item_reference</code>"},{"location":"openai-responses/#model","title":"model","text":"<p>\u7c7b\u578b: \u5b57\u7b26\u4e32 \u5fc5\u9700: \u662f</p> <p>\u7528\u4e8e\u751f\u6210\u54cd\u5e94\u7684\u6a21\u578bID\uff0c\u4f8b\u5982 gpt-4.1 \u6216 o3\u3002OpenAI \u63d0\u4f9b\u5404\u79cd\u5177\u6709\u4e0d\u540c\u80fd\u529b\u3001\u6027\u80fd\u7279\u6027\u548c\u4ef7\u683c\u70b9\u7684\u6a21\u578b\u3002\u8bf7\u53c2\u9605\u6a21\u578b\u6307\u5357\u4ee5\u6d4f\u89c8\u548c\u6bd4\u8f83\u53ef\u7528\u6a21\u578b\u3002</p>"},{"location":"openai-responses/#include","title":"include","text":"<p>\u7c7b\u578b: \u6570\u7ec4\u6216null \u5fc5\u9700: \u5426</p> <p>\u6307\u5b9a\u8981\u5728\u6a21\u578b\u54cd\u5e94\u4e2d\u5305\u542b\u7684\u9644\u52a0\u8f93\u51fa\u6570\u636e\u3002\u5f53\u524d\u652f\u6301\u7684\u503c\u5305\u62ec\uff1a</p> \u503c \u63cf\u8ff0 <code>file_search_call.results</code> \u5305\u542b\u6587\u4ef6\u641c\u7d22\u5de5\u5177\u8c03\u7528\u7684\u641c\u7d22\u7ed3\u679c <code>message.input_image.image_url</code> \u5305\u542b\u8f93\u5165\u6d88\u606f\u4e2d\u7684\u56fe\u50cfURL <code>computer_call_output.output.image_url</code> \u5305\u542b\u7535\u8111\u8c03\u7528\u8f93\u51fa\u4e2d\u7684\u56fe\u50cfURL <code>reasoning.encrypted_content</code> \u5728\u63a8\u7406\u9879\u8f93\u51fa\u4e2d\u5305\u542b\u63a8\u7406\u6807\u8bb0\u7684\u52a0\u5bc6\u7248\u672c"},{"location":"openai-responses/#instructions","title":"instructions","text":"<p>\u7c7b\u578b: \u5b57\u7b26\u4e32\u6216null \u5fc5\u9700: \u5426</p> <p>\u4f5c\u4e3a\u6a21\u578b\u4e0a\u4e0b\u6587\u4e2d\u7684\u7b2c\u4e00\u9879\u63d2\u5165\u7cfb\u7edf\uff08\u6216\u5f00\u53d1\u8005\uff09\u6d88\u606f\u3002</p> <p>\u5f53\u4e0e <code>previous_response_id</code> \u4e00\u8d77\u4f7f\u7528\u65f6\uff0c\u524d\u4e00\u4e2a\u54cd\u5e94\u4e2d\u7684\u6307\u4ee4\u4e0d\u4f1a\u88ab\u5e26\u5230\u4e0b\u4e00\u4e2a\u54cd\u5e94\u3002\u8fd9\u4f7f\u5f97\u5728\u65b0\u54cd\u5e94\u4e2d\u8f7b\u677e\u5207\u6362\u7cfb\u7edf\uff08\u5f00\u53d1\u8005\uff09\u6d88\u606f\u53d8\u5f97\u7b80\u5355\u3002</p>"},{"location":"openai-responses/#max_output_tokens","title":"max_output_tokens","text":"<p>\u7c7b\u578b: \u6574\u6570\u6216null \u5fc5\u9700: \u5426</p> <p>\u53ef\u4ee5\u4e3a\u54cd\u5e94\u751f\u6210\u7684\u4ee4\u724c\u6570\u91cf\u7684\u4e0a\u9650\uff0c\u5305\u62ec\u53ef\u89c1\u8f93\u51fa\u4ee4\u724c\u548c\u63a8\u7406\u4ee4\u724c\u3002</p>"},{"location":"openai-responses/#metadata","title":"metadata","text":"<p>\u7c7b\u578b: \u5bf9\u8c61 \u5fc5\u9700: \u5426</p> <p>\u53ef\u4ee5\u9644\u52a0\u5230\u5bf9\u8c61\u768416\u4e2a\u952e\u503c\u5bf9\u96c6\u5408\u3002\u8fd9\u5bf9\u4e8e\u4ee5\u7ed3\u6784\u5316\u683c\u5f0f\u5b58\u50a8\u5bf9\u8c61\u7684\u5176\u4ed6\u4fe1\u606f\u5f88\u6709\u7528,\u5e76\u53ef\u4ee5\u901a\u8fc7 API \u6216\u4eea\u8868\u677f\u67e5\u8be2\u5bf9\u8c61\u3002</p> <p>\u952e\u662f\u6700\u5927\u957f\u5ea6\u4e3a64\u4e2a\u5b57\u7b26\u7684\u5b57\u7b26\u4e32\u3002\u503c\u662f\u6700\u5927\u957f\u5ea6\u4e3a512\u4e2a\u5b57\u7b26\u7684\u5b57\u7b26\u4e32\u3002</p>"},{"location":"openai-responses/#parallel_tool_calls","title":"parallel_tool_calls","text":"<p>\u7c7b\u578b: \u5e03\u5c14\u503c\u6216null \u5fc5\u9700: \u5426 \u9ed8\u8ba4\u503c: true</p> <p>\u662f\u5426\u5141\u8bb8\u6a21\u578b\u5e76\u884c\u8fd0\u884c\u5de5\u5177\u8c03\u7528\u3002</p>"},{"location":"openai-responses/#previous_response_id","title":"previous_response_id","text":"<p>\u7c7b\u578b: \u5b57\u7b26\u4e32\u6216null \u5fc5\u9700: \u5426</p> <p>\u6a21\u578b\u7684\u524d\u4e00\u4e2a\u54cd\u5e94\u7684\u552f\u4e00ID\u3002\u4f7f\u7528\u6b64\u53c2\u6570\u521b\u5efa\u591a\u8f6e\u5bf9\u8bdd\u3002\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u5bf9\u8bdd\u72b6\u6001\u3002</p>"},{"location":"openai-responses/#reasoning","title":"reasoning","text":"<p>\u7c7b\u578b: \u5bf9\u8c61\u6216null \u5fc5\u9700: \u5426 \u4ec5\u9002\u7528\u4e8eo\u7cfb\u5217\u6a21\u578b</p> <p>\u63a8\u7406\u6a21\u578b\u7684\u914d\u7f6e\u9009\u9879\u3002</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 effort \u5b57\u7b26\u4e32\u6216null \u5426 \u63a8\u7406\u7684\u52aa\u529b\u7a0b\u5ea6\uff0c\u53ef\u9009\u503c: <code>low</code>, <code>medium</code>, <code>high</code>\u3002\u9ed8\u8ba4\u503c\u4e3a <code>medium</code>\u3002\u964d\u4f4e\u63a8\u7406\u52aa\u529b\u53ef\u4ee5\u52a0\u5feb\u54cd\u5e94\u901f\u5ea6\u5e76\u51cf\u5c11\u54cd\u5e94\u4e2d\u7528\u4e8e\u63a8\u7406\u7684\u4ee4\u724c\u6570 summary \u5b57\u7b26\u4e32\u6216null \u5426 \u6a21\u578b\u6267\u884c\u7684\u63a8\u7406\u6458\u8981\u3002\u8fd9\u5bf9\u4e8e\u8c03\u8bd5\u548c\u7406\u89e3\u6a21\u578b\u7684\u63a8\u7406\u8fc7\u7a0b\u5f88\u6709\u7528\u3002\u53ef\u9009\u503c: <code>auto</code>, <code>concise</code>, <code>detailed</code> generate_summary \u5b57\u7b26\u4e32\u6216null \u5426 \u5df2\u5f03\u7528: \u8bf7\u4f7f\u7528 <code>summary</code> \u66ff\u4ee3\u3002\u6a21\u578b\u6267\u884c\u7684\u63a8\u7406\u6458\u8981\u3002\u53ef\u9009\u503c: <code>auto</code>, <code>concise</code>, <code>detailed</code>"},{"location":"openai-responses/#service_tier","title":"service_tier","text":"<p>\u7c7b\u578b: \u5b57\u7b26\u4e32\u6216null \u5fc5\u9700: \u5426 \u9ed8\u8ba4\u503c: auto</p> <p>\u6307\u5b9a\u7528\u4e8e\u5904\u7406\u8bf7\u6c42\u7684\u5ef6\u8fdf\u5c42\u7ea7\u3002\u6b64\u53c2\u6570\u4e0e\u8ba2\u9605\u4e86 scale tier \u670d\u52a1\u7684\u5ba2\u6237\u76f8\u5173\uff1a</p> \u503c \u63cf\u8ff0 <code>auto</code> \u5982\u679c\u9879\u76ee\u542f\u7528\u4e86 Scale tier\uff0c\u7cfb\u7edf\u5c06\u4f7f\u7528 scale tier \u4fe1\u7528\u76f4\u5230\u7528\u5b8c\uff1b\u5982\u679c\u9879\u76ee\u672a\u542f\u7528 Scale tier\uff0c\u8bf7\u6c42\u5c06\u4f7f\u7528\u9ed8\u8ba4\u670d\u52a1\u5c42\u7ea7\u5904\u7406\uff0c\u5177\u6709\u8f83\u4f4e\u7684\u6b63\u5e38\u8fd0\u884c\u65f6\u95f4 SLA \u4e14\u65e0\u5ef6\u8fdf\u4fdd\u8bc1 <code>default</code> \u8bf7\u6c42\u5c06\u4f7f\u7528\u9ed8\u8ba4\u670d\u52a1\u5c42\u7ea7\u5904\u7406\uff0c\u5177\u6709\u8f83\u4f4e\u7684\u6b63\u5e38\u8fd0\u884c\u65f6\u95f4 SLA \u4e14\u65e0\u5ef6\u8fdf\u4fdd\u8bc1 <code>flex</code> \u8bf7\u6c42\u5c06\u4f7f\u7528 Flex Processing \u670d\u52a1\u5c42\u7ea7\u5904\u7406\u3002\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605\u5b98\u65b9\u6587\u6863 <p>\u5f53\u672a\u8bbe\u7f6e\u6b64\u53c2\u6570\u65f6\uff0c\u9ed8\u8ba4\u884c\u4e3a\u4e3a <code>auto</code>\u3002</p> <p>\u5f53\u8bbe\u7f6e\u6b64\u53c2\u6570\u65f6\uff0c\u54cd\u5e94\u4f53\u5c06\u5305\u542b\u5df2\u4f7f\u7528\u7684 <code>service_tier</code>\u3002</p>"},{"location":"openai-responses/#store","title":"store","text":"<p>\u7c7b\u578b: \u5e03\u5c14\u503c\u6216null \u5fc5\u9700: \u5426 \u9ed8\u8ba4\u503c: true</p> <p>\u662f\u5426\u5b58\u50a8\u751f\u6210\u7684\u6a21\u578b\u54cd\u5e94\u4ee5\u4f9b\u4ee5\u540e\u901a\u8fc7 API \u68c0\u7d22\u3002</p>"},{"location":"openai-responses/#stream","title":"stream","text":"<p>\u7c7b\u578b: \u5e03\u5c14\u503c\u6216null \u5fc5\u9700: \u5426 \u9ed8\u8ba4\u503c: false</p> <p>\u5982\u679c\u8bbe\u7f6e\u4e3a true\uff0c\u6a21\u578b\u54cd\u5e94\u6570\u636e\u5c06\u5728\u751f\u6210\u65f6\u4f7f\u7528\u670d\u52a1\u5668\u53d1\u9001\u7684\u4e8b\u4ef6\u6d41\u5f0f\u4f20\u8f93\u5230\u5ba2\u6237\u7aef\u3002</p>"},{"location":"openai-responses/#temperature","title":"temperature","text":"<p>\u7c7b\u578b: \u6570\u5b57\u6216null \u5fc5\u9700: \u5426 \u9ed8\u8ba4\u503c: 1</p> <p>\u8981\u4f7f\u7528\u7684\u91c7\u6837\u6e29\u5ea6\uff0c\u4ecb\u4e8e 0 \u548c 2 \u4e4b\u95f4\u3002\u8f83\u9ad8\u7684\u503c\uff08\u59820.8\uff09\u4f1a\u4f7f\u8f93\u51fa\u66f4\u52a0\u968f\u673a\uff0c\u800c\u8f83\u4f4e\u7684\u503c\uff08\u59820.2\uff09\u4f1a\u4f7f\u5176\u66f4\u52a0\u96c6\u4e2d\u548c\u786e\u5b9a\u6027\u3002\u6211\u4eec\u901a\u5e38\u5efa\u8bae\u66f4\u6539\u6b64\u503c\u6216 <code>top_p</code>\uff0c\u4f46\u4e0d\u8981\u540c\u65f6\u66f4\u6539\u3002</p>"},{"location":"openai-responses/#text","title":"text","text":"<p>\u7c7b\u578b: \u5bf9\u8c61 \u5fc5\u9700: \u5426</p> <p>\u6a21\u578b\u6587\u672c\u54cd\u5e94\u7684\u914d\u7f6e\u9009\u9879\u3002\u53ef\u4ee5\u662f\u7eaf\u6587\u672c\u6216\u7ed3\u6784\u5316JSON\u6570\u636e\u3002</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 format \u5bf9\u8c61 \u5426 \u6307\u5b9a\u6a21\u578b\u5fc5\u987b\u8f93\u51fa\u7684\u683c\u5f0f <p>\u914d\u7f6e <code>{ \"type\": \"json_schema\" }</code> \u542f\u7528\u7ed3\u6784\u5316\u8f93\u51fa\uff0c\u786e\u4fdd\u6a21\u578b\u5c06\u5339\u914d\u60a8\u63d0\u4f9b\u7684JSON\u6a21\u5f0f\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605\u7ed3\u6784\u5316\u8f93\u51fa\u6307\u5357\u3002</p> <p>\u9ed8\u8ba4\u683c\u5f0f\u4e3a <code>{ \"type\": \"text\" }</code>\uff0c\u6ca1\u6709\u5176\u4ed6\u9009\u9879\u3002</p> <p>\u4e0d\u63a8\u8350\u7528\u4e8egpt-4o\u53ca\u66f4\u65b0\u7684\u6a21\u578b\uff1a \u8bbe\u7f6e\u4e3a <code>{ \"type\": \"json_object\" }</code> \u542f\u7528\u8f83\u65e7\u7684JSON\u6a21\u5f0f\uff0c\u786e\u4fdd\u6a21\u578b\u751f\u6210\u7684\u6d88\u606f\u662f\u6709\u6548\u7684JSON\u3002\u5bf9\u4e8e\u652f\u6301\u7684\u6a21\u578b\uff0c\u9996\u9009\u4f7f\u7528 <code>json_schema</code>\u3002</p>"},{"location":"openai-responses/#_33","title":"\u6587\u672c\u683c\u5f0f\u7c7b\u578b","text":""},{"location":"openai-responses/#text_1","title":"\u6587\u672c (Text)","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 type \u5b57\u7b26\u4e32 \u662f \u5b9a\u4e49\u7684\u54cd\u5e94\u683c\u5f0f\u7c7b\u578b\u3002\u59cb\u7ec8\u4e3a <code>text</code>"},{"location":"openai-responses/#json-json-schema","title":"JSON\u6a21\u5f0f (JSON Schema)","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 name \u5b57\u7b26\u4e32 \u662f \u54cd\u5e94\u683c\u5f0f\u7684\u540d\u79f0\u3002\u5fc5\u987b\u5305\u542ba-z, A-Z, 0-9\uff0c\u6216\u5305\u542b\u4e0b\u5212\u7ebf\u548c\u7834\u6298\u53f7\uff0c\u6700\u5927\u957f\u5ea6\u4e3a64 schema \u5bf9\u8c61 \u662f \u54cd\u5e94\u683c\u5f0f\u7684\u6a21\u5f0f\uff0c\u63cf\u8ff0\u4e3aJSON Schema\u5bf9\u8c61 type \u5b57\u7b26\u4e32 \u662f \u5b9a\u4e49\u7684\u54cd\u5e94\u683c\u5f0f\u7c7b\u578b\u3002\u59cb\u7ec8\u4e3a <code>json_schema</code> description \u5b57\u7b26\u4e32 \u5426 \u54cd\u5e94\u683c\u5f0f\u7528\u9014\u7684\u63cf\u8ff0\uff0c\u6a21\u578b\u7528\u5b83\u6765\u786e\u5b9a\u5982\u4f55\u4ee5\u8be5\u683c\u5f0f\u54cd\u5e94 strict \u5e03\u5c14\u503c\u6216null \u5426 \u662f\u5426\u5728\u751f\u6210\u8f93\u51fa\u65f6\u542f\u7528\u4e25\u683c\u6a21\u5f0f\u9075\u5faa\u3002\u9ed8\u8ba4\u4e3a <code>false</code>\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a <code>true</code>\uff0c\u6a21\u578b\u5c06\u59cb\u7ec8\u9075\u5faa schema \u5b57\u6bb5\u4e2d\u5b9a\u4e49\u7684\u786e\u5207\u6a21\u5f0f\u3002\u4e25\u683c\u6a21\u5f0f\u4e0b\u53ea\u652f\u6301JSON Schema\u7684\u5b50\u96c6"},{"location":"openai-responses/#json-json-object","title":"JSON\u5bf9\u8c61 (JSON Object)","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 type \u5b57\u7b26\u4e32 \u662f \u5b9a\u4e49\u7684\u54cd\u5e94\u683c\u5f0f\u7c7b\u578b\u3002\u59cb\u7ec8\u4e3a <code>json_object</code> <p>\u6ce8\u610f\uff1a\u5982\u679c\u6ca1\u6709\u6307\u793a\u6a21\u578b\u8fd9\u6837\u505a\u7684\u7cfb\u7edf\u6216\u7528\u6237\u6d88\u606f\uff0c\u6a21\u578b\u5c06\u4e0d\u4f1a\u751f\u6210JSON\u3002\u5bf9\u4e8e\u652f\u6301\u7684\u6a21\u578b\uff0c\u5efa\u8bae\u4f7f\u7528 <code>json_schema</code>\u3002</p>"},{"location":"openai-responses/#tool_choice","title":"tool_choice","text":"<p>\u7c7b\u578b: \u5b57\u7b26\u4e32\u6216\u5bf9\u8c61 \u5fc5\u9700: \u5426</p> <p>\u6a21\u578b\u5982\u4f55\u9009\u62e9\u751f\u6210\u54cd\u5e94\u65f6\u4f7f\u7528\u7684\u5de5\u5177\uff08\u6216\u591a\u4e2a\u5de5\u5177\uff09\u3002\u8bf7\u53c2\u9605 <code>tools</code> \u53c2\u6570\u4e86\u89e3\u5982\u4f55\u6307\u5b9a\u6a21\u578b\u53ef\u4ee5\u8c03\u7528\u7684\u5de5\u5177\u3002</p>"},{"location":"openai-responses/#_34","title":"\u53ef\u80fd\u7684\u7c7b\u578b","text":""},{"location":"openai-responses/#tool-choice-mode","title":"\u5de5\u5177\u9009\u62e9\u6a21\u5f0f (Tool choice mode)","text":"<p>\u7c7b\u578b: \u5b57\u7b26\u4e32</p> <p>\u63a7\u5236\u6a21\u578b\u662f\u5426\u8c03\u7528\u5de5\u5177\u4ee5\u53ca\u8c03\u7528\u54ea\u79cd\u5de5\u5177\u3002</p> \u503c \u63cf\u8ff0 <code>none</code> \u6a21\u578b\u4e0d\u4f1a\u8c03\u7528\u4efb\u4f55\u5de5\u5177\uff0c\u800c\u662f\u751f\u6210\u4e00\u6761\u6d88\u606f <code>auto</code> \u6a21\u578b\u53ef\u4ee5\u5728\u751f\u6210\u6d88\u606f\u6216\u8c03\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u5de5\u5177\u4e4b\u95f4\u9009\u62e9 <code>required</code> \u6a21\u578b\u5fc5\u987b\u8c03\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u5de5\u5177"},{"location":"openai-responses/#hosted-tool","title":"\u6258\u7ba1\u5de5\u5177 (Hosted tool)","text":"<p>\u7c7b\u578b: \u5bf9\u8c61</p> <p>\u6307\u793a\u6a21\u578b\u5e94\u4f7f\u7528\u5185\u7f6e\u5de5\u5177\u751f\u6210\u54cd\u5e94\u3002</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 type \u5b57\u7b26\u4e32 \u662f \u6a21\u578b\u5e94\u4f7f\u7528\u7684\u6258\u7ba1\u5de5\u5177\u7c7b\u578b\u3002\u5141\u8bb8\u7684\u503c\u6709\uff1a<code>file_search</code>\u3001<code>web_search_preview</code>\u3001<code>computer_use_preview</code>"},{"location":"openai-responses/#function-tool","title":"\u51fd\u6570\u5de5\u5177 (Function tool)","text":"<p>\u7c7b\u578b: \u5bf9\u8c61</p> <p>\u4f7f\u7528\u6b64\u9009\u9879\u5f3a\u5236\u6a21\u578b\u8c03\u7528\u7279\u5b9a\u51fd\u6570\u3002</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 name \u5b57\u7b26\u4e32 \u662f \u8981\u8c03\u7528\u7684\u51fd\u6570\u540d\u79f0 type \u5b57\u7b26\u4e32 \u662f \u5bf9\u4e8e\u51fd\u6570\u8c03\u7528\uff0c\u7c7b\u578b\u59cb\u7ec8\u4e3a <code>function</code>"},{"location":"openai-responses/#tools","title":"tools","text":"<p>\u7c7b\u578b: \u6570\u7ec4 \u5fc5\u9700: \u5426</p> <p>\u6a21\u578b\u5728\u751f\u6210\u54cd\u5e94\u65f6\u53ef\u80fd\u8c03\u7528\u7684\u5de5\u5177\u6570\u7ec4\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e <code>tool_choice</code> \u53c2\u6570\u6765\u6307\u5b9a\u4f7f\u7528\u54ea\u4e2a\u5de5\u5177\u3002</p> <p>\u4f60\u53ef\u4ee5\u63d0\u4f9b\u7ed9\u6a21\u578b\u7684\u4e24\u7c7b\u5de5\u5177\u662f\uff1a</p> <ul> <li>\u5185\u7f6e\u5de5\u5177\uff1a\u7531OpenAI\u63d0\u4f9b\u7684\u6269\u5c55\u6a21\u578b\u80fd\u529b\u7684\u5de5\u5177\uff0c\u5982\u7f51\u7edc\u641c\u7d22\u6216\u6587\u4ef6\u641c\u7d22\u3002</li> <li>\u51fd\u6570\u8c03\u7528\uff08\u81ea\u5b9a\u4e49\u5de5\u5177\uff09\uff1a\u7531\u60a8\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u4f7f\u6a21\u578b\u80fd\u591f\u8c03\u7528\u60a8\u81ea\u5df1\u7684\u4ee3\u7801\u3002</li> </ul>"},{"location":"openai-responses/#file-search","title":"\u6587\u4ef6\u641c\u7d22\u5de5\u5177 (File search)","text":"<p>\u7c7b\u578b: \u5bf9\u8c61</p> <p>\u4e00\u4e2a\u641c\u7d22\u5df2\u4e0a\u4f20\u6587\u4ef6\u4e2d\u76f8\u5173\u5185\u5bb9\u7684\u5de5\u5177\u3002</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 type \u5b57\u7b26\u4e32 \u662f \u6587\u4ef6\u641c\u7d22\u5de5\u5177\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>file_search</code> vector_store_ids \u6570\u7ec4 \u662f \u8981\u641c\u7d22\u7684\u5411\u91cf\u5b58\u50a8ID\u5217\u8868 filters \u5bf9\u8c61 \u5426 \u8981\u5e94\u7528\u7684\u8fc7\u6ee4\u5668 max_num_results \u6574\u6570 \u5426 \u8fd4\u56de\u7684\u6700\u5927\u7ed3\u679c\u6570\u3002\u6b64\u6570\u5b57\u5e94\u4ecb\u4e8e1\u523050\u4e4b\u95f4\uff08\u542b\uff09 ranking_options \u5bf9\u8c61 \u5426 \u641c\u7d22\u6392\u540d\u9009\u9879"},{"location":"openai-responses/#_35","title":"\u8fc7\u6ee4\u5668\u7c7b\u578b","text":"<p>\u6bd4\u8f83\u8fc7\u6ee4\u5668 (Comparison Filter)</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 key \u5b57\u7b26\u4e32 \u662f \u8981\u4e0e\u503c\u8fdb\u884c\u6bd4\u8f83\u7684\u952e type \u5b57\u7b26\u4e32 \u662f \u6307\u5b9a\u6bd4\u8f83\u8fd0\u7b97\u7b26: <code>eq</code>, <code>ne</code>, <code>gt</code>, <code>gte</code>, <code>lt</code>, <code>lte</code>- eq: \u7b49\u4e8e- ne: \u4e0d\u7b49\u4e8e- gt: \u5927\u4e8e- gte: \u5927\u4e8e\u7b49\u4e8e- lt: \u5c0f\u4e8e- lte: \u5c0f\u4e8e\u7b49\u4e8e value \u5b57\u7b26\u4e32/\u6570\u5b57/\u5e03\u5c14\u503c \u662f \u8981\u4e0e\u5c5e\u6027\u952e\u6bd4\u8f83\u7684\u503c\uff1b\u652f\u6301\u5b57\u7b26\u4e32\u3001\u6570\u5b57\u6216\u5e03\u5c14\u7c7b\u578b <p>\u590d\u5408\u8fc7\u6ee4\u5668 (Compound Filter)</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 filters \u6570\u7ec4 \u662f \u8981\u7ec4\u5408\u7684\u8fc7\u6ee4\u5668\u6570\u7ec4\u3002\u9879\u76ee\u53ef\u4ee5\u662f\u6bd4\u8f83\u8fc7\u6ee4\u5668\u6216\u590d\u5408\u8fc7\u6ee4\u5668 type \u5b57\u7b26\u4e32 \u662f \u64cd\u4f5c\u7c7b\u578b: <code>and</code> \u6216 <code>or</code>"},{"location":"openai-responses/#_36","title":"\u6392\u540d\u9009\u9879","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 ranker \u5b57\u7b26\u4e32 \u5426 \u6587\u4ef6\u641c\u7d22\u4f7f\u7528\u7684\u6392\u540d\u5668 score_threshold \u6570\u5b57 \u5426 \u6587\u4ef6\u641c\u7d22\u7684\u5206\u6570\u9608\u503c\uff0c\u4ecb\u4e8e0\u548c1\u4e4b\u95f4\u7684\u6570\u5b57\u3002\u63a5\u8fd11\u7684\u6570\u5b57\u5c06\u5c1d\u8bd5\u4ec5\u8fd4\u56de\u6700\u76f8\u5173\u7684\u7ed3\u679c\uff0c\u4f46\u53ef\u80fd\u8fd4\u56de\u66f4\u5c11\u7684\u7ed3\u679c"},{"location":"openai-responses/#function","title":"\u51fd\u6570\u5de5\u5177 (Function)","text":"<p>\u7c7b\u578b: \u5bf9\u8c61</p> <p>\u5b9a\u4e49\u6a21\u578b\u53ef\u4ee5\u9009\u62e9\u8c03\u7528\u7684\u60a8\u81ea\u5df1\u4ee3\u7801\u4e2d\u7684\u51fd\u6570\u3002</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 type \u5b57\u7b26\u4e32 \u662f \u51fd\u6570\u5de5\u5177\u7684\u7c7b\u578b\uff0c\u59cb\u7ec8\u4e3a <code>function</code> name \u5b57\u7b26\u4e32 \u662f \u8981\u8c03\u7528\u7684\u51fd\u6570\u540d\u79f0 parameters \u5bf9\u8c61 \u662f \u63cf\u8ff0\u51fd\u6570\u53c2\u6570\u7684JSON\u6a21\u5f0f\u5bf9\u8c61 strict \u5e03\u5c14\u503c \u662f \u662f\u5426\u5f3a\u5236\u4e25\u683c\u53c2\u6570\u9a8c\u8bc1\u3002\u9ed8\u8ba4\u4e3a <code>true</code> description \u5b57\u7b26\u4e32 \u5426 \u51fd\u6570\u7684\u63cf\u8ff0\u3002\u6a21\u578b\u7528\u5b83\u6765\u786e\u5b9a\u662f\u5426\u8c03\u7528\u51fd\u6570"},{"location":"openai-responses/#web-search-preview","title":"\u7f51\u7edc\u641c\u7d22\u5de5\u5177 (Web search preview)","text":"<p>\u7c7b\u578b: \u5bf9\u8c61</p> <p>\u6b64\u5de5\u5177\u641c\u7d22\u7f51\u7edc\u4e0a\u7684\u76f8\u5173\u7ed3\u679c\uff0c\u7528\u4e8e\u54cd\u5e94\u3002</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 type \u5b57\u7b26\u4e32 \u662f \u7f51\u7edc\u641c\u7d22\u5de5\u5177\u7684\u7c7b\u578b\u3002\u53ef\u9009\u503c: <code>web_search_preview</code> \u6216 <code>web_search_preview_2025_03_11</code> search_context_size \u5b57\u7b26\u4e32 \u5426 \u5bf9\u7528\u4e8e\u641c\u7d22\u7684\u4e0a\u4e0b\u6587\u7a97\u53e3\u7a7a\u95f4\u91cf\u7684\u9ad8\u7ea7\u6307\u5bfc\u3002\u53ef\u9009\u503c: <code>low</code>, <code>medium</code>, <code>high</code>\u3002\u9ed8\u8ba4\u4e3a <code>medium</code> user_location \u5bf9\u8c61 \u5426 \u7528\u6237\u7684\u4f4d\u7f6e domains \u6570\u7ec4 \u5426 \u9650\u5236\u641c\u7d22\u7684\u57df\u540d\u5217\u8868"},{"location":"openai-responses/#_37","title":"\u7528\u6237\u4f4d\u7f6e","text":"\u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 type \u5b57\u7b26\u4e32 \u662f \u4f4d\u7f6e\u8fd1\u4f3c\u7c7b\u578b\u3002\u59cb\u7ec8\u4e3a <code>approximate</code> city \u5b57\u7b26\u4e32 \u5426 \u7528\u6237\u6240\u5728\u57ce\u5e02\u7684\u81ea\u7531\u6587\u672c\u8f93\u5165\uff0c\u4f8b\u5982 \"San Francisco\" country \u5b57\u7b26\u4e32 \u5426 \u7528\u6237\u7684\u4e24\u5b57\u6bcdISO\u56fd\u5bb6\u4ee3\u7801\uff0c\u4f8b\u5982 \"US\" region \u5b57\u7b26\u4e32 \u5426 \u7528\u6237\u6240\u5728\u533a\u57df\u7684\u81ea\u7531\u6587\u672c\u8f93\u5165\uff0c\u4f8b\u5982 \"California\" timezone \u5b57\u7b26\u4e32 \u5426 \u7528\u6237\u7684IANA\u65f6\u533a\uff0c\u4f8b\u5982 \"America/Los_Angeles\""},{"location":"openai-responses/#computer-use-preview","title":"\u8ba1\u7b97\u673a\u4f7f\u7528\u5de5\u5177 (Computer use preview)","text":"<p>\u7c7b\u578b: \u5bf9\u8c61</p> <p>\u63a7\u5236\u865a\u62df\u8ba1\u7b97\u673a\u7684\u5de5\u5177\u3002</p> \u5c5e\u6027 \u7c7b\u578b \u5fc5\u9700 \u63cf\u8ff0 type \u5b57\u7b26\u4e32 \u662f \u8ba1\u7b97\u673a\u4f7f\u7528\u5de5\u5177\u7684\u7c7b\u578b\u3002\u59cb\u7ec8\u4e3a <code>computer_use_preview</code> display_height \u6574\u6570 \u662f \u8ba1\u7b97\u673a\u663e\u793a\u5668\u7684\u9ad8\u5ea6 display_width \u6574\u6570 \u662f \u8ba1\u7b97\u673a\u663e\u793a\u5668\u7684\u5bbd\u5ea6 environment \u5b57\u7b26\u4e32 \u662f \u8981\u63a7\u5236\u7684\u8ba1\u7b97\u673a\u73af\u5883\u7c7b\u578b"},{"location":"openai-responses/#top_p","title":"top_p","text":"<p>\u7c7b\u578b: \u6570\u5b57\u6216null \u5fc5\u9700: \u5426 \u9ed8\u8ba4\u503c: 1</p> <p>\u4e00\u79cd\u66ff\u4ee3\u91c7\u6837\u6e29\u5ea6\u7684\u65b9\u6cd5\uff0c\u79f0\u4e3a\u6838\u91c7\u6837\uff0c\u5176\u4e2d\u6a21\u578b\u8003\u8651\u5177\u6709 top_p \u6982\u7387\u8d28\u91cf\u7684\u6807\u8bb0\u7ed3\u679c\u3002\u56e0\u6b64\uff0c0.1 \u610f\u5473\u7740\u53ea\u8003\u8651\u5305\u542b\u524d 10% \u6982\u7387\u8d28\u91cf\u7684\u6807\u8bb0\u3002</p> <p>\u6211\u4eec\u901a\u5e38\u5efa\u8bae\u66f4\u6539\u6b64\u503c\u6216 <code>temperature</code>\uff0c\u4f46\u4e0d\u8981\u540c\u65f6\u66f4\u6539\u3002</p>"},{"location":"openai-responses/#truncation","title":"truncation","text":"<p>\u7c7b\u578b: \u5b57\u7b26\u4e32\u6216null \u5fc5\u9700: \u5426 \u9ed8\u8ba4\u503c: disabled</p> <p>\u7528\u4e8e\u6a21\u578b\u54cd\u5e94\u7684\u622a\u65ad\u7b56\u7565\uff1a</p> \u503c \u63cf\u8ff0 <code>auto</code> \u5982\u679c\u6b64\u54cd\u5e94\u548c\u524d\u4e00\u4e2a\u54cd\u5e94\u7684\u4e0a\u4e0b\u6587\u8d85\u8fc7\u6a21\u578b\u7684\u4e0a\u4e0b\u6587\u7a97\u53e3\u5927\u5c0f\uff0c\u6a21\u578b\u5c06\u901a\u8fc7\u5220\u9664\u5bf9\u8bdd\u4e2d\u95f4\u7684\u8f93\u5165\u9879\u6765\u622a\u65ad\u54cd\u5e94\u4ee5\u9002\u5e94\u4e0a\u4e0b\u6587\u7a97\u53e3 <code>disabled</code> \u5982\u679c\u6a21\u578b\u54cd\u5e94\u5c06\u8d85\u8fc7\u6a21\u578b\u7684\u4e0a\u4e0b\u6587\u7a97\u53e3\u5927\u5c0f\uff0c\u8bf7\u6c42\u5c06\u5931\u8d25\u5e76\u663e\u793a400\u9519\u8bef"},{"location":"openai-responses/#user","title":"user","text":"<p>\u7c7b\u578b: \u5b57\u7b26\u4e32 \u5fc5\u9700: \u5426</p> <p>\u8868\u793a\u6700\u7ec8\u7528\u6237\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u53ef\u4ee5\u5e2e\u52a9OpenAI\u76d1\u63a7\u548c\u68c0\u6d4b\u6ee5\u7528\u884c\u4e3a\u3002</p>"},{"location":"openai-responses/#_38","title":"\ud83d\udce5 \u54cd\u5e94","text":"<p>\u8fd4\u56de\u4e00\u4e2a\u54cd\u5e94\u5bf9\u8c61\u3002</p>"},{"location":"openai-responses/#_39","title":"\u6210\u529f\u54cd\u5e94","text":"<p>\u8fd4\u56de\u4e00\u4e2a\u54cd\u5e94\u5bf9\u8c61\uff0c\u5982\u679c\u8bf7\u6c42\u88ab\u6d41\u5f0f\u4f20\u8f93\uff0c\u5219\u8fd4\u56de\u54cd\u5e94\u5bf9\u8c61\u7684\u6d41\u5f0f\u5e8f\u5217\u3002</p>"},{"location":"openai-responses/#id","title":"id","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u54cd\u5e94\u7684\u552f\u4e00\u6807\u8bc6\u7b26</li> </ul>"},{"location":"openai-responses/#object","title":"object","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32  </li> <li>\u8bf4\u660e\uff1a\u5bf9\u8c61\u7c7b\u578b,\u503c\u4e3a \"response\"</li> </ul>"},{"location":"openai-responses/#created_at","title":"created_at","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570</li> <li>\u8bf4\u660e\uff1a\u54cd\u5e94\u521b\u5efa\u65f6\u95f4\u6233</li> </ul>"},{"location":"openai-responses/#status","title":"status","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u54cd\u5e94\u72b6\u6001\uff0c\u5982 \"completed\"\u3001\"in_progress\" \u7b49</li> </ul>"},{"location":"openai-responses/#error","title":"error","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61\u6216null</li> <li>\u8bf4\u660e\uff1a\u5982\u679c\u53d1\u751f\u9519\u8bef\uff0c\u5305\u542b\u9519\u8bef\u4fe1\u606f</li> </ul>"},{"location":"openai-responses/#incomplete_details","title":"incomplete_details","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61\u6216null</li> <li>\u8bf4\u660e\uff1a\u5982\u679c\u54cd\u5e94\u4e0d\u5b8c\u6574\uff0c\u5305\u542b\u8be6\u7ec6\u4fe1\u606f</li> </ul>"},{"location":"openai-responses/#instructions_1","title":"instructions","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216null</li> <li>\u8bf4\u660e\uff1a\u63d0\u4f9b\u7ed9\u6a21\u578b\u7684\u7cfb\u7edf\u6307\u4ee4</li> </ul>"},{"location":"openai-responses/#max_output_tokens_1","title":"max_output_tokens","text":"<ul> <li>\u7c7b\u578b\uff1a\u6574\u6570\u6216null</li> <li>\u8bf4\u660e\uff1a\u6700\u5927\u8f93\u51fa\u6807\u8bb0\u6570</li> </ul>"},{"location":"openai-responses/#model_1","title":"model","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u4f7f\u7528\u7684\u6a21\u578b\u540d\u79f0</li> </ul>"},{"location":"openai-responses/#output","title":"output","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u8bf4\u660e\uff1a\u5305\u542b\u751f\u6210\u7684\u56de\u590d\u548c\u5de5\u5177\u8c03\u7528</li> <li>\u53ef\u80fd\u5305\u542b:</li> <li>\u6d88\u606f\u5bf9\u8c61\uff08<code>type</code>: \"message\"\uff09</li> <li>\u5de5\u5177\u4f7f\u7528\u5bf9\u8c61\uff08<code>type</code>: \"tool_use\"\uff09</li> </ul>"},{"location":"openai-responses/#parallel_tool_calls_1","title":"parallel_tool_calls","text":"<ul> <li>\u7c7b\u578b\uff1a\u5e03\u5c14\u503c</li> <li>\u8bf4\u660e\uff1a\u662f\u5426\u542f\u7528\u5e76\u884c\u5de5\u5177\u8c03\u7528</li> </ul>"},{"location":"openai-responses/#previous_response_id_1","title":"previous_response_id","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216null</li> <li>\u8bf4\u660e\uff1a\u524d\u4e00\u4e2a\u54cd\u5e94\u7684ID\uff08\u7528\u4e8e\u591a\u8f6e\u5bf9\u8bdd\uff09</li> </ul>"},{"location":"openai-responses/#reasoning_1","title":"reasoning","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u8bf4\u660e\uff1a\u63a8\u7406\u76f8\u5173\u4fe1\u606f</li> </ul>"},{"location":"openai-responses/#store_1","title":"store","text":"<ul> <li>\u7c7b\u578b\uff1a\u5e03\u5c14\u503c</li> <li>\u8bf4\u660e\uff1a\u662f\u5426\u5b58\u50a8\u6b64\u54cd\u5e94</li> </ul>"},{"location":"openai-responses/#temperature_1","title":"temperature","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u5b57</li> <li>\u8bf4\u660e\uff1a\u4f7f\u7528\u7684\u91c7\u6837\u6e29\u5ea6</li> </ul>"},{"location":"openai-responses/#text_2","title":"text","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u8bf4\u660e\uff1a\u6587\u672c\u8f93\u51fa\u683c\u5f0f\u914d\u7f6e</li> </ul>"},{"location":"openai-responses/#tool_choice_1","title":"tool_choice","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u5de5\u5177\u9009\u62e9\u7b56\u7565</li> </ul>"},{"location":"openai-responses/#tools_1","title":"tools","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u7ec4</li> <li>\u8bf4\u660e\uff1a\u53ef\u7528\u5de5\u5177\u5217\u8868</li> </ul>"},{"location":"openai-responses/#top_p_1","title":"top_p","text":"<ul> <li>\u7c7b\u578b\uff1a\u6570\u5b57</li> <li>\u8bf4\u660e\uff1a\u6838\u91c7\u6837\u9608\u503c</li> </ul>"},{"location":"openai-responses/#truncation_1","title":"truncation","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32</li> <li>\u8bf4\u660e\uff1a\u622a\u65ad\u7b56\u7565</li> </ul>"},{"location":"openai-responses/#usage","title":"usage","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u8bf4\u660e\uff1atoken \u4f7f\u7528\u7edf\u8ba1</li> <li>\u5c5e\u6027:</li> <li><code>input_tokens</code>: \u8f93\u5165\u4f7f\u7528\u7684 token \u6570</li> <li><code>input_tokens_details</code>: \u8f93\u5165token\u8be6\u7ec6\u4fe1\u606f</li> <li><code>output_tokens</code>: \u8f93\u51fa\u4f7f\u7528\u7684 token \u6570</li> <li><code>output_tokens_details</code>: \u8f93\u51fatoken\u8be6\u7ec6\u4fe1\u606f</li> <li><code>total_tokens</code>: \u603b token \u6570</li> </ul>"},{"location":"openai-responses/#user_1","title":"user","text":"<ul> <li>\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u6216null</li> <li>\u8bf4\u660e\uff1a\u7528\u6237\u6807\u8bc6\u7b26</li> </ul>"},{"location":"openai-responses/#metadata_1","title":"metadata","text":"<ul> <li>\u7c7b\u578b\uff1a\u5bf9\u8c61</li> <li>\u8bf4\u660e\uff1a\u9644\u52a0\u7684\u5143\u6570\u636e\u4fe1\u606f </li> </ul>"},{"location":"suno-music/","title":"Suno \u97f3\u4e50\u683c\u5f0f\uff08Music\uff09","text":"<p>\u8bf7\u4f60\u6ce8\u610f</p> <p>\u8be5\u63a5\u53e3 \u975eSuno\u5b98\u65b9\u7684\u63a5\u53e3\uff0c\u800c\u662f\u57fa\u4e8e\u4f5c\u8005 \u67cf\u62c9\u56fe \u7684\u5f00\u6e90\u9879\u76ee Suno-API \u5b9e\u73b0\u7684Suno\u4ee3\u7406\u63a5\u53e3\u3002</p> <p>\u8fd9\u91cc\u975e\u5e38\u611f\u8c22\u4f5c\u8005\u7684\u8d21\u732e\uff0c\u8ba9\u6211\u4eec\u53ef\u4ee5\u65b9\u4fbf\u4f7f\u7528Suno\u7684\u5f3a\u5927\u529f\u80fd\uff0c\u5982\u679c\u6709\u65f6\u95f4\uff0c\u8bf7\u7ed9\u4f5c\u8005\u4e00\u4e2aStar\u3002</p>"},{"location":"suno-music/#_1","title":"\ud83d\udcdd \u7b80\u4ecb","text":"<p>Suno Music API \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u97f3\u4e50\u751f\u6210\u548c\u5904\u7406\u7684\u529f\u80fd\uff0c\u5305\u62ec:</p> <ul> <li> <p>\u6839\u636e\u63d0\u793a\u751f\u6210\u6b4c\u66f2\uff08\u7075\u611f\u6a21\u5f0f\u3001\u81ea\u5b9a\u4e49\u6a21\u5f0f\uff09</p> </li> <li> <p>\u7eed\u5199\u5df2\u6709\u6b4c\u66f2</p> </li> <li> <p>\u62fc\u63a5\u591a\u4e2a\u97f3\u9891\u7247\u6bb5  </p> </li> <li> <p>\u751f\u6210\u6b4c\u8bcd</p> </li> <li> <p>\u4e0a\u4f20\u97f3\u9891 </p> </li> </ul> <p>\u901a\u8fc7 API \u53ef\u4ee5\u65b9\u4fbf\u5730\u5c06 AI \u97f3\u4e50\u751f\u6210\u80fd\u529b\u96c6\u6210\u5230\u4f60\u7684\u5e94\u7528\u4e2d\u3002</p>"},{"location":"suno-music/#_2","title":"\ud83d\udca1 \u8bf7\u6c42\u793a\u4f8b","text":""},{"location":"suno-music/#_3","title":"\u751f\u6210\u6b4c\u66f2 \u2705","text":"<pre><code>curl --location 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/suno/submit/music' \\\n--header 'Authorization: Bearer $API_API_KEY' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"prompt\":\"[Verse]\\nWalking down the streets\\nBeneath the city lights\\nNeon signs flickering\\nLighting up the night\\nHeart beating faster\\nLike a drum in my chest\\nI'\\''m alive in this moment\\nFeeling so blessed\\n\\nStilettos on the pavement\\nStepping with grace\\nSurrounded by the people\\nMoving at their own pace\\nThe rhythm of the city\\nIt pulses in my veins\\nLost in the energy\\nAs my worries drain\\n\\n[Verse 2]\\nConcrete jungle shining\\nWith its dazzling glow\\nEvery corner hiding secrets that only locals know\\nA symphony of chaos\\nBut it'\\''s music to my ears\\nThe hustle and the bustle\\nWiping away my fears\",\n    \"tags\":\"emotional punk\",\n    \"mv\":\"chirp-v4\",  \n    \"title\":\"City Lights\"\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"code\":\"success\",\n  \"message\":\"\",\n  \"data\":\"736a6f88-bd29-4b1e-b110-37132a5325ac\"\n}\n</code></pre>"},{"location":"suno-music/#_4","title":"\u751f\u6210\u6b4c\u8bcd \u2705","text":"<pre><code>curl --location 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/suno/submit/lyrics' \\\n--header 'Authorization: Bearer $API_API_KEY' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"prompt\":\"dance\"\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"code\":\"success\",\n  \"message\":\"\",\n  \"data\":\"736a6f88-bd29-4b1e-b110-37132a5325ac\" \n}\n</code></pre>"},{"location":"suno-music/#_5","title":"\u4e0a\u4f20\u97f3\u9891 \u274c","text":"<pre><code>curl --location 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/suno/uploads/audio-url' \\\n--header 'Authorization: Bearer $API_API_KEY' \\  \n--header 'Content-Type: application/json' \\\n--data '{ \n    \"url\":\"http://cdnimg.example.com/ai/2024-06-18/d416d9c3c34eb22c7d8c094831d8dbd0.mp3\"\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"code\":\"success\",\n  \"message\":\"\",\n  \"data\":\"736a6f88-bd29-4b1e-b110-37132a5325ac\"\n}  \n</code></pre>"},{"location":"suno-music/#_6","title":"\u6b4c\u66f2\u62fc\u63a5 \u274c","text":"<pre><code>curl --location 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/suno/submit/concat' \\\n--header 'Authorization: Bearer $API_API_KEY' \\\n--header 'Content-Type: application/json' \\  \n--data '{\n    \"clip_id\":\"extend \u540e\u7684 \u6b4c\u66f2ID\", \n    \"is_infill\": false\n}'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"code\":\"success\", \n  \"message\":\"\",\n  \"data\":\"736a6f88-bd29-4b1e-b110-37132a5325ac\"  \n}\n</code></pre>"},{"location":"suno-music/#_7","title":"\u67e5\u8be2\u4efb\u52a1\u72b6\u6001 \u2705","text":""},{"location":"suno-music/#_8","title":"\u6279\u91cf\u67e5\u8be2","text":"<pre><code>curl --location 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/suno/fetch' \\\n--header 'Authorization: Bearer $API_API_KEY' \\ \n--header 'Content-Type: application/json' \\\n--data '{\n    \"ids\":[\"task_id\"], \n    \"action\":\"MUSIC\"\n}'  \n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"code\":\"success\",\n  \"message\":\"\", \n  \"data\":[\n    {\n      \"task_id\":\"346c5d10-a4a1-4f49-a851-66a7dae6cfaf\",\n      \"notify_hook\":\"\",\n      \"action\":\"MUSIC\", \n      \"status\":\"IN_PROGRESS\",\n      \"fail_reason\":\"\",\n      \"submit_time\":1716191749, \n      \"start_time\":1716191786,\n      \"finish_time\":0,\n      \"progress\":\"0%\",\n      \"data\":[\n        {\n          \"id\":\"e9893d04-6a63-4007-8473-64b706eca4d1\",\n          \"title\":\"Electric Dance Party\",\n          \"status\":\"streaming\",\n          \"metadata\":{\n            \"tags\":\"club banger high-energy edm\",\n            \"prompt\":\"\u7565\",\n            \"duration\":null,\n            \"error_type\":null,\n            \"error_message\":null, \n            \"audio_prompt_id\":null,\n            \"gpt_description_prompt\":\"miku dance\"\n          },\n          \"audio_url\":\"https://audiopipe.suno.ai/?item_id=e9893d04-6a63-4007-8473-64b706eca4d1\",\n          \"image_url\":\"https://cdn1.suno.ai/image_e9893d04-6a63-4007-8473-64b706eca4d1.png\",\n          \"video_url\":\"\",\n          \"model_name\":\"chirp-v3\", \n          \"image_large_url\":\"https://cdn1.suno.ai/image_large_e9893d04-6a63-4007-8473-64b706eca4d1.png\", \n          \"major_model_version\":\"v3\"\n        }\n      ]\n    } \n  ] \n}\n</code></pre>"},{"location":"suno-music/#_9","title":"\u5355\u4e2a\u67e5\u8be2","text":"<pre><code>curl --location 'https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/suno/fetch/{{task_id}}' \\ \n--header 'Authorization: Bearer $API_API_KEY'\n</code></pre> <p>\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>{\n  \"code\":\"success\",\n  \"message\":\"\",\n  \"data\":{\n    \"task_id\":\"f4a94d75-087b-4bb1-bd45-53ba293faf96\",\n    \"notify_hook\":\"\", \n    \"action\":\"LYRICS\",\n    \"status\":\"SUCCESS\",\n    \"fail_reason\":\"\",\n    \"submit_time\":1716192124, \n    \"start_time\":1716192124, \n    \"finish_time\":1716192124,\n    \"progress\":\"100%\", \n    \"data\":{\n      \"id\":\"f4a94d75-087b-4bb1-bd45-53ba293faf96\",\n      \"text\":\"\u7565\", \n      \"title\":\"Electric Fantasy\",\n      \"status\":\"complete\"  \n    }\n  }\n}\n</code></pre>"},{"location":"suno-music/#_10","title":"\ud83d\udcee \u8bf7\u6c42","text":"<p>\u6240\u6709\u8bf7\u6c42\u90fd\u9700\u5728\u8bf7\u6c42\u5934\u4e2d\u5305\u542b\u8ba4\u8bc1\u4fe1\u606f:</p> <pre><code>Authorization: Bearer $API_API_KEY\n</code></pre>"},{"location":"suno-music/#_11","title":"\u7aef\u70b9","text":""},{"location":"suno-music/#_12","title":"\u751f\u6210\u6b4c\u66f2","text":"<p><pre><code>POST /suno/submit/music  \n</code></pre> \u751f\u6210\u65b0\u7684\u6b4c\u66f2,\u652f\u6301\u7075\u611f\u6a21\u5f0f\u3001\u81ea\u5b9a\u4e49\u6a21\u5f0f\u3001\u7eed\u5199\u3002</p>"},{"location":"suno-music/#_13","title":"\u751f\u6210\u6b4c\u8bcd","text":"<p><pre><code>POST /suno/submit/lyrics\n</code></pre> \u6839\u636e\u63d0\u793a\u751f\u6210\u6b4c\u8bcd\u3002</p>"},{"location":"suno-music/#_14","title":"\u4e0a\u4f20\u97f3\u9891","text":"<p><pre><code>POST /suno/uploads/audio-url\n</code></pre> \u4e0a\u4f20\u97f3\u9891\u6587\u4ef6\u3002</p>"},{"location":"suno-music/#_15","title":"\u6b4c\u66f2\u62fc\u63a5","text":"<p><pre><code>POST /suno/submit/concat\n</code></pre> \u5c06\u591a\u4e2a\u97f3\u9891\u7247\u6bb5\u62fc\u63a5\u4e3a\u4e00\u9996\u5b8c\u6574\u7684\u6b4c\u66f2\u3002</p>"},{"location":"suno-music/#_16","title":"\u6279\u91cf\u67e5\u8be2\u4efb\u52a1\u72b6\u6001","text":"<p><pre><code>POST /suno/fetch  \n</code></pre> \u6279\u91cf\u83b7\u53d6\u591a\u4e2a\u4efb\u52a1\u7684\u72b6\u6001\u548c\u7ed3\u679c\u3002</p>"},{"location":"suno-music/#_17","title":"\u67e5\u8be2\u5355\u4e2a\u4efb\u52a1\u72b6\u6001","text":"<p><pre><code>GET /suno/fetch/{{task_id}}\n</code></pre> \u67e5\u8be2\u5355\u4e2a\u4efb\u52a1\u7684\u72b6\u6001\u548c\u7ed3\u679c\u3002</p>"},{"location":"suno-music/#_18","title":"\u8bf7\u6c42\u4f53\u53c2\u6570","text":""},{"location":"suno-music/#_19","title":"\u751f\u6210\u6b4c\u66f2","text":""},{"location":"suno-music/#prompt","title":"<code>prompt</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u5fc5\u9700:\u7075\u611f\u6a21\u5f0f\u65e0\u9700,\u81ea\u5b9a\u4e49\u6a21\u5f0f\u5fc5\u9700</li> <li>\u8bf4\u660e:\u6b4c\u8bcd\u5185\u5bb9,\u5728\u81ea\u5b9a\u4e49\u6a21\u5f0f\u4e0b\u9700\u63d0\u4f9b </li> </ul>"},{"location":"suno-music/#mv","title":"<code>mv</code>","text":"<ul> <li>\u7c7b\u578b:String  </li> <li>\u5fc5\u9700:\u5426</li> <li>\u8bf4\u660e:\u6a21\u578b\u7248\u672c,\u53ef\u9009\u503c:chirp-v3-0\u3001chirp-v3-5,\u9ed8\u8ba4\u4e3a chirp-v3-0</li> </ul>"},{"location":"suno-music/#title","title":"<code>title</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u5fc5\u9700:\u7075\u611f\u6a21\u5f0f\u65e0\u9700,\u81ea\u5b9a\u4e49\u6a21\u5f0f\u5fc5\u9700  </li> <li>\u8bf4\u660e:\u6b4c\u66f2\u6807\u9898,\u5728\u81ea\u5b9a\u4e49\u6a21\u5f0f\u4e0b\u9700\u63d0\u4f9b</li> </ul>"},{"location":"suno-music/#tags","title":"<code>tags</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u5fc5\u9700:\u7075\u611f\u6a21\u5f0f\u65e0\u9700,\u81ea\u5b9a\u4e49\u6a21\u5f0f\u5fc5\u9700</li> <li>\u8bf4\u660e:\u6b4c\u66f2\u98ce\u683c\u6807\u7b7e,\u4f7f\u7528\u9017\u53f7\u5206\u9694,\u5728\u81ea\u5b9a\u4e49\u6a21\u5f0f\u4e0b\u9700\u63d0\u4f9b</li> </ul>"},{"location":"suno-music/#make_instrumental","title":"<code>make_instrumental</code>","text":"<ul> <li>\u7c7b\u578b:Boolean </li> <li>\u5fc5\u9700:\u5426</li> <li>\u8bf4\u660e:\u662f\u5426\u751f\u6210\u7eaf\u97f3\u4e50,true \u4e3a\u751f\u6210\u7eaf\u97f3\u4e50  </li> </ul>"},{"location":"suno-music/#task_id","title":"<code>task_id</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u5fc5\u9700:\u7eed\u5199\u65f6\u5fc5\u9700</li> <li>\u8bf4\u660e:\u8981\u7eed\u5199\u7684\u6b4c\u66f2\u7684\u4efb\u52a1 ID</li> </ul>"},{"location":"suno-music/#continue_at","title":"<code>continue_at</code>","text":"<ul> <li>\u7c7b\u578b:Float</li> <li>\u5fc5\u9700:\u7eed\u5199\u65f6\u5fc5\u9700</li> <li>\u8bf4\u660e:\u4ece\u6b4c\u66f2\u7684\u7b2c\u51e0\u79d2\u5f00\u59cb\u7eed\u5199  </li> </ul>"},{"location":"suno-music/#continue_clip_id","title":"<code>continue_clip_id</code>","text":"<ul> <li>\u7c7b\u578b:String </li> <li>\u5fc5\u9700:\u7eed\u5199\u65f6\u5fc5\u9700</li> <li>\u8bf4\u660e:\u8981\u7eed\u5199\u7684\u6b4c\u66f2\u7684 clip ID</li> </ul>"},{"location":"suno-music/#gpt_description_prompt","title":"<code>gpt_description_prompt</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u5fc5\u9700:\u7075\u611f\u6a21\u5f0f\u5fc5\u9700,\u5176\u4ed6\u6a21\u5f0f\u65e0\u9700 </li> <li>\u8bf4\u660e:\u7075\u611f\u6765\u6e90\u7684\u6587\u5b57\u63cf\u8ff0</li> </ul>"},{"location":"suno-music/#notify_hook","title":"<code>notify_hook</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u5fc5\u9700:\u5426 </li> <li>\u8bf4\u660e:\u6b4c\u66f2\u751f\u6210\u5b8c\u6210\u7684\u56de\u8c03\u901a\u77e5\u5730\u5740</li> </ul>"},{"location":"suno-music/#_20","title":"\u751f\u6210\u6b4c\u8bcd","text":""},{"location":"suno-music/#prompt_1","title":"<code>prompt</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u5fc5\u9700:\u662f</li> <li>\u8bf4\u660e:\u6b4c\u8bcd\u7684\u4e3b\u9898\u6216\u5173\u952e\u8bcd</li> </ul>"},{"location":"suno-music/#notify_hook_1","title":"<code>notify_hook</code>","text":"<ul> <li>\u7c7b\u578b:String  </li> <li>\u5fc5\u9700:\u5426</li> <li>\u8bf4\u660e:\u6b4c\u8bcd\u751f\u6210\u5b8c\u6210\u7684\u56de\u8c03\u901a\u77e5\u5730\u5740</li> </ul>"},{"location":"suno-music/#_21","title":"\u4e0a\u4f20\u97f3\u9891","text":""},{"location":"suno-music/#url","title":"<code>url</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u5fc5\u9700:\u662f  </li> <li>\u8bf4\u660e:\u8981\u4e0a\u4f20\u7684\u97f3\u9891\u6587\u4ef6\u7684 URL \u5730\u5740</li> </ul>"},{"location":"suno-music/#_22","title":"\u6b4c\u66f2\u62fc\u63a5","text":""},{"location":"suno-music/#clip_id","title":"<code>clip_id</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u5fc5\u9700:\u662f</li> <li>\u8bf4\u660e:\u8981\u62fc\u63a5\u7684\u6b4c\u66f2\u7247\u6bb5\u7684 ID</li> </ul>"},{"location":"suno-music/#is_infill","title":"<code>is_infill</code>","text":"<ul> <li>\u7c7b\u578b:Boolean</li> <li>\u5fc5\u9700:\u5426</li> <li>\u8bf4\u660e:\u662f\u5426\u4e3a\u586b\u5145\u6a21\u5f0f  </li> </ul>"},{"location":"suno-music/#_23","title":"\u4efb\u52a1\u67e5\u8be2","text":""},{"location":"suno-music/#ids","title":"<code>ids</code>","text":"<ul> <li>\u7c7b\u578b:String[]</li> <li>\u5fc5\u9700:\u662f</li> <li>\u8bf4\u660e:\u8981\u67e5\u8be2\u7684\u4efb\u52a1 ID \u5217\u8868</li> </ul>"},{"location":"suno-music/#action","title":"<code>action</code>","text":"<ul> <li>\u7c7b\u578b:String </li> <li>\u5fc5\u9700:\u5426</li> <li>\u8bf4\u660e:\u4efb\u52a1\u7c7b\u578b,\u53ef\u9009\u503c:MUSIC\u3001LYRICS</li> </ul>"},{"location":"suno-music/#_24","title":"\ud83d\udce5 \u54cd\u5e94","text":"<p>\u6240\u6709\u63a5\u53e3\u5747\u8fd4\u56de\u7edf\u4e00\u7684 JSON \u683c\u5f0f\u54cd\u5e94:</p> <pre><code>{\n  \"code\":\"success\",\n  \"message\":\"\",\n  \"data\":\"{{RESULT}}\" \n}\n</code></pre>"},{"location":"suno-music/#_25","title":"\u6210\u529f\u54cd\u5e94","text":""},{"location":"suno-music/#_26","title":"\u57fa\u7840\u54cd\u5e94\u5b57\u6bb5","text":""},{"location":"suno-music/#code","title":"<code>code</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u8bf7\u6c42\u72b6\u6001,success \u4e3a\u6210\u529f </li> </ul>"},{"location":"suno-music/#message","title":"<code>message</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u8bf7\u6c42\u5931\u8d25\u65f6\u7684\u9519\u8bef\u4fe1\u606f</li> </ul>"},{"location":"suno-music/#data","title":"<code>data</code>","text":"<ul> <li>\u7c7b\u578b:\u6839\u636e\u4e0d\u540c\u63a5\u53e3\u800c\u5f02</li> <li>\u8bf4\u660e:\u8bf7\u6c42\u6210\u529f\u65f6\u7684\u8fd4\u56de\u6570\u636e</li> <li>\u751f\u6210\u6b4c\u66f2\u3001\u6b4c\u8bcd\u3001\u4e0a\u4f20\u97f3\u9891\u3001\u6b4c\u66f2\u62fc\u63a5\u63a5\u53e3:\u8fd4\u56de\u4efb\u52a1 ID \u5b57\u7b26\u4e32</li> <li>\u4efb\u52a1\u67e5\u8be2\u63a5\u53e3:\u8fd4\u56de\u4efb\u52a1\u5bf9\u8c61\u6216\u4efb\u52a1\u5bf9\u8c61\u6570\u7ec4</li> </ul>"},{"location":"suno-music/#_27","title":"\u4efb\u52a1\u76f8\u5173\u5bf9\u8c61","text":""},{"location":"suno-music/#_28","title":"\u4efb\u52a1\u5bf9\u8c61","text":""},{"location":"suno-music/#task_id_1","title":"<code>task_id</code>","text":"<ul> <li>\u7c7b\u578b:String  </li> <li>\u8bf4\u660e:\u4efb\u52a1 ID</li> </ul>"},{"location":"suno-music/#notify_hook_2","title":"<code>notify_hook</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u4efb\u52a1\u5b8c\u6210\u540e\u7684\u56de\u8c03\u901a\u77e5\u5730\u5740</li> </ul>"},{"location":"suno-music/#action_1","title":"<code>action</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u4efb\u52a1\u7c7b\u578b,\u53ef\u9009\u503c:MUSIC\u3001LYRICS  </li> </ul>"},{"location":"suno-music/#status","title":"<code>status</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u4efb\u52a1\u72b6\u6001,\u53ef\u9009\u503c:IN_PROGRESS\u3001SUCCESS\u3001FAIL</li> </ul>"},{"location":"suno-music/#fail_reason","title":"<code>fail_reason</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u4efb\u52a1\u5931\u8d25\u539f\u56e0  </li> </ul>"},{"location":"suno-music/#submit_time","title":"<code>submit_time</code>","text":"<ul> <li>\u7c7b\u578b:Integer</li> <li>\u8bf4\u660e:\u4efb\u52a1\u63d0\u4ea4\u65f6\u95f4\u6233</li> </ul>"},{"location":"suno-music/#start_time","title":"<code>start_time</code>","text":"<ul> <li>\u7c7b\u578b:Integer </li> <li>\u8bf4\u660e:\u4efb\u52a1\u5f00\u59cb\u65f6\u95f4\u6233</li> </ul>"},{"location":"suno-music/#finish_time","title":"<code>finish_time</code>","text":"<ul> <li>\u7c7b\u578b:Integer</li> <li>\u8bf4\u660e:\u4efb\u52a1\u7ed3\u675f\u65f6\u95f4\u6233 </li> </ul>"},{"location":"suno-music/#progress","title":"<code>progress</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u4efb\u52a1\u8fdb\u5ea6\u767e\u5206\u6bd4</li> </ul>"},{"location":"suno-music/#data_1","title":"<code>data</code>","text":"<ul> <li>\u7c7b\u578b:\u6839\u636e\u4efb\u52a1\u7c7b\u578b\u4e0d\u540c\u800c\u5f02 </li> <li>\u8bf4\u660e:</li> <li>\u97f3\u4e50\u751f\u6210\u4efb\u52a1:\u6b4c\u66f2\u5bf9\u8c61\u6570\u7ec4</li> <li>\u6b4c\u8bcd\u751f\u6210\u4efb\u52a1:\u6b4c\u8bcd\u5bf9\u8c61  </li> </ul>"},{"location":"suno-music/#_29","title":"\u6b4c\u66f2\u5bf9\u8c61","text":""},{"location":"suno-music/#id","title":"<code>id</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u6b4c\u66f2 ID</li> </ul>"},{"location":"suno-music/#title_1","title":"<code>title</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u6b4c\u66f2\u6807\u9898</li> </ul>"},{"location":"suno-music/#status_1","title":"<code>status</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u6b4c\u66f2\u72b6\u6001 </li> </ul>"},{"location":"suno-music/#metadata","title":"<code>metadata</code>","text":"<ul> <li>\u7c7b\u578b:Object</li> <li>\u8bf4\u660e:\u6b4c\u66f2\u5143\u6570\u636e</li> <li>tags:\u6b4c\u66f2\u98ce\u683c\u6807\u7b7e</li> <li>prompt:\u751f\u6210\u6b4c\u66f2\u4f7f\u7528\u7684\u6b4c\u8bcd</li> <li>duration:\u6b4c\u66f2\u65f6\u957f</li> <li>error_type:\u9519\u8bef\u7c7b\u578b</li> <li>error_message:\u9519\u8bef\u4fe1\u606f</li> <li>audio_prompt_id:\u97f3\u9891 prompt ID</li> <li>gpt_description_prompt:\u7075\u611f\u6765\u6e90\u63cf\u8ff0</li> </ul>"},{"location":"suno-music/#audio_url","title":"<code>audio_url</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u6b4c\u66f2\u97f3\u9891\u7684 URL \u5730\u5740</li> </ul>"},{"location":"suno-music/#image_url","title":"<code>image_url</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u6b4c\u66f2\u5c01\u9762\u56fe\u7684 URL \u5730\u5740  </li> </ul>"},{"location":"suno-music/#video_url","title":"<code>video_url</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u6b4c\u66f2\u89c6\u9891\u7684 URL \u5730\u5740</li> </ul>"},{"location":"suno-music/#model_name","title":"<code>model_name</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u751f\u6210\u6b4c\u66f2\u4f7f\u7528\u7684\u6a21\u578b\u540d\u79f0</li> </ul>"},{"location":"suno-music/#major_model_version","title":"<code>major_model_version</code>","text":"<ul> <li>\u7c7b\u578b:String </li> <li>\u8bf4\u660e:\u6a21\u578b\u4e3b\u7248\u672c\u53f7</li> </ul>"},{"location":"suno-music/#_30","title":"\u6b4c\u8bcd\u5bf9\u8c61","text":""},{"location":"suno-music/#id_1","title":"<code>id</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u6b4c\u8bcd ID</li> </ul>"},{"location":"suno-music/#text","title":"<code>text</code>","text":"<ul> <li>\u7c7b\u578b:String </li> <li>\u8bf4\u660e:\u6b4c\u8bcd\u5185\u5bb9</li> </ul>"},{"location":"suno-music/#title_2","title":"<code>title</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u6b4c\u8bcd\u6807\u9898  </li> </ul>"},{"location":"suno-music/#status_2","title":"<code>status</code>","text":"<ul> <li>\u7c7b\u578b:String</li> <li>\u8bf4\u660e:\u6b4c\u8bcd\u72b6\u6001</li> </ul>"},{"location":"suno-music/#_31","title":"\ud83c\udf1f \u6700\u4f73\u5b9e\u8df5","text":"<ol> <li> <p>\u63d0\u4f9b\u5c3d\u91cf\u8be6\u7ec6 \u3001\u5177\u4f53\u7684\u6b4c\u66f2\u6216\u6b4c\u8bcd\u751f\u6210\u63d0\u793a,\u907f\u514d\u8fc7\u4e8e\u7b3c\u7edf\u6216\u62bd\u8c61</p> </li> <li> <p>\u67e5\u8be2\u4efb\u52a1\u72b6\u6001\u65f6,\u8f6e\u8be2\u95f4\u9694\u5efa\u8bae\u4e3a 2-5 \u79d2,\u907f\u514d\u8fc7\u4e8e\u9891\u7e41</p> </li> <li> <p>\u7075\u611f\u6a21\u5f0f\u4ec5\u9700\u63d0\u4f9b gpt_description_prompt \u53c2\u6570,API \u4f1a\u81ea\u52a8\u751f\u6210\u6b4c\u8bcd\u3001\u6807\u9898\u3001\u6807\u7b7e\u7b49</p> </li> <li> <p>\u81ea\u5b9a\u4e49\u6a21\u5f0f\u9700\u8981\u63d0\u4f9b prompt\u3001title\u3001tags \u53c2\u6570,\u53ef\u4ee5\u5bf9\u6b4c\u66f2\u6709\u66f4\u591a\u63a7\u5236</p> </li> <li> <p>\u5c3d\u91cf\u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684\u6a21\u578b(\u5982 chirp-v4),\u6548\u679c\u4f1a\u66f4\u597d</p> </li> <li> <p>\u4f7f\u7528\u56de\u8c03\u901a\u77e5\u529f\u80fd(notify_hook \u53c2\u6570)\u53ef\u4ee5\u964d\u4f4e\u8f6e\u8be2\u9891\u7387,\u63d0\u9ad8\u6548\u7387</p> </li> <li> <p>\u97f3\u4e50\u7eed\u5199\u3001\u62fc\u63a5\u529f\u80fd\u53ef\u4ee5\u5728\u539f\u6709\u97f3\u4e50\u57fa\u7840\u4e0a,\u751f\u6210\u66f4\u52a0\u4e30\u5bcc\u3001\u5b8c\u6574\u7684\u4f5c\u54c1</p> </li> <li> <p>\u6ce8\u610f\u5904\u7406\u53ef\u80fd\u51fa\u73b0\u7684\u5f02\u5e38\u548c\u9519\u8bef,\u5982\u7f51\u7edc\u8d85\u65f6\u3001\u53c2\u6570\u6821\u9a8c\u5931\u8d25\u7b49</p> </li> </ol>"},{"location":"xinference-rerank/","title":"Xinference \u91cd\u6392\u5e8f\u683c\u5f0f\uff08Rerank\uff09","text":"<p>\u91cd\u8981\u63d0\u793a</p> <p>\u5728API\u4e2d\uff0cXinference\u7684rerank\u54cd\u5e94\u7ed3\u6784\u5c06\u88ab\u683c\u5f0f\u5316\u4e3aJina\u7684rerank\u54cd\u5e94\u7ed3\u6784\uff0c\u4f7f\u7528\u65b9\u5f0f\u548cJina\u7684rerank\u76f8\u540c\u3002\u5bf9\u4e8eDify\u7b49\u5ba2\u6237\u7aef\u7528\u6237\uff1a\u5728\u914d\u7f6e\u65f6\u8bf7\u9009\u62e9 Jina AI \u4f5c\u4e3a\u4f9b\u5e94\u5546\u7c7b\u578b\uff0c\u800c\u4e0d\u662fXinference\uff0c\u5e76\u4f7f\u7528Xinference\u652f\u6301\u7684\u6a21\u578b\u540d\u79f0\u3002</p>"},{"location":"xinference-rerank/#_1","title":"\ud83d\udcdd \u7b80\u4ecb","text":"<p>Xinference\u7684\u91cd\u6392\u5e8fAPI\u4e0eJina AI\u7684\u91cd\u6392\u5e8fAPI\u5b8c\u5168\u517c\u5bb9\u3002\u8bf7\u53c2\u8003Jina AI \u91cd\u6392\u5e8f\u683c\u5f0f\uff08Rerank\uff09\u6587\u6863\u4e86\u89e3\u8be6\u7ec6\u7684\u4f7f\u7528\u65b9\u6cd5\u3001\u8bf7\u6c42\u53c2\u6570\u548c\u54cd\u5e94\u683c\u5f0f\u3002</p>"},{"location":"xinference-rerank/#_2","title":"\ud83d\udca1 \u4f7f\u7528\u65b9\u6cd5","text":"<p>\u4f7f\u7528Xinference\u91cd\u6392\u5e8fAPI\u65f6\uff0c\u53ea\u9700\u5c06<code>model</code>\u53c2\u6570\u8bbe\u7f6e\u4e3aXinference\u652f\u6301\u7684\u91cd\u6392\u5e8f\u6a21\u578b\u5373\u53ef\uff0c\u5176\u4f59\u53c2\u6570\u548c\u4f7f\u7528\u65b9\u5f0f\u4e0eJina AI\u91cd\u6392\u5e8fAPI\u76f8\u540c\u3002</p>"},{"location":"xinference-rerank/#_3","title":"\u793a\u4f8b\u8bf7\u6c42","text":"<pre><code>curl https://\u4f60\u7684api\u670d\u52a1\u5668\u5730\u5740/v1/rerank \\\n  -H \"Authorization: Bearer $API_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"model\": \"jina-reranker-v2\",\n    \"query\": \"\u4ec0\u4e48\u662f\u7f8e\u56fd\u7684\u9996\u90fd\uff1f\",\n    \"documents\": [\n      \"\u5185\u534e\u8fbe\u5dde\u7684\u9996\u5e9c\u662f\u5361\u68ee\u57ce\u3002\",\n      \"\u5317\u9a6c\u91cc\u4e9a\u7eb3\u7fa4\u5c9b\u662f\u592a\u5e73\u6d0b\u4e0a\u7684\u4e00\u7ec4\u5c9b\u5c7f\uff0c\u5176\u9996\u90fd\u662f\u585e\u73ed\u5c9b\u3002\",\n      \"\u534e\u76db\u987f\u7279\u533a\uff08\u4e5f\u79f0\u4e3a\u534e\u76db\u987f\u6216\u7279\u533a\uff0c\u6b63\u5f0f\u540d\u79f0\u4e3a\u54e5\u4f26\u6bd4\u4e9a\u7279\u533a\uff09\u662f\u7f8e\u56fd\u7684\u9996\u90fd\u3002\",\n      \"\u82f1\u8bed\u8bed\u6cd5\u4e2d\u7684\u5927\u5199\u662f\u5728\u5355\u8bcd\u5f00\u5934\u4f7f\u7528\u5927\u5199\u5b57\u6bcd\u3002\u82f1\u8bed\u7528\u6cd5\u4e0e\u5176\u4ed6\u8bed\u8a00\u7684\u5927\u5199\u4e0d\u540c\u3002\",\n      \"\u81ea\u7f8e\u56fd\u6210\u4e3a\u4e00\u4e2a\u56fd\u5bb6\u4e4b\u524d\uff0c\u7f8e\u56fd\u5c31\u5b58\u5728\u6b7b\u5211\u3002\u622a\u81f32017\u5e74\uff0c\u572850\u4e2a\u5dde\u4e2d\u670930\u4e2a\u5dde\u6b7b\u5211\u5408\u6cd5\u3002\"\n    ],\n    \"top_n\": 3\n  }'\n</code></pre> <p>\u6709\u5173\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003Jina AI \u91cd\u6392\u5e8f\u683c\u5f0f\uff08Rerank\uff09\u6587\u6863\u3002</p>"}]}